<!DOCTYPE HTML>
<html lang="zh-CN" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>棒棒彬的第二大脑</title>
    <meta name="robots" content="noindex" />
    <!-- Custom HTML head -->
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="favicon.svg">
    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
    <link rel="stylesheet" href="css/print.css" media="print">
    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="fonts/fonts.css">
    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
</head>

<body>
    <!-- Provide site root to javascript -->
    <script type="text/javascript">
        var path_to_root = "";
        var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
    </script>

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    <script type="text/javascript">
        try {
            var theme = localStorage.getItem('mdbook-theme');
            var sidebar = localStorage.getItem('mdbook-sidebar');

            if (theme.startsWith('"') && theme.endsWith('"')) {
                localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
            }

            if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
            }
        } catch (e) { }
    </script>

    <!-- Set the theme before any content is loaded, prevents flash -->
    <script type="text/javascript">
        var theme;
        try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
        if (theme === null || theme === undefined) { theme = default_theme; }
        var html = document.querySelector('html');
        html.classList.remove('no-js')
        html.classList.remove('light')
        html.classList.add(theme);
        html.classList.add('js');
    </script>

    <!-- Hide / unhide sidebar before it is displayed -->
    <script type="text/javascript">
        var html = document.querySelector('html');
        var sidebar = 'hidden';
        if (document.body.clientWidth >= 1080) {
            try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
            sidebar = sidebar || 'visible';
        }
        html.classList.remove('sidebar-visible');
        html.classList.add("sidebar-" + sidebar);
    </script>

    <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div class="sidebar-scrollbox">
            <ol class="chapter"><li class="chapter-item expanded affix "><a href="Introduction.html">首页</a></li><li class="chapter-item expanded affix "><a href="meta/meta.html">元信息</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="education/education.html"><strong aria-hidden="true">1.</strong> 终身学习&amp;通识教育</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="education/reading/reading.html"><strong aria-hidden="true">1.1.</strong> 通识阅读</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="education/reading/a-whole-new-mind.html"><strong aria-hidden="true">1.1.1.</strong> 《全新思维》</a></li><li class="chapter-item expanded "><a href="education/reading/act-like-a-leader.html"><strong aria-hidden="true">1.1.2.</strong> 《能力陷阱》</a></li></ol></li><li class="chapter-item expanded "><a href="education/language.html"><strong aria-hidden="true">1.2.</strong> 世界语言</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.3.</strong> 知识管理</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="education/anki.html"><strong aria-hidden="true">1.3.1.</strong> Anki</a></li><li class="chapter-item expanded "><a href="education/second-brain-podcast.html"><strong aria-hidden="true">1.3.2.</strong> 构建第二大脑播客</a></li></ol></li><li class="chapter-item expanded "><a href="productivity/productivity.html"><strong aria-hidden="true">1.4.</strong> 时间管理</a></li></ol></li><li class="chapter-item expanded "><a href="infrastructure/infrastructure.html"><strong aria-hidden="true">2.</strong> 基础利器</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="macOS/macOS.html"><strong aria-hidden="true">2.1.</strong> macOS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="macOS/alfred.html"><strong aria-hidden="true">2.1.1.</strong> Alfred</a></li><li class="chapter-item expanded "><a href="macOS/snippetsLab.html"><strong aria-hidden="true">2.1.2.</strong> SnippetsLab</a></li><li class="chapter-item expanded "><a href="macOS/contexts.html"><strong aria-hidden="true">2.1.3.</strong> Contexts</a></li><li class="chapter-item expanded "><a href="macOS/homebrew.html"><strong aria-hidden="true">2.1.4.</strong> Homebrew</a></li><li class="chapter-item expanded "><a href="macOS/clion.html"><strong aria-hidden="true">2.1.5.</strong> CLion</a></li></ol></li><li class="chapter-item expanded "><a href="linux/linux.html"><strong aria-hidden="true">2.2.</strong> Linux</a></li><li class="chapter-item expanded "><a href="cli/cli.html"><strong aria-hidden="true">2.3.</strong> 命令行</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cli/vim.html"><strong aria-hidden="true">2.3.1.</strong> Vim</a></li><li class="chapter-item expanded "><a href="cli/git-quick-checklist.html"><strong aria-hidden="true">2.3.2.</strong> Git 常用命令速查清单</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="cs/cs.html"><strong aria-hidden="true">3.</strong> 计算机科学</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> 课程记录</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="cs/class/cs110l.html"><strong aria-hidden="true">3.1.1.</strong> CS 110L: Safety in Systems Programming</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester.html"><strong aria-hidden="true">3.1.2.</strong> The Missing Semester of Your CS Education</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cs/class/missing-semester/course-shell.html"><strong aria-hidden="true">3.1.2.1.</strong> Course overview + the shell</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/shell-tools.html"><strong aria-hidden="true">3.1.2.2.</strong> Shell Tools and Scripting</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/editors.html"><strong aria-hidden="true">3.1.2.3.</strong> Editors (Vim)</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/data-wrangling.html"><strong aria-hidden="true">3.1.2.4.</strong> Data Wrangling</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/command-line.html"><strong aria-hidden="true">3.1.2.5.</strong> Command-line Environment</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/version-control.html"><strong aria-hidden="true">3.1.2.6.</strong> Version Control (Git)</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/debugging-profiling.html"><strong aria-hidden="true">3.1.2.7.</strong> Debugging and Profiling</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/metaprogramming.html"><strong aria-hidden="true">3.1.2.8.</strong> Metaprogramming</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/security.html"><strong aria-hidden="true">3.1.2.9.</strong> Security and Cryptography</a></li><li class="chapter-item expanded "><a href="cs/class/missing-semester/potpourri.html"><strong aria-hidden="true">3.1.2.10.</strong> Potpourri</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="programming-languages/programming-languages.html"><strong aria-hidden="true">3.2.</strong> 编程语言</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="programming-languages/swift/swift.html"><strong aria-hidden="true">3.2.1.</strong> Swift</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="programming-languages/swift/what's-new-5-4.html"><strong aria-hidden="true">3.2.1.1.</strong> Swift 5.4 新特性速查</a></li><li class="chapter-item expanded "><a href="programming-languages/swift/advanced-swift.html"><strong aria-hidden="true">3.2.1.2.</strong> 《Swift 进阶》阅读纪要</a></li><li class="chapter-item expanded "><a href="programming-languages/swift/swift-method-dispatch-notes.html"><strong aria-hidden="true">3.2.1.3.</strong> Swift 方法派发纪要</a></li><li class="chapter-item expanded "><a href="programming-languages/swift/concurrency.html"><strong aria-hidden="true">3.2.1.4.</strong> Concurrency</a></li></ol></li><li class="chapter-item expanded "><a href="programming-languages/rust/rust.html"><strong aria-hidden="true">3.2.2.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="programming-languages/rust/concepts/closure.html"><strong aria-hidden="true">3.2.2.1.</strong> 化解神奇的闭包</a></li><li class="chapter-item expanded "><a href="programming-languages/rust/concepts/interior_mutability_and_cells.html"><strong aria-hidden="true">3.2.2.2.</strong> Rust 中的可变与不可变以及 Cell 的使用</a></li><li class="chapter-item expanded "><a href="programming-languages/rust/concepts/move_copy_borrow.html"><strong aria-hidden="true">3.2.2.3.</strong> Move&amp;Copy&amp;Borrow 可视化</a></li><li class="chapter-item expanded "><a href="programming-languages/rust/concepts/memory_layout.html"><strong aria-hidden="true">3.2.2.4.</strong> 内存布局可视化</a></li><li class="chapter-item expanded "><a href="programming-languages/rust/concepts/async_await.html"><strong aria-hidden="true">3.2.2.5.</strong> Async/Await</a></li><li class="chapter-item expanded "><a href="programming-languages/rust/concepts/pin_unpin.html"><strong aria-hidden="true">3.2.2.6.</strong> Pin/Unpin</a></li><li class="chapter-item expanded "><a href="programming-languages/rust/tao-of-rust.html"><strong aria-hidden="true">3.2.2.7.</strong> 《Rust 编程之道》阅读纪要</a></li></ol></li><li class="chapter-item expanded "><a href="programming-languages/c-style/c-style.html"><strong aria-hidden="true">3.2.3.</strong> C/C++/Objective-C</a></li></ol></li><li class="chapter-item expanded "><a href="cs/algrithoms.html"><strong aria-hidden="true">3.3.</strong> 数据结构与算法</a></li><li class="chapter-item expanded "><a href="cs/compiliers.html"><strong aria-hidden="true">3.4.</strong> 编译原理</a></li><li class="chapter-item expanded "><a href="cs/networking/networking.html"><strong aria-hidden="true">3.5.</strong> 网络</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cs/networking/tcp.html"><strong aria-hidden="true">3.5.1.</strong> TCP</a></li></ol></li><li class="chapter-item expanded "><a href="cs/database.html"><strong aria-hidden="true">3.6.</strong> 数据库</a></li><li class="chapter-item expanded "><a href="cs/terminology.html"><strong aria-hidden="true">3.7.</strong> 术语汇总</a></li></ol></li><li class="chapter-item expanded "><a href="software-development/software-development.html"><strong aria-hidden="true">4.</strong> 软件开发</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="software-development/engineering.html"><strong aria-hidden="true">4.1.</strong> 工程效率</a></li><li class="chapter-item expanded "><a href="iOSDev/iOSDev.html"><strong aria-hidden="true">4.2.</strong> iOS 开发</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="iOSDev/architecture.html"><strong aria-hidden="true">4.2.1.</strong> 架构设计</a></li><li class="chapter-item expanded "><a href="iOSDev/threading-programming/threading-programming.html"><strong aria-hidden="true">4.2.2.</strong> 多线程编程</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="iOSDev/threading-programming/about.html"><strong aria-hidden="true">4.2.2.1.</strong> 关于多线程编程</a></li><li class="chapter-item expanded "><a href="iOSDev/threading-programming/thread-management.html"><strong aria-hidden="true">4.2.2.2.</strong> 线程管理</a></li><li class="chapter-item expanded "><a href="iOSDev/threading-programming/run-loops.html"><strong aria-hidden="true">4.2.2.3.</strong> Run Loops</a></li><li class="chapter-item expanded "><a href="iOSDev/threading-programming/synchronization.html"><strong aria-hidden="true">4.2.2.4.</strong> 线程同步</a></li></ol></li><li class="chapter-item expanded "><a href="iOSDev/performance.html"><strong aria-hidden="true">4.2.3.</strong> 性能优化</a></li><li class="chapter-item expanded "><a href="iOSDev/build-optimization.html"><strong aria-hidden="true">4.2.4.</strong> 编译优化</a></li><li class="chapter-item expanded "><a href="iOSDev/ui-layout.html"><strong aria-hidden="true">4.2.5.</strong> 视图布局</a></li><li class="chapter-item expanded "><a href="iOSDev/swift-ui.html"><strong aria-hidden="true">4.2.6.</strong> SwiftUI</a></li><li class="chapter-item expanded "><a href="iOSDev/database.html"><strong aria-hidden="true">4.2.7.</strong> 数据库</a></li><li class="chapter-item expanded "><a href="iOSDev/av.html"><strong aria-hidden="true">4.2.8.</strong> 音视频</a></li><li class="chapter-item expanded "><a href="iOSDev/community.html"><strong aria-hidden="true">4.2.9.</strong> 开发社区</a></li><li class="chapter-item expanded "><a href="iOSDev/xcode.html"><strong aria-hidden="true">4.2.10.</strong> Xcode</a></li><li class="chapter-item expanded "><a href="iOSDev/apps.html"><strong aria-hidden="true">4.2.11.</strong> iOS 应用</a></li></ol></li><li class="chapter-item expanded "><a href="software-development/android.html"><strong aria-hidden="true">4.3.</strong> Android 开发</a></li></ol></li><li class="chapter-item expanded "><a href="life/life.html"><strong aria-hidden="true">5.</strong> 丰富生活</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="life/stories.html"><strong aria-hidden="true">5.1.</strong> 故事</a></li></ol></li><li class="chapter-item expanded "><a href="work/work.html"><strong aria-hidden="true">6.</strong> 积极工作</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="work/job-hunt.html"><strong aria-hidden="true">6.1.</strong> 求职</a></li><li class="chapter-item expanded "><a href="work/career.html"><strong aria-hidden="true">6.2.</strong> 职场发展</a></li><li class="chapter-item expanded "><a href="work/remote.html"><strong aria-hidden="true">6.3.</strong> 远程工作</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="work/articles/how-to-get-a-remote-job-by-writing-in-english.html"><strong aria-hidden="true">6.3.1.</strong> 如何通过英文写作找到国外的远程工作机会</a></li></ol></li><li class="chapter-item expanded "><a href="work/slashie.html"><strong aria-hidden="true">6.4.</strong> 延伸拓展</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="product/product.html"><strong aria-hidden="true">6.4.1.</strong> 产品</a></li><li class="chapter-item expanded "><a href="design/design.html"><strong aria-hidden="true">6.4.2.</strong> 设计</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="open-source/open-source.html"><strong aria-hidden="true">7.</strong> 开源世界</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="open-source/github.html"><strong aria-hidden="true">7.1.</strong> GitHub</a></li><li class="chapter-item expanded "><a href="open-source/meet-geniuses.html"><strong aria-hidden="true">7.2.</strong> 遇见天才</a></li></ol></li></ol>
        </div>
        <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
    </nav>

    <div id="page-wrapper" class="page-wrapper">

        <div class="page">
            <div id="menu-bar-hover-placeholder"></div>
            <div id="menu-bar" class="menu-bar sticky bordered">
                <div class="left-buttons">
                    <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                        <i class="fa fa-bars"></i>
                    </button>
                    <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                        <i class="fa fa-paint-brush"></i>
                    </button>
                    <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                        <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button>
                        </li>
                    </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                        aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                        aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
                </div>

                <h1 class="menu-title">棒棒彬的第二大脑</h1>

                <div class="right-buttons">
                    <a href="print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/Binlogo/Knowledge-Track" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-github"></i>
                    </a>
                </div>
            </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                        aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
            <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
            <script type="text/javascript">
                document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                    link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                });
            </script>

            <div id="content" class="content">
                <main>
                    <h1 id="首页"><a class="header" href="#首页">首页</a></h1>
<p>Hi, there. 欢迎来到棒棒彬的第二大脑，藏在这儿都被你发现了，缘分有了，“飞起来”<a href="https://www.feishu.cn/invitation/page/add_contact/?token=048m92c5-3f27-4519-90b6-ca498e852a45&amp;unique_id=_mg4cY7_8zKNeA2a6eg0Bg==">交个朋友</a>吧。</p>
<p>这里会记录我希望记住的一些知识性的内容，不定时更新。</p>
<p>体系结构大致如下：</p>
<p><img src="./.assets/structure.png" alt="第二大脑知识体系结构" /></p>
<p>若能对路过的你也能帮助一二，那再好不过了。</p>
<h2 id="使用说明"><a class="header" href="#使用说明">使用说明</a></h2>
<ul>
<li>👈 通过侧边栏的层级导航菜单可以快速了解大概的知识体系</li>
<li>按下「S」键可快速搜索</li>
</ul>
<h2 id="技术参考周刊"><a class="header" href="#技术参考周刊">技术参考周刊</a></h2>
<blockquote>
<p>分享个人技术见闻，棒棒彬的第二大脑<strong>突触</strong></p>
</blockquote>
<p>以知识增量的方式，从时间维度衍生的语雀在线周刊，欢迎 <a href="https://www.yuque.com/binboy/increment-magzine">关注订阅</a></p>
<h2 id="关于我"><a class="header" href="#关于我">关于我</a></h2>
<p>若有兴趣了解和认识我，这儿有个「<a href="https://binlogo.github.io/">年更博客</a>」。</p>
<div style="break-before: page; page-break-before: always;"></div><p>希望这里将会是我真正意义上的第二大脑。</p>
<blockquote>
<p>弱水三千，取一瓢饮。</p>
</blockquote>
<h1 id="笔记流程"><a class="header" href="#笔记流程">笔记流程</a></h1>
<blockquote>
<p>Input -&gt; Process -&gt; Output</p>
</blockquote>
<p>滴答清单输入，幕布加工，GitHub 输出</p>
<h1 id="内容结构"><a class="header" href="#内容结构">内容结构</a></h1>
<ol>
<li>标题</li>
<li>描述</li>
<li>相关内容</li>
<li>记录正文</li>
<li>链接</li>
<li>评论交流</li>
</ol>
<blockquote>
<p>评论系统采用 <a href="https://giscus.app/">giscus</a> 搭建，基于 <a href="https://docs.github.com/discussions">GitHub Discussions</a> 驱动</p>
</blockquote>
<h2 id="笔记概要"><a class="header" href="#笔记概要">笔记概要</a></h2>
<p>部分精华内容阅读后，可采用以下方式进行摘要记录，内容支持展开或折叠。</p>
<pre><code class="language-html">&lt;details&gt;
  &lt;summary&gt;笔记概览&lt;/summary&gt;
  
  记录笔记内容
&lt;/details&gt;
</code></pre>
<h1 id="搭建记录与发布"><a class="header" href="#搭建记录与发布">搭建、记录与发布</a></h1>
<ul>
<li>
<p><a href="https://code.visualstudio.com/">VS Code</a> + <a href="https://typora.io/">Typora</a> 书写 ✍️</p>
</li>
<li>
<p><a href="https://github.com/rust-lang/mdBook">mdBook</a> 生成 🧰</p>
</li>
<li>
<p><a href="https://pages.github.com/">GitHub Pages</a> 发布 🌏</p>
</li>
</ul>
<blockquote>
<p>采用<strong>免费的</strong> <a href="https://github.com/features/actions">GitHub Actions</a> 自动化部署</p>
</blockquote>
<h1 id="知识体系"><a class="header" href="#知识体系">知识体系</a></h1>
<p><img src="meta/./assets/knowledge_hierarchy.png" alt="Knowledge Hierachy" /></p>
<h3 id="知识栈的不同层级"><a class="header" href="#知识栈的不同层级">知识栈的不同层级</a></h3>
<pre><code class="language-bash">（↑实践）
############################################################
L3 (domain knowlege)     | L3-1 | L3-2  |  |  L3-3 | L3-4 | 
#########################|##############|##|##############|#
L2 (practice knowledge)  |    L2-1      |  |     L2-2     | 
############################################################
L1 (general knowlege)
###################################
L0（low-level knowledge)
###########################
（↓理论）
</code></pre>
<ul>
<li>L0：底层基础层，一般而言较少直接触及，或者说多是潜移默化地应用</li>
<li>L1：通用知识层，只要涉及当前领域就需要掌握的基础知识</li>
<li>L2：实践层，在领域上的初步分化</li>
<li>L3：领域层，专业细化的领域知识</li>
</ul>
<h1 id="学习金字塔理论"><a class="header" href="#学习金字塔理论">学习金字塔理论</a></h1>
<blockquote>
<p>在初次学习两个星期后:</p>
<ul>
<li>通过阅读学习能够记住内容的 10%；</li>
<li>通过听讲学习能够记住内容的 20%；</li>
<li>通过图片学习能够记住内容的 30%；</li>
<li>通过影像、展览、示范、现场观摩来学习能够记住 50%；</li>
<li>参与讨论、提问、发言等方式能够记住 70%；</li>
<li>做报告、教学、模拟体验、实际操作能够记住 90%。</li>
</ul>
</blockquote>
<p><img src="meta/./assets/cone_of_learning.png" alt="ConeofLearning: 学习金字塔示意图" /></p>
<p>主动学习：Learning by doing &amp; sharing &amp; teaching.</p>
<h1 id="构建第二大脑"><a class="header" href="#构建第二大脑">构建第二大脑</a></h1>
<ul>
<li><a href="https://www.youtube.com/watch?v=SjZSy8s2VEE">Building a Second Brain: Capturing, Organizing, and Sharing Knowledge Using Digital Notes</a></li>
</ul>
<p><img src="meta/./assets/building_second_brain_methodology.jpg" alt="构建第二大脑" /></p>
<p>关键字：<strong>记录</strong>、<strong>链接</strong>、<strong>激发</strong></p>
<p><img src="meta/./assets/first_brain_for_situational_awareness.jpg" alt="第一大脑" /></p>
<p>关键字：<strong>洞察</strong>、<strong>判断</strong>、<strong>觉知</strong></p>
<h1 id="不断优化提升"><a class="header" href="#不断优化提升">不断优化提升</a></h1>
<p><img src="meta/./assets/improvement_cycle.png" alt="优化提升示意图" /></p>
<blockquote>
<p>源自: https://tyrchen.github.io/rust-training/rust-training-all-in-one-cn.html#4 </p>
</blockquote>
<h2 id="链接"><a class="header" href="#链接">链接</a></h2>
<ul>
<li><a href="https://jingwei.link/2020/04/05/learning-methodology.html">职场人士应该学什么以及学习方法（编码领域）</a></li>
<li><a href="https://mp.weixin.qq.com/s/0tLF_cTbLGgQr1_-kNPFXg">我们如何获取信息，组织知识</a> - by 产品沉思录</li>
<li><a href="https://mp.weixin.qq.com/s/lioyPd8RRv3XUyTkaJFDDQ">我的阅读工作流(2021版)</a> - by 潦草学者
<img src="meta/./assets/reading_flow.webp" alt="阅读工作流" /></li>
</ul>
<h3 id="其他大脑传送带"><a class="header" href="#其他大脑传送带">其他大脑传送带</a></h3>
<ul>
<li><a href="https://wiki.nikitavoloboev.xyz/">Everything I know by Nikita Voloboev</a> - 最初建设的重要灵感来源之一</li>
<li><a href="https://davidseah.gitbook.io/davidseah/">David Seah</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="教育"><a class="header" href="#教育">教育</a></h1>
<p>终身学习，寓教于学，关注新时代教育趋势。</p>
<h3 id="推荐"><a class="header" href="#推荐">推荐</a></h3>
<p>全球知名 MOOC 课程提供方，汇聚知名高等学府教学资源，可选获取学习证书。</p>
<ul>
<li><a href="https://www.coursera.org/">Coursera</a> - 部分本地化做得比较好，非全英文，偏向工程、技能</li>
<li><a href="https://www.edx.org/">edX</a> - 几乎全英文，较多美国高校课程</li>
<li><a href="https://www.futurelearn.com/">FutureLearn</a> - 较多英国高校课程</li>
</ul>
<h2 id="链接-1"><a class="header" href="#链接-1">链接</a></h2>
<ul>
<li><a href="http://www.stanford2025.com/">Stanford 2025</a> - 斯坦福 2025 计划，探索未来全新高等教育可能</li>
</ul>
<h3 id="计算机互联网"><a class="header" href="#计算机互联网">计算机&amp;互联网</a></h3>
<ul>
<li><a href="https://exercism.org/">Exercism.org</a> - 开源&amp;非盈利的编程语言练习平台，导师代码评审</li>
<li><a href="https://docs.microsoft.com/learn/">微软 - Microsoft Learn</a></li>
<li><a href="https://www.udacity.com/">优达学城 - Udacity</a> - 曾以「优达学城」的品牌在中国市场推广，似乎还是水土不服，不再中文本地化</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="阅读"><a class="header" href="#阅读">阅读</a></h1>
<blockquote>
<p>书中自有大千世界</p>
</blockquote>
<h2 id="已读"><a class="header" href="#已读">已读</a></h2>
<ul>
<li><a href="education/reading/./a-whole-new-mind.html">《全新思维：决胜未来的6大能力》-阅读书摘</a></li>
<li><a href="education/reading/./act-like-a-leader.html">《能力陷阱》</a></li>
<li><a href="https://share.mubu.com/doc/3Z_TcCcCut8">​《刷新》- 阅读书摘幕布导图</a></li>
</ul>
<h2 id="在读"><a class="header" href="#在读">在读</a></h2>
<ul>
<li><a href="https://book.douban.com/subject/35055885/">《程序员修炼之道――从小工到专家（20周年纪念版）（第2版）（英文版）》</a></li>
</ul>
<h2 id="想读"><a class="header" href="#想读">想读</a></h2>
<ul>
<li><a href="https://livebook.manning.com/book/the-programmers-brain/the-programmer-s-brain/">《The Programmer's Brain》</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="全新思维决胜未来的6大能力-阅读书摘"><a class="header" href="#全新思维决胜未来的6大能力-阅读书摘">《全新思维：决胜未来的6大能力》 阅读书摘</a></h1>
<p><a href="https://share.mubu.com/doc/4AWsCnsqDO8">幕布思维导图版</a></p>
<h2 id="第一部分-为什么要拥有全新思维"><a class="header" href="#第一部分-为什么要拥有全新思维">第一部分 为什么要拥有全新思维</a></h2>
<h3 id="01-概念时代右脑思维的崛起"><a class="header" href="#01-概念时代右脑思维的崛起">01 概念时代，右脑思维的崛起</a></h3>
<ul>
<li>
<p><strong>左脑思维</strong>：具有典型的左脑特征，即<strong>顺序性</strong>、<strong>表面性</strong>、<strong>功能性</strong>、<strong>文本性</strong>和<strong>分析性</strong>。这一思维方式在信息时代广受欢迎，得到了严肃机构和学校的高度重视，其典型代表是电脑程序员。</p>
</li>
<li>
<p><strong>右脑思维</strong>：具有典型的右脑特征，即<strong>同步性</strong>、<strong>隐语性</strong>、<strong>审美性</strong>、<strong>语境性</strong>和<strong>综合性</strong>。这一思维方式在信息时代并未得到足够重视，被各个机构和学校所忽略，其典型代表是发明家和护理员。</p>
</li>
<li>
<p>左脑负责顺序推理，擅长分析和文字处理；而右脑负责整体推理、模式识别以及领会各种情绪和非语言类表达。</p>
</li>
<li>
<p>狐狸知道很多事情，而刺猬只知道一件大事。</p>
</li>
<li>
<p>左脑尤其擅长识别连续事件，即一个接一个发生的事件，以及控制行为发生的次序，还擅长控制序列行为，比如语言活动中的说话、理解他人的话语以及阅读和写作。</p>
</li>
<li>
<p>左脑专注于理解字面含义，而右脑专注于领会情境、语境。</p>
</li>
<li>
<p>左脑控制说什么，而右脑控制如何说</p>
</li>
<li>
<p>左脑分析细节，右脑综观全局。</p>
</li>
<li>
<p>即便有着不同的文化背景，大多数人也都是用相同的表情表达相同的情感。</p>
</li>
<li>
<p>左脑知道如何控制逻辑能力，而右脑负责综观全局。把左右脑结合在一起，人们就拥有了强大的思考能力。单独使用任一半脑都会十分怪异而荒谬。</p>
</li>
</ul>
<h3 id="02-右脑思维的3大推动力"><a class="header" href="#02-右脑思维的3大推动力">02 右脑思维的3大推动力</a></h3>
<ul>
<li>
<p>知识工作者是“把所学<strong>知识应用于实践</strong>而取得报酬的人，而非出卖体力或手工劳动的人”。</p>
</li>
<li>
<p><strong>原因</strong>：物质财富的极大充裕、亚洲的崛起和自动化。</p>
</li>
<li>
<p><strong>结果</strong>：左脑思维的重要性日渐减弱，右脑思维的重要性日益增强。</p>
</li>
<li>
<p>左脑思维在取得重大胜利的同时也削弱了自身的重要性。左脑思维带来了繁荣，也使人们更加重视非理性的右脑感知，如美观、精神性和情感。对各个企业而言，只生产价格合理、功能齐全的产品已远远不够，还要求产品外表美观、款式独特、意义深远</p>
</li>
<li>
<p>“非请莫入，违者雇用之。”😂</p>
</li>
<li>
<p>发挥右脑能力构建关系而不是处理事务，应对新挑战而不是解决常规问题，综观全局而不是分析单一要素。</p>
</li>
<li>
<p>约翰·亨利的逝世成为工业时代的一则寓言：现在，机器可以比人类做得更好，但却牺牲了人类的尊严。</p>
</li>
<li>
<p>任何常规工作都将面临风险，可能被精简为一套规则或机械性操作</p>
</li>
<li>
<p>工程师和程序员将不得不掌握其他能力，这些能力所依赖的是<strong>创造力</strong>而非技能，是<strong>隐形知识</strong>而非技术规范，是<strong>把握全局</strong>而非纠缠细节。</p>
</li>
</ul>
<h3 id="03-高概念与高感性知识不再是力量"><a class="header" href="#03-高概念与高感性知识不再是力量">03 高概念与高感性，知识不再是力量</a></h3>
<ul>
<li>
<p>第三幕是概念时代，当今，物质财富的充裕、亚洲的崛起和自动化的影响在不断深化，其影响力越来越大，第三幕正渐渐拉开帷幕。我们把这一幕称为概念时代。这一幕的主角是创造者和共情者，其特征是擅长右脑思维。</p>
</li>
<li>
<p>当今社会，你完成工作的成本不能高于外包人员，工作效率不能低于强大的电脑，要能满足人们非物质性的超凡欲望，才能在这个时代求得生存。</p>
</li>
<li>
<p>高概念能力包括：创造艺术美和情感美，辨析各种模式，发现各种机会，创造令人满意的故事，以及将看似无关的观点组合成某种新观点。高感性能力包括：理解他人，了解人际交往的微妙，找到自己的快乐并感染他人，以及打破常规、探寻生活的目标和意义。</p>
</li>
<li>
<p>艺术家的高概念能力，通常比商学院毕业生易于模仿的左脑能力更有价值。</p>
</li>
<li>
<p>在概念时代，软件行业将更为关注产品的创新和独特之处</p>
</li>
<li>
<p>在各个机构内，最具领导力的管理者往往幽默风趣，他们令员工开怀一笑的次数是其他高管的3倍。第8章我会谈到，幽默感在很大程度上取决于右脑。</p>
</li>
<li>
<p>情商：主要是指人在情绪、情感、意志、挫折、耐受力等方面的品质。总的来讲，人与人之间的情商并无明显的先天差别，更多的是与后天的培养息息相关。这是近年来心理学家们提出的与智力和智商相对应的概念。</p>
</li>
<li>
<p>人们的认知模式逐渐趋于具向化（右脑导向），而不是抽象化（左脑导向），因此人们的现实感更强、情感更丰富、更能感觉到人与人之间的紧密联系。</p>
</li>
<li>
<p>全新思维时代的6大必备能力，即6大高概念、高感性能力——设计感、故事力、交响力、共情力、娱乐感和意义感，这些能力已经成为新时代不可或缺的一部分。</p>
</li>
</ul>
<h2 id="第二部分-全新思维的6大能力"><a class="header" href="#第二部分-全新思维的6大能力">第二部分 全新思维的6大能力</a></h2>
<p>开篇</p>
<ol>
<li>
<p>不仅要实用，还要有设计感</p>
</li>
<li>
<p>不仅要讲论据，还要有故事力</p>
</li>
<li>
<p>不仅要专业，还要有交响力</p>
</li>
<li>
<p>不仅要有逻辑力，还要有共情力</p>
</li>
<li>
<p>不仅要严肃，还要有娱乐感</p>
</li>
<li>
<p>不仅要追求财富，还要追求意义感</p>
</li>
</ol>
<h3 id="04-设计感-人人都是设计大师"><a class="header" href="#04-设计感-人人都是设计大师">04 设计感 人人都是设计大师</a></h3>
<ul>
<li>
<p>一切都是经过设计的</p>
</li>
<li>
<p><strong>设计感</strong>：即蕴涵意义的实用性，是典型的全新思维能力，即人类以自然界史无前例的方式塑造和改善着我们所处的环境，以满足我们的需求，并使生活充满意义的能力。</p>
</li>
<li>
<p>在这个物质财富极大充裕的时代，设计感对大部分现代企业而言都相当重要，因为<strong>设计感可以使自己与众不同</strong>，开拓新的市场</p>
</li>
<li>
<p>设计课程是现代博雅教育的一种形式</p>
<ul>
<li>“博雅”的拉丁文原意是“适合自由人”</li>
</ul>
</li>
<li>
<p>设计是每个人每天都会做的活动</p>
</li>
<li>
<p>人们为设计埋单，而不是物品</p>
</li>
<li>
<p>吸引人的是风格，而不是物品本身</p>
</li>
<li>
<p>艺术：是能<strong>引发他人思考和情绪</strong>的思想及情感表达，比如富有创造性的语言、方式、方法及事物。</p>
</li>
<li>
<p>激发设计灵感</p>
<ul>
<li>
<p>把你的设计创意记下来</p>
</li>
<li>
<p>阅读设计杂志</p>
</li>
<li>
<p>让设计感融入生活</p>
</li>
<li>
<p>做一名设计侦探</p>
</li>
<li>
<p>参与到“第三次工业革命”中去</p>
</li>
<li>
<p>参观创意博物馆</p>
</li>
<li>
<p>牢记设计的4大基本原则</p>
<ul>
<li>对比、重复、校准、邻近原则</li>
</ul>
</li>
<li>
<p>选择激发情感的设计</p>
</li>
<li>
<p>生活中要讲究和挑剔</p>
</li>
</ul>
</li>
</ul>
<h3 id="05-故事力-做生活的策划者"><a class="header" href="#05-故事力-做生活的策划者">05 故事力 做生活的策划者</a></h3>
<blockquote>
<p>倾听别人的故事，让人生存下去的不是食物，而是故事</p>
</blockquote>
<ul>
<li>
<p>人类大脑的“故事语法”将整个世界理解为一个一个的经历，而不是一套逻辑命题</p>
</li>
<li>
<p>故事力：存在于高概念和高感性的交汇处，是一种高概念和高感性能力，它通过<strong>将一件事置于另一种情境</strong>的方式来加深我们的理解。</p>
</li>
<li>
<p>故事力本质，即<strong>情感化的情境</strong>：信息时时处处可得，因而价值也就相对减小。因此，把这些信息置于某一情境之中，使之具有某种情感冲击力的能力越来越重要。</p>
</li>
<li>
<p>故事力能够精确地捕捉到正式的决策方法未曾提及的因素。逻辑能力是要进行归纳总结，脱离特定的情境作出决策，不能带任何主观情感因素。而<strong>故事力能够捕捉情境和情感</strong>，是重要的认知行为，能够对信息、知识、情境和情感进行整合。</p>
</li>
<li>
<p>追寻生活的意义，我们采用的方式也往往是讲述故事。</p>
</li>
<li>
<p>人类的大脑总是倾向于<strong>把各种经历编成故事</strong>，而打动观众的关键，不是抵制这种冲动，而是接受它。</p>
</li>
<li>
<p>故事化并不会取代分析型思维，它能让我们从新的视角看待问题，让我们看到一个不同的世界，它是分析型思维的有益补充。<strong>用贴切的故事来解释抽象的分析</strong>，更加有易于理解。</p>
</li>
<li>
<p>“组织讲故事”运动，发掘故事商机</p>
<ul>
<li>
<p>3M 公司为高管开设讲故事培训班</p>
</li>
<li>
<p>NASA 将故事用于知识管理方案</p>
</li>
<li>
<p>施乐公司收集故事并组建“尤里卡”经验数据库</p>
</li>
</ul>
</li>
<li>
<p>叙事医学课程的目标是培养共情力</p>
</li>
<li>
<p>成为故事大师</p>
<ul>
<li>
<p>写迷你小说</p>
</li>
<li>
<p>记录彼此的故事</p>
</li>
<li>
<p>学会使用录音机</p>
<ul>
<li>
<p>你和你的伴侣是怎么认识的？</p>
</li>
<li>
<p>你的第一份工作是什么？</p>
</li>
<li>
<p>你第一次在外面过夜是什么时候？</p>
</li>
<li>
<p>你见过的最不称职的老师是谁？</p>
</li>
<li>
<p>生命中最开心的一天是哪一天？</p>
</li>
<li>
<p>最伤心的是哪一天？</p>
</li>
<li>
<p>最可怕的又是哪一天？</p>
</li>
<li>
<p>你做过的最正确的决定是什么？</p>
</li>
</ul>
</li>
<li>
<p>参加故事节</p>
</li>
<li>
<p>复述开篇句</p>
</li>
<li>
<p>用图片激发故事灵感</p>
</li>
<li>
<p>利用数码设备讲故事</p>
</li>
<li>
<p>问问自己：“这些人都是谁？”</p>
<ul>
<li>公共场所无聊时，观察周围的陌生人，给其中几个人编故事</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="06-交响力-发现系统与整合之美"><a class="header" href="#06-交响力-发现系统与整合之美">06 交响力 发现系统与整合之美</a></h3>
<blockquote>
<p>“发明第一个车轮的人是个白痴，而发明其他三个车轮的人却是一位天才”</p>
</blockquote>
<ul>
<li>
<p>精通某一领域已不再是成功的保证，能取得最大回报的，是那些<strong>在迥然不同的领域也能游刃有余</strong>的人</p>
</li>
<li>
<p>交响思维是作曲家和指挥家所具备的显著能力</p>
</li>
<li>
<p>模式辨别、超越常规发现事物隐藏的关联，纵观全局、辨别本质</p>
</li>
<li>
<p><strong>绘画</strong>，提升交响力的最佳方式</p>
</li>
<li>
<p>最具影响力的创意，只是把别人认为无法合并的两个想法结合在一起</p>
</li>
<li>
<p>有突破性想法的人，一般都具备跳跃性思维</p>
</li>
<li>
<p>“让你感到困难的，是对事物的准确描述”</p>
<ul>
<li>&gt; <a href="https://mubu.com/doc5YM9sdBdE98">如何认识事物</a></li>
</ul>
</li>
<li>
<p>当左脑还在云里雾里时，右脑就可以自由地去辨认事物之间的联系，整合成一个整体</p>
</li>
<li>
<p>有三类人在这个时代会有更好的机遇：<strong>跨领域</strong>的人、<strong>发明</strong>家和<strong>善作比喻</strong>的人。</p>
</li>
<li>
<p>心理上兼具两性特征的人反应能力会更强，他们有更多各种各样的机会同世界进行交流</p>
</li>
<li>
<p>敢于进行大胆、创新式的整合，并<strong>敢于犯错</strong>，因为在追逐灵感的过程中，犯错是不可避免的</p>
</li>
<li>
<p>比喻被认知科学家称为“富于想象力的理性”，掌握这一全新思维能力在这个错综复杂的世界极具价值。</p>
</li>
<li>
<p>从很大程度上来说，自我认识就是寻找合适的比喻以领悟生活意义的过程</p>
</li>
<li>
<p>完形思维：是指人们利用已有的知识、经验、认知习惯等对事物残缺内容作补充性理解的一种思维方式。</p>
</li>
<li>
<p>模式识别：是指人把输入刺激（模式）的信息与长时记忆中的信息进行匹配，并辨认出该刺激属于什么范畴的过程。</p>
</li>
<li>
<p>提升你的交响力</p>
<ul>
<li>
<p>聆听伟大的交响乐：《欢乐颂》、《哈夫纳交响曲》、马勒G大调第四交响曲、柴可夫斯基1812序曲、海顿G大调第九十四交响曲</p>
</li>
<li>
<p>逛书报亭
看自己之前从未留意过的，偶尔翻阅，启发思路</p>
</li>
<li>
<p>学习绘画
绘画就是观察事物之间的联系，然后再把这些联系组合成一个整体</p>
</li>
<li>
<p>准备一个比喻记录本</p>
</li>
<li>
<p>跟踪链接</p>
</li>
<li>
<p>在发现问题的过程中找到解决问题的方法</p>
</li>
<li>
<p>制作一个灵感记录板</p>
</li>
<li>
<p>来一场真正的头脑风暴</p>
<ul>
<li>
<p>追求质量</p>
</li>
<li>
<p>鼓励大胆的想法</p>
</li>
<li>
<p>注重视觉效果</p>
</li>
<li>
<p>延缓评判</p>
</li>
<li>
<p>一次只要一个人陈述</p>
</li>
</ul>
</li>
<li>
<p>去做自己做不到的事情</p>
</li>
<li>
<p>寻找负空间</p>
</li>
</ul>
</li>
</ul>
<h3 id="07-共情力-与他人产生共鸣"><a class="header" href="#07-共情力-与他人产生共鸣">07 共情力 与他人产生共鸣</a></h3>
<ul>
<li>
<p>共情，是深入他人的思想从他人的角度体验世界</p>
</li>
<li>
<p>共情力：是站在别人的立场、凭直觉感知他人的感受，即<strong>设身处地</strong>地用他们的眼光来看待问题，体会他们的感受。</p>
</li>
<li>
<p>情感表达的主要方式就是<strong>面部表情</strong></p>
</li>
<li>
<p>左脑受损的人反而更善于解读表情</p>
</li>
<li>
<p>共鸣：是指思想上或感情上相互感染而产生的情绪。</p>
</li>
<li>
<p>虚假的微笑只会牵动颧大肌。因为我们可以控制颧大肌，但不能控制眼轮匝肌。</p>
</li>
<li>
<p>细微表情：通常是指某种表情的微小端倪，或者是未能隐藏好这一情感而表露出来的细小表情，也就是“表达不全的表情”。</p>
</li>
<li>
<p>微观表情：是指当一个人刻意掩饰情感时在脸上浮现出的表情，它一闪即逝，所持续的时间还不到1/5秒。</p>
</li>
<li>
<p>女性通常更擅长领会面部表情和识别谎言</p>
</li>
<li>
<p>人也不是一成不变的，昨天令她开心的事情未必明天也会令她开心。</p>
</li>
<li>
<p>概念时代的人，是兼具两性思维的人</p>
</li>
<li>
<p>学会理解他人</p>
<ul>
<li>
<p>自我共情力测试</p>
</li>
<li>
<p>“偷听”他人说话
从他人的立场、以他人的眼光来审视世界</p>
</li>
<li>
<p>玩“谁的生活”游戏</p>
</li>
<li>
<p>在工作中发挥共情</p>
</li>
<li>
<p>学习表演</p>
</li>
<li>
<p>不要将自己的共情力移交给别人</p>
</li>
<li>
<p>做社区志愿者</p>
</li>
</ul>
</li>
</ul>
<h2 id="相关内容"><a class="header" href="#相关内容">相关内容：</a></h2>
<ul>
<li>
<p><a href="http://www.ater.org.tw/journal/article/7-1/free/18.pdf">全球移動力 GLOBAL 模式之初探</a></p>
</li>
<li>
<p>(一) G 公民力(Global citizenship)：具有全球公民素養且關懷世界的宏觀思維。</p>
</li>
<li>
<p>(二) L 語文力(Language ability)：具有外語溝通且能夠同理他國文化之外語溝通能力。</p>
</li>
<li>
<p>(三) O 專業力(Occupation)：具有國際視野且能應地制宜的跨域專業實踐能力。</p>
</li>
<li>
<p>(四) B 人際力(Befriend capital)：具有橋接資源與經營人脈以及敦親睦鄰之社交能力。</p>
</li>
<li>
<p>(五) A 文化力(acculturation)：具文化理解且能夠入境隨俗之文化融合能力。</p>
</li>
<li>
<p>(六) L 生活力(Lifestyle)：具有正向心理功能且適應不同環境之健康生活型態。</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="能力陷阱--樊登精华解读"><a class="header" href="#能力陷阱--樊登精华解读">《能力陷阱》- 樊登精华解读</a></h1>
<h3 id="重新定义你的工作"><a class="header" href="#重新定义你的工作">重新定义你的工作</a></h3>
<p><strong>1.能力陷阱</strong></p>
<p>你一定有擅长的事情，你也一定喜欢它，因为它给你带来的成就感无与伦比。</p>
<p>我们很乐于去做那些我们擅长的事，于是就会一直去做，最终将使得我们一直只会擅长的那些事。做得越多，就越擅长。这样一个闭合循环如同吸毒一样，我们深深为之吸引，因为我们的快乐和自信都来源于它。它还会让我们产生误区，让我们相信我们擅长的事就是最有价值、最值得投入时间的。</p>
<p>久而久之，那些擅长的事务占据了我们绝大部分的时间，使我们无暇顾及其他更有意义、更有价值的事情。当我们正为我们期望的结果努力时，“能力陷阱”就会出现。当我们超额超量完成上级指派的任务时，由于表现良好且无可替代，而在领导力方面又有所欠缺，我们极有可能被留在原来的岗位上。</p>
<p>我们就这样被自身的优势和最擅长的技能禁锢住了。</p>
<p><strong>2.领导者的特征</strong></p>
<p>当我们从事日常工作时，思考的是“如何才能让工作做得更好？”；而当我们做领导者的工作时，思考的是“我们应该做出一些什么样的改变？”。领导者们通常会跨越职能范围去展望未来，或是投入到一些没有即时利益的事情上。</p>
<p>要像领导者一样行事，我们需要把时间花在以下这些事上：</p>
<p><strong>1）像桥梁一样连接不同的人或组织</strong></p>
<p>领导者有两种类型，一种是以团队和客户为工作重心的“中心型”领导者。这种领导者效率更高，对内部事务更为专注，会为团队设定目标，分派角色和任务，管理团队成员的表现并进行绩效评估。</p>
<p>另一种是把团队和外界相关组织联系起来的“桥梁型”领导者。他们更长于从外部获取想法和反馈，能将团队目标和组织的优先事务结合起来，向团队输送重要信息以确保进程。这类领导者比起中心型领导者，能更快地在创意产品和新颖服务的方面取得成绩。他们的成功秘诀需要归功于他们建立“桥梁”时所获得的外在表现力，能让那个他们在业务上提出新观点，有组织性地从大局看待问题，从而设定发展方向。</p>
<p><strong>2）做一些“有远见”的事情</strong></p>
<p>大多数人都能很容易地说出目前的工作中缺少什么，有什么不满意的地方或是无意义的地方，但是却没有一个“有远见性”的想法，他们的工作也因此停滞不前。</p>
<p>怎样才算有远见？以下是三种特征和具体的实施方法。</p>
<ul>
<li>
<p>感知环境中的机遇和威胁：</p>
<ul>
<li>简化复杂环境</li>
<li>联想一些表面上看起来似乎没有联系的事情</li>
<li>预想可能触及组织底线的事</li>
</ul>
</li>
<li>
<p>提供战略性指导：</p>
<ul>
<li>鼓励发展新业务</li>
<li>定义新战略</li>
<li>从大局的角度做决策</li>
</ul>
</li>
<li>
<p>鼓励其他人展望未来</p>
<ul>
<li>提出一些挑战当前情况的想法</li>
<li>接受成员提出的新的做事方式</li>
<li>把外部观点传达给成员</li>
</ul>
</li>
</ul>
<p><strong>3）提升影响力</strong></p>
<p>某技术公司的部门经理的肯特弄不明白：在公司陷入困境时，他提出了一个清晰有力的想法，且精心制作了一组长而复杂的幻灯片给同事们展示。如此重要的事情，居然每个人都听着要睡着了。很多年以后，肯特明白过来了：他希望其他人都能同意他的想法，却没有真正说服他们同意——行就行，不行也没关系。</p>
<p>很多领导者会简单地认为想法本身就是最终卖点，但实际上，过程才是一个更为重要的因素。如何展现他们的想法以及在这个过程中他们如何与听众交流，决定了人们是否愿意和他一起做事。</p>
<p>领导者在推进项目或变动时，在关键步骤和展示风格上的表现，会影响人们对领导者的信心。换句话说，如果他们对领导者有信心，就会与之合作，从而增加成功的可能性。</p>
<p><strong>4）提升领袖气质</strong></p>
<p>研究者发现，当人们在某个“正确的时间”提出一些能引人注意的想法时，就会被认为有“领袖气质”。有魅力的领导者的特征是：有着建立在丰富的人生阅历上的坚定信念，会通过讲述个人故事来与他人良好交流，并且能做到知行合一。</p>
<p><strong>3.改变你的工作日程安排</strong></p>
<p>成为一名优秀的领导者，我们需要一种非常稀缺的资源——时间，来进行改变。但大多数人的时间已经被日常工作和即时需求占据，无暇思考我们是否把精力放在了正确的事情上。</p>
<p>有一家医院的病房资源十分有限。由于手术室全部排满，所以当有急诊时，医院只能把手术计划往后拖延。这样导致医务人员深夜还在做手术，其他工作人员也需要常常加班。医院也由此形成了一个低效又高压的工作氛围。</p>
<p>医院为此苦恼不已，从外部聘请了一位顾问。他提出了一个令人惊讶的解决方式：空出一间手术室来专门应对急诊病人。医院管理者们纷纷抱怨：已经这样忙了，还要空出一间手术室？太过分了！可是，自从这个手术室空出来以后，医务人员能更有效地处理一些紧急的病例，不用一直重新规划日程。他们的加班时间减少了，手术效率也提高了。</p>
<p>越是在忙碌的时候，越需要空出一些时间来应对一些意想不到的事情，比如提升自己的领导能力。与此同时，暂时先不用减少太多过去的旧工作。只有当新角色开始发挥效果时，你才会有动力放手从前那些阻碍你进步的日常工作。</p>
<h3 id="建立良好的人际关系网络"><a class="header" href="#建立良好的人际关系网络">建立良好的人际关系网络</a></h3>
<p><strong>1.人际交往陷阱</strong></p>
<p>我们在人际交往中，出于“自恋原则”与“懒惰原则”，自然而然地会被那些与我们相似和地理位置相近的人吸引。因为我们需要依靠那些与自己相似的人，借此寻求安全感并获得肯定。而接触那些与自己地理位置相近的人，相对而言更轻松，不需要付出太多努力。</p>
<p>此外，许多人认为，人际网络本质是虚伪的，认为是在“利用别人”，认为带有目的性的人际交往让自己变得卑鄙、“不干净”，从而拒绝在舒适区域以外建立人际关系。</p>
<p>类似的情况还有：认为人际关系网络不具有实质性，认为经营人际关系网络耗时太长缺乏耐心，认为人际关系应该自然而然建立而不需要刻意经营。这些认知都会导致人们陷入人际关系的陷阱。它让你和你的团队都经不起外界环境的变化，留守在一个既舒适又封闭的圈子里，被突发情况打个措手不及。</p>
<p>但优秀的领导者们则不然。LinkedIn（领英）的创始人里德·霍夫曼曾经说过，扩展人际关系就像使用牙线清洁牙齿一样，一点也不好玩，但是很重要。领导者们利用人际关系网络感知发展趋势并寻找机会，与各领域的人才建立联系，跨领域合作以创造更多价值，避免陷入单一的、统一的群体性思维。借助这些拓展性关系，他们得以提出更多的突破性想法，并获取工作机会。</p>
<p><strong>2.评估你的人际关系</strong></p>
<p>人际关系可以分为三种类型：①保证你的工作能够良好运转的运营关系，②帮助提升个人发展空间的个人关系，③可以在未来发展道路上有所帮助的战略关系。而衡量人际关系网络的健康程度可以参照以下三个指标：</p>
<p><strong>1）广泛性</strong></p>
<p>一个广泛的人际关系网络，会联系起各行各业的人。然而，大部分人的关系网络都仅限于他们所在的专业领域、所在的部门以及公司，很少会接触到其他职能或是地理位置上距离相对较远的团队。</p>
<p><strong>2）连接性</strong></p>
<p>即作为桥梁连接一些在其他方面没有关联的人和团队的能力。社会学家用“密度”这个词来形容这种人际关系网络性质，指一个人际网络中人们互相认识的百分比。如果你认识的人彼此之间也互相认识，那么这就意味着你作为朋友间的关系枢纽，有着强大的连接性。</p>
<p><strong>3）动态性</strong></p>
<p>即能随着你的进步而发展的关系。那些我们所熟悉的人不一定能帮助我们成长。当我们换公司、换工作或是换常驻地时，过去的人际关系网络就会对我们造成限制。因为他们可能会不断地强调你想要摆脱的旧身份，甚至拼命地维持你的旧身份。</p>
<p>为了让你的人际关系能够适应未来，你需要建立并重视之前联系较弱的一些关系，即那些目前处于你人际关系网络外围的人或组织。</p>
<p><strong>3.打造良好的人际关系网络</strong></p>
<p>要想像一个领导者一样思考，首先我们需要建立一个新的人际关系网络。</p>
<p><strong>1）展示自我</strong></p>
<p>著名导演伍迪·艾伦有句名言：“成功的百分之八十在于自我表现。”（当然他还说过“有时候窝在床上会更简单，所以两件事我都做。”）</p>
<p>每个人都可以试着组织一场座谈会、介绍发言或是主持问答环节来扩展自己的人际关系网络。甚至一开始只是在座谈会上提出一个好的问题，你就能让别人知道你的名字和你的身份。把握住每一次发言的机会，人们会认识你，并且会以对你的了解来决定他们是否想要知道更多。</p>
<p>展现自我不能被动地等待活动的召唤，而是要主动出击，成为活动和派对的组织者。我们需要培养一个有联系性的大脑，去主动建立一个和之前不一样的人际关系网络，把人际关系圈延伸至全新的领域。</p>
<p>利用午餐和出差时间和一些不常见的人建立联系，借社交媒体来宣传个人兴趣爱好也是不错的选择。很多成功的管理者都会利用他们的个人兴趣来创建自己的团体，从中获取更多的资源和信息。</p>
<p><strong>2）利用你的二度分隔理论</strong></p>
<p>LinkedIn的创建者里德·霍夫曼发现，当你在职业上要寻求帮助时，最远不会超过三度，即我们通常只需要通过两个人就能与其他人取得联系。但是我们并未能很好地利用这些关系，因为我们大多数人都没有意识到我们的人际关系网络力量到底有多强大。</p>
<p><strong>3）维持关系</strong></p>
<p>构建人际网络不要等到急需帮助时再去建立联系，你需要时时保持人际关系的活力，并抓住每一次能发展它的机会，不管你当前需不需要用到它。</p>
<p><strong>4）找到志同道合的人</strong></p>
<p>改变自己最快的方法是与那些你想成为那样的人做朋友。因为朋友间的行为和观念会相互传染，你很容易会受到影响，这可能会让你变得更好，当然也可能变坏。与优秀的领导者在一起，成为优秀的领导者的几率也随之增加。</p>
<p>与一些志同道合的人相聚在一起，对于处于迷茫时期的你尤为重要。当我们需要一些不是轻易就能完成的事情时，我们难免产生信心的动摇。就像要戒酒一样，我们需要一些新的参照物，而那些成功转变了的人就能成为你转变路上重要的路标。</p>
<h3 id="改变你做事的方法"><a class="header" href="#改变你做事的方法">改变你做事的方法</a></h3>
<p><strong>1.真实性陷阱</strong></p>
<p>有很多人认为，如果要根据环境而变换自己，会使得他们远离了自己最自然的风格，这是对他们真实性的一种威胁。这些“坚持真实者”的最大问题在于，他们是基于过去来定义真实性的，因此他们认为改变就意味着失去了真实性。而他们又将真实自我的范围扩张得极大，包括了价值观、领导、演讲、穿着以及行事风格等多重方面。</p>
<p>作者埃米尼亚·伊贝拉在哈佛大学给MBA学生上的第一堂课完全是一个灾难。彼时的她缺乏教学经验，无法组织高度互动的课堂讨论。沮丧的她收到了许多老教授的建议：你应该做真实的你自己。她依言而行，采用了与真实的她相匹配的教学方式：学术、严谨、严肃。但是课堂效果越来越糟糕。</p>
<p>备受打击的她去听了老教授们的课，发现他们的授课方式极具个性化。他们会结合自身的奇闻趣事和闹过的笑话，把课堂氛围营造得热闹活泼。而这样戏剧化的教学风格绝不是作者“做真实的自己”能表现得出来的。放弃“真实自我”的她试着转变风格。开始她觉得有些无所适从，不够自然，但一段时间以后，效果越来越好，课堂氛围也愈发有趣轻松。</p>
<p><strong>2.成为更好的你</strong></p>
<p>避免真实性陷阱的核心在于扩展自我概念。斯坦福心理学教授黑兹尔·马库斯的一些关于职业的研究发现，人们对自己的身份不仅仅基于过去和现在的自己，还同样基于对未来自己的展望。那个潜在的自己会引导着现在的你的行为，从而使你渐渐朝着你理想的自己而努力。因此，我们可以从以下三点入手，试着朝更多不同的方向发展自己。</p>
<p><strong>1）做个“随机应变者”</strong></p>
<p>与坚持真实者相对的是“随机应变者”。他们比别人更擅长角色的转变，且在转变时更加自然。他们愿意且能自如地适应环境的需求，同时不会产生一种觉得自己很虚伪的内疚感。他们有核心的自我价值观和目标，所以不担心转变会对自己的信仰造成影响。</p>
<p>被称为“变色龙”的美国前总统奥巴马就是一名随机应变者。一名评论家加里·威利斯将他总结为：“如果别人说他不是纯黑人血统，他就会告诉他们，他比大多数美国黑人和非洲的联系更直接；如果别人说他不完全是美国人，他就会说他的母亲来自美国中西部。他就像一只变色龙一样，不停地变化身上的颜色，但这并不意味着他不真诚，而是造就了他的与众不同。”</p>
<p>奥巴马不断地努力扩展自己的不同风格，还会根据听众来变换自己的演讲口音和节奏。给商人演讲，他就直截了当；给退伍军人做演讲，他则轻松随意。在变幻莫测的环境下，他知道自己应该要换上哪一层合适的皮肤。</p>
<p>如果我们把关注点从外在表现转变到要学习和追求的东西上，你将不再试着保护自己过去的身份，让其免受改变的威胁了。</p>
<p><strong>2）像艺术家一样偷师学艺</strong></p>
<p>即使是伟大的艺术家，也无法做到彻底的“原创”。作者在阅读过艺术家奥斯汀·克里昂的畅销书《像艺术家一样偷师学艺》后得出结论：没有什么是原创的。这位艺术家还提到，通过他的个人经历，他发现他是在动手去做事的过程中弄清楚他到底是谁的。</p>
<p>模仿榜样是一个很好的进步转变的方式。如果你把自己的身份认知当作游戏一样，你就会觉得直接从别人那里借鉴是可以的。但借鉴也有一个诀窍，那就是不要仅仅模仿一个人的全部，而是提取不同人的精华之处，再经过修改和改进从而得到自己独特的见解。就像作家威尔逊·米茨纳说的，如果你模仿一个作家，那就是剽窃；但是模仿很多个作家，那就是研究。</p>
<p><strong>3）灵活地讲述你的故事</strong></p>
<p>你每天都会有不一样的目标，你会一遍又一遍地重复，乃至改进你的故事。这并不是在做一些虚伪的事情，只是在确定新目标之前尝试不同的可能性。当你的目标改变时，你的故事也应该随之改变，这样，你的故事才能与你的新目标相关，从而赢得观众的共鸣。你不是去编一个小说，而是选择性地讲述那些对你产生积极影响的故事。</p>
<h3 id="成为一名优秀领导者的进步阶段"><a class="header" href="#成为一名优秀领导者的进步阶段">成为一名优秀领导者的进步阶段</a></h3>
<p>很多改变的方法告诉你，你从开始就要想好改变后获得的结果是什么。但实际上，弄清楚你想要成为什么样的领导者是改变中最后一件需要做的事，而不是第一件。因为进步过程中可能有一些没有预想到的方式改变了你。</p>
<p>尽管你不能预测未来到底会是什么样的，但在转变过程中，你可能经历以下五个阶段。</p>
<p><strong>阶段一：发现差异</strong></p>
<p>成年人的学习和改变大多数时候都是从对自己不满意，或是觉得很迷茫开始的，他们发现了自己的期望与别人的评价之间的差异。而这个差异往往能激励我们开始付出行动。</p>
<p><strong>阶段二：只加不减</strong></p>
<p>很多人在开始练习一些新技能的时候，会发现自己比以前忙很多。因为我们不会立即中断从前那些有价值的工作。只有当新工作获得足够回报并能让我们坚持下去后，我们才会减少之前的工作。</p>
<p><strong>阶段三：混乱迷茫</strong></p>
<p>个人改变的道路都是曲折的。我们都天真地希望改变过程是不断前进的，可也都清楚地知道这是不现实的。也许是因为自己的决心无法支持我们继续完成改变，也许是因为身边的人认为我们做不到，或是不认可我们的改变。这些压力都会消磨我们想改变的决心。</p>
<p><strong>阶段四：重新设定前进方向</strong></p>
<p>混乱迷茫阶段产生的那些困惑，使得我们回过头来重新审视自己之前所定下的目标。因为在设定它们的时候，我们并没有考虑到新的行为方式符不符合我们的目标可能性，所以最后我们不得不改变目标。这个时候，我们开始把外在表现力内在化——反思、修改，再设定一条正确的前进方向。</p>
<p><strong>阶段五：内在化</strong></p>
<p>内在化是改变的必经一步，它能帮助人们从所知及所做进一步走向认识自己。比如，一名管理者也许知道，在她演讲时不应该只是对稿念，而是应该用一种富有激情的演讲方式来感染员工。但如果她将这种鼓舞人心以及关心员工的价值观内在化，她将比之前更能展现出激情和感染力，因为这种演讲方式符合她的价值观。</p>
<h2 id="能力陷阱结语"><a class="header" href="#能力陷阱结语">能力陷阱结语</a></h2>
<p>遥望着那些卓有成就的人，我们一边羡慕，一边却总认为自己缺乏能力，即使付出努力也未必获得成功，不如不做。关于这一点，孔子对宰予的批评已经道出真相：“力不足者,中道而废,今汝画！”意为：如果真的是能力不足的人，做到一半才会力不从心而放弃；你却根本没有开始，这不过是画地为牢罢了。</p>
<p>而改变，最佳的时机是现在，最佳方式是——去做。</p>
<p><img src="education/reading/./assets/act-like-a-leader-dedao.jpg" alt="得到-思维导图" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="语言学习"><a class="header" href="#语言学习">语言学习</a></h1>
<p>多掌握一门语言，即多一扇看世界的窗口。</p>
<ul>
<li>英语：全世界范围最广 🚀</li>
<li>中文：全世界人数最多 🤩</li>
</ul>
<h2 id="在学"><a class="header" href="#在学">在学</a></h2>
<ul>
<li>
<p>开言英语</p>
<ul>
<li>在学等级：
<ul>
<li>B2 -&gt; C1 (Completed on 2019.04.12)</li>
<li>C1 -&gt; C2 (In progress)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>空中英语教室（杂志）</p>
</li>
</ul>
<h2 id="完成"><a class="header" href="#完成">完成</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
许岑的英语学习方法论</li>
</ul>
<h2 id="背单词的技巧"><a class="header" href="#背单词的技巧">背单词的技巧</a></h2>
<ul>
<li>重复，重复，重复 （无他，唯手熟尔）</li>
<li>使用小纸条、便签 （将单词放在可以经常看到的地方，时不时瞥一眼）</li>
<li>做图像标记（可以给狗狗做个简笔画）</li>
<li>单词搭配、造句 （语境不仅可以帮你记忆还有助于你更好地使用单词）</li>
<li><strong>大声</strong>朗读</li>
<li>将部分单词赋予<strong>特殊意义</strong>（比如 机器学习、编程、女朋友等）</li>
</ul>
<blockquote>
<p><a href="https://www.youtube.com/watch?v=JuoqE2lpRUM">How to Remember Vocabulary</a></p>
</blockquote>
<h3 id="in-progress"><a class="header" href="#in-progress">In Progress</a></h3>
<ul>
<li>读白背单词</li>
</ul>
<h2 id="链接-2"><a class="header" href="#链接-2">链接</a></h2>
<ul>
<li><a href="https://byoungd.gitbook.io/english-level-up-tips/">English-level-up-tips-for-Chinese</a> - 总结非常全面的英语提升指南 👍👍👍👍👍</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="anki-记忆卡片"><a class="header" href="#anki-记忆卡片">Anki 记忆卡片</a></h1>
<p>让知识要点更容易，更牢靠。</p>
<h2 id="背景理论"><a class="header" href="#背景理论">背景理论</a></h2>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/%E9%97%B4%E9%9A%94%E9%87%8D%E5%A4%8D">间隔重复</a></li>
</ul>
<p>利用心理学<a href="https://zh.wikipedia.org/w/index.php?title=%E9%97%B4%E9%9A%94%E6%95%88%E5%BA%94&amp;action=edit&amp;redlink=1">间隔效应</a>，通过不断复习所学内容并逐步增加两次复习间的时间间隔来提升效率的学习技巧。</p>
<h2 id="核心概念"><a class="header" href="#核心概念">核心概念</a></h2>
<ul>
<li>
<p><strong>Cards 卡片</strong>： 一对「问题」与「答案」，对应卡片正反面🎴</p>
</li>
<li>
<p><strong>Decks 卡堆</strong>：由一组卡片组成，可包含其他卡堆。<code>::</code> 用于指定卡堆层级。</p>
</li>
<li>
<p><strong>Notes &amp; Fields 笔记</strong>：自定义链接有对应关系的卡片，以便结合记忆。</p>
</li>
<li>
<p><strong>Card Type 卡片类型</strong>：定义卡片类模板。</p>
</li>
</ul>
<pre><code>Q: Bonjour
A: Hello
   Page #12
-----
Q: {{French}}
A: {{English}}&lt;br&gt;
   Page #{{Page}}
</code></pre>
<ul>
<li>
<p><strong>Note Types 笔记类型</strong>：</p>
<ul>
<li>Basic</li>
<li>Basic (and reversed card)</li>
<li>Basic (optional reversed card)</li>
<li>Cloze</li>
</ul>
</li>
<li>
<p><strong>Collection 集合</strong>：储存所有 Anki 资源</p>
</li>
</ul>
<h2 id="共享卡堆"><a class="header" href="#共享卡堆">共享卡堆</a></h2>
<ul>
<li><a href="https://ankiweb.net/shared/decks/">获取</a>共享卡堆</li>
</ul>
<h2 id="链接-3"><a class="header" href="#链接-3">链接</a></h2>
<ul>
<li><a href="https://github.com/ashlinchak/mdanki">MDAnki</a> - 通过 Markdown 生成 Anki 卡片</li>
</ul>
<hr />
<p>附：<a href="https://docs.ankiweb.net/#/studying">完整帮助文档</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="构建第二大脑播客"><a class="header" href="#构建第二大脑播客">构建第二大脑播客</a></h1>
<p>边听，边构建着。👂</p>
<h2 id="the-10-principles-of-building-a-second-brain"><a class="header" href="#the-10-principles-of-building-a-second-brain">The 10 Principles of Building a Second Brain</a></h2>
<iframe style="border: none" src="//html5-player.libsyn.com/embed/episode/id/13685306/height/90/theme/custom/thumbnail/yes/direction/forward/render-playlist/no/custom-color/000000/" height="90" width="100%" scrolling="no" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" oallowfullscreen="" msallowfullscreen="">
</iframe>
<p>构建第二大脑的<a href="https://fortelabs.co/blog/the-10-principles-of-building-a-second-brain/">十大原则</a>：</p>
<ol>
<li>Borrowed Creativity - 善于借鉴创意</li>
<li>The Capture Habit - 习惯捕捉「闪念」</li>
<li>Idea Recycling - 想法回收利用</li>
<li>Projects Over Categories - 基于任务甚于分类</li>
<li>Slow Burns - 逐渐积累，缓慢燃烧</li>
<li>Start with Abundance - 从大量输入开始</li>
<li>Intermediate Packets - 拆装封包，组件化</li>
<li>You Only Know What You Make - 学以致用，是为知</li>
<li>Make it Easier for Your Future Self - 「为将来的你编写高可读的代码」</li>
<li>Keep Your Ideas Moving - 保持知识与想法不断迭代👇</li>
</ol>
<h2 id="keep-your-ideas-moving"><a class="header" href="#keep-your-ideas-moving">Keep Your Ideas Moving</a></h2>
<iframe style="border: none" src="//html5-player.libsyn.com/embed/episode/id/13685342/height/90/theme/custom/thumbnail/yes/direction/forward/render-playlist/no/custom-color/000000/" height="90" width="100%" scrolling="no" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" oallowfullscreen="" msallowfullscreen="">
</iframe>
<h2 id="链接-4"><a class="header" href="#链接-4">链接</a></h2>
<ul>
<li>
<p><a href="http://secondbrain.libsyn.com/">The Building a Second Brain Podcast</a></p>
</li>
<li>
<p><a href="https://fortelabs.co/blog/the-10-principles-of-building-a-second-brain/">The 10 Principles of Building a Second Brain</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="时间管理"><a class="header" href="#时间管理">时间管理</a></h1>
<blockquote>
<p>Time is limited.</p>
</blockquote>
<h2 id="链接-5"><a class="header" href="#链接-5">链接</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://mikemcquaid.com/2021/07/21/how-i-get-things-done/">How I Get Things Done</a> - Mike McQuaid
&gt;</li>
</ul>
<blockquote>
<ul>
<li>
<p>notes structured into sections headed:</p>
<ul>
<li>
<p><strong>Urgent</strong> - tasks that need done soon</p>
</li>
<li>
<p><strong>Don’t Do</strong> - the sort of tasks I shouldn’t be doing</p>
</li>
<li>
<p><strong>Todo</strong> - tasks that need to be done eventually</p>
</li>
<li>
<p><strong>Blocked</strong> - tasks I can’t do until something happens</p>
</li>
<li>
<p><strong>Notes</strong> - a dumping ground for anything that doesn’t fit above</p>
</li>
</ul>
</li>
<li>
<p>project track columns headed: </p>
<ul>
<li>
<p><strong>Backlog</strong> - tasks I may or may not ever do but want to keep track of</p>
</li>
<li>
<p><strong>Up Next</strong> - tasks I plan to work on in the near future</p>
</li>
<li>
<p><strong>WIP (Work In Progress)</strong> - tasks I’m working on right now</p>
</li>
<li>
<p><strong>Blocked</strong> - tasks I can’t do until something happens</p>
</li>
<li>
<p><strong>Done This Week</strong> - tasks I’ve completed this week; I’ll report on these and archive</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li><a href="https://app.mailbrew.com/">Mailbrew</a> - 通过邮箱集中管理订阅各渠道讯息与推送，避免频繁碎片化查阅</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="基础利器"><a class="header" href="#基础利器">基础利器</a></h1>
<blockquote>
<p>工欲善其事，必先利其器。</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="macos"><a class="header" href="#macos">macOS</a></h1>
<p>记录 macOS 应用与习惯的环境配置。</p>
<h2 id="键盘标识"><a class="header" href="#键盘标识">键盘标识</a></h2>
<p><code>⇧</code> Shift <code>⌃</code> Control <code>⌥</code> Option <code>⌘</code> Command <code>↩</code> Enter</p>
<h2 id="快捷键速览"><a class="header" href="#快捷键速览">快捷键速览</a></h2>
<ul>
<li>打开&quot;截屏&quot;。按下 Shift-Command-5 以查看屏幕上的控件。</li>
</ul>
<h2 id="前置网络环境配置"><a class="header" href="#前置网络环境配置">前置网络环境配置</a></h2>
<ul>
<li><a href="https://github.com/yichengchen/clashX">ClashX</a></li>
<li><a href="https://github.com/shadowsocks/ShadowsocksX-NG">ShadowsocksX-NG</a></li>
</ul>
<h2 id="开发环境配置"><a class="header" href="#开发环境配置">开发环境配置</a></h2>
<blockquote>
<p><a href="https://github.com/Binlogo/Dotfiles">Dotfiles 配置仓库</a></p>
</blockquote>
<ul>
<li><a href="https://ohmyz.sh/#install">Oh My Zsh</a></li>
</ul>
<pre><code class="language-sh">sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;
</code></pre>
<ul>
<li><a href="macOS/../cli/homebrew.html">Homebrew</a></li>
</ul>
<pre><code class="language-sh">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;
</code></pre>
<pre><code class="language-sh">export HOMEBREW_NO_AUTO_UPDATE=1
</code></pre>
<ul>
<li><a href="https://git-scm.com/">Git</a></li>
</ul>
<pre><code class="language-shell">brew install git
</code></pre>
<ul>
<li><a href="https://github.com/rbenv/rbenv">rbenv</a> - ruby 环境管理工具</li>
</ul>
<pre><code class="language-sh">brew install rbenv
</code></pre>
<ul>
<li><a href="https://cocoapods.org/">CocoaPods</a></li>
</ul>
<pre><code class="language-shell">sudo gem install cocoapods
pod setup
</code></pre>
<h2 id="应用"><a class="header" href="#应用">应用</a></h2>
<p>记录日常使用与喜爱的 macOS 应用</p>
<ul>
<li>
<p><a href="https://www.iterm2.com/">iTerm</a> - 更强大易用的命令行终端</p>
<ul>
<li>with <a href="http://ohmyz.sh/">oh-my-zsh</a></li>
</ul>
</li>
<li>
<p><a href="https://git-fork.com/">Fork</a> - Git 管理应用，简洁、易用</p>
</li>
<li>
<p><a href="https://kapeli.com/dash">Dash</a> - 开发文档阅读</p>
</li>
<li>
<p><a href="https://code.visualstudio.com/">VSCode</a> - 编辑器，内部直接使用命令行非常便捷</p>
</li>
<li>
<p><a href="https://typora.io/">Typora</a> - markdown 编辑器，简洁、易用，所见即所得</p>
</li>
<li>
<p><a href="https://guide.dida365.com/">滴答清单</a> - 一站式行动： GTD、项目流程、进度追踪、番茄专注、习惯打卡</p>
</li>
<li>
<p><a href="https://theunarchiver.com/">The Unarchiver</a> - 解压缩</p>
</li>
<li>
<p><a href="macOS/./alfred.html">Alfred</a> - 快捷打开任意应用或工作流</p>
</li>
<li>
<p><a href="https://excalidraw.com/">Excalidraw</a> - 手绘风格的画图应用，适合流程图、架构图绘制与展示</p>
</li>
<li>
<p><a href="macOS/./contexts.html">Contexts</a> - 快速窗口切换</p>
</li>
<li>
<p><a href="macOS/./snippetsLab.html">SnippetsLab</a> - 代码片段库，支持 iCloud 备份 + <a href="https://gist.github.com/Binlogo">GitHub Gist</a> 同步</p>
</li>
<li>
<p><a href="https://apps.apple.com/cn/app/cleaner-for-xcode/id1296084683?mt=12">Cleaner for Xcode</a> - <a href="https://github.com/waylybaye/XcodeCleaner-SwiftUI">开源</a>的 Xcode 清理应用</p>
</li>
<li>
<p><a href="https://getkap.co/">Kap</a></p>
</li>
<li>
<p><a href="https://iina.io/">IINA</a></p>
</li>
</ul>
<h3 id="其他"><a class="header" href="#其他">其他</a></h3>
<ul>
<li><a href="https://www.raycast.com/features">Raycast</a> - 类似 Alfred 的效率工具，应用启动&amp;工作流扩展集成</li>
<li><a href="https://notable.md/">Notable.md</a> - 另一个简洁易用的 markdown 编辑器，旧有版本开源(TypeScript)。</li>
<li><a href="https://kaleidoscope.app/">Kaleidoscope</a> - Diff 差异检查应用，文本、图片、文件夹、开发流集成</li>
<li><a href="https://folivora.ai/">BetterTouchTool</a> - 自定义触控板手势</li>
<li><a href="https://software.charliemonroe.net/downie/">Downie</a> - Youtube、Bilibili 等流媒体视频下载</li>
</ul>
<h2 id="qa-速查"><a class="header" href="#qa-速查">Q&amp;A 速查</a></h2>
<ul>
<li>
<p>如何快速清理 Time Machine 备份</p>
<p><a href="https://gist.github.com/Binlogo/6d309300e7d9afca91c93ff6d8fa453d">清理 Time Machine 备份脚本</a></p>
</li>
<li>
<p>MacBook Pro 2018 款连接iPhone或iPad设备频繁连续断开问题</p>
<pre><code class="language-sh">sudo killall -STOP -c usbd
</code></pre>
<p>会引发新问题：连接的设备会显示「不在充电」（也是解决问题的原因）</p>
</li>
<li>
<p>系统迁移之前，如何删除所有无用<code>node_modules</code>等目录</p>
<pre><code class="language-sh">find . -name &quot;node_modules&quot; -type d -prune -exec rm -rf '{}' +
</code></pre>
</li>
<li>
<p>加速 Chrome 浏览器内置下载速度</p>
</li>
<li>
<p>地址栏输入并回车：<code>chrome://flags/#enable-parallel-downloading</code>, 将 Default 改为 Enabled 即可</p>
</li>
</ul>
<h2 id="链接-6"><a class="header" href="#链接-6">链接</a></h2>
<ul>
<li>
<p><a href="https://appleteacher.apple.com/#/home/resources">Apple Teacher Learning Center</a></p>
<ul>
<li>TODO: 🎖 Go get it, get it.</li>
</ul>
</li>
<li>
<p><a href="https://debugger.medium.com/why-is-apples-m1-chip-so-fast-3262b158cba2">Why Is Apple’s M1 Chip So Fast?</a></p>
<details>
  <summary>论述纪要</summary>
<ol>
<li>
<p>M1 并不是传统意义上的 CPU，而是 SoC（System on a chip）</p>
</li>
<li>
<p>Apple 区别于其他添加通用核心的思路，在芯片中添加更多专用核心</p>
</li>
<li>
<p>通用内存架构(UMA)的特别之处，区别与以往的「集成显存」</p>
<ul>
<li>非CPU/GPU分区使用策略，真正共用内存，避免拷贝</li>
<li>无须在不同类型内存中进行连接通讯，数据读写吞吐更大，速度更快</li>
<li>基于 ARM 架构和更高密度的工艺，GPU 功率足够小，集成至 SoC 中，不会因发热量对芯片产生影响</li>
<li>副作用：无法扩展内存，解决办法：加速与 SSD 交换内存的传输速度</li>
</ul>
</li>
<li>
<p>SoC 这么好，为什么 Intel/AMD 不复制苹果的策略？</p>
<ul>
<li>题外话：「生产方式决定生产力」</li>
<li>SoC 相当于是整个系统，更倾向于是 Dell/HP 这样的整机生产厂商去做</li>
<li>Intel/AMD 是传统 CPU 生产厂商，为整机提供零部件</li>
<li>苹果对软硬件/上下游的掌握便发挥出巨大优势</li>
</ul>
</li>
</ol>
</details>
<ul>
<li><a href="https://blog.swiftpackageindex.com/posts/m1-pro-and-m1-max-build-and-test-benchmarks">M1 Pro and M1 Max Xcode Build and Test Benchmarks</a></li>
</ul>
</li>
<li>
<p><a href="https://backtomac.org/">Back to the Mac</a> - Mac 开发者在线会议</p>
<ul>
<li>2021
<ul>
<li><input disabled="" type="checkbox" checked=""/>
The making of VimR</li>
<li><input disabled="" type="checkbox" checked=""/>
Automating Your Mac</li>
<li><input disabled="" type="checkbox"/>
Shipping your app without the App Store</li>
</ul>
</li>
<li>2020
<ul>
<li><input disabled="" type="checkbox"/>
Building a screenshot search app</li>
<li><input disabled="" type="checkbox"/>
Using XPC to execute Python code in your Mac app</li>
<li><input disabled="" type="checkbox"/>
Notarization and your CI system</li>
<li><input disabled="" type="checkbox"/>
Build a Mac app inside 30 minutes using nothing but SwiftUI</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="alfred"><a class="header" href="#alfred">Alfred</a></h1>
<p>macOS 杀手级应用，快捷操作 macOS 的各项事务 + <a href="https://github.com/learn-anything/alfred-workflows">工作流</a>自定义。</p>
<p><strong>我的工作流</strong></p>
<ul>
<li><a href="https://github.com/Kapeli/Dash-Alfred-Workflow">Dash</a></li>
<li><a href="https://github.com/iamstevendao/alfred-open-with-vscode">alfred-open-with-vscode</a></li>
</ul>
<p><strong>配置项</strong></p>
<ul>
<li><a href="https://www.alfredapp.com/help/features/bookmarks/">开启 Web Bookmarks</a> - 快速打开浏览器收藏夹中的链接</li>
</ul>
<h2 id="基本快捷键"><a class="header" href="#基本快捷键">基本快捷键</a></h2>
<p><code>⌃ + 空格</code> 全局唤起 Alfred</p>
<p><code>⌘ + ＃</code> 直接执行＃项[1-9]</p>
<p><code>⌘ + o</code> 在默认的应用程序打开文件或应用程序</p>
<p><code>⌘ + ,</code> 显示首选项窗口</p>
<p><code>⌥ + ↩</code> 搜索Spotlight中当前输入的查询</p>
<p><code>^ + ↩</code> 搜索在默认的Web搜索当前输入的查询</p>
<p><code>⌘ + ↩</code> 在Finder中显示（如果结果是一个本地文件）</p>
<p><code>preferences</code> 显示偏好设置</p>
<h2 id="快速查找文件"><a class="header" href="#快速查找文件">快速查找文件</a></h2>
<p><code>open</code> 通过查询跟随关键字打开文件</p>
<p><code>空格</code> 在查询中跟随空格打开文件</p>
<p><code>find</code> 通过查询找到关键字以在Finder中显示文件</p>
<p><code>⌘ + o</code> 打开文件</p>
<p><code>in</code> 搜索包含该关键字的文件</p>
<h2 id="加快mac的工作效率"><a class="header" href="#加快mac的工作效率">加快Mac的工作效率</a></h2>
<p><code>define</code> 查询字典</p>
<p><code>spell</code> 查看建议的拼写</p>
<p><code>13*567</code> 快速计算</p>
<p><code>=</code> 开启高级计算</p>
<p><code>screensaver</code> 开启屏幕保护</p>
<p><code>trash</code> 显示废纸篓</p>
<p><code>emptytrash</code> 清空废纸篓</p>
<p><code>logout</code> 注销</p>
<p><code>sleep</code> 睡眠</p>
<p><code>sleepdisplays</code> 睡眠显示器</p>
<p><code>lock</code> 锁定</p>
<p><code>restart</code> 重启</p>
<p><code>shutdown</code> 关机</p>
<p><code>eject</code> 弹出（可移动设备或已安装镜像包）</p>
<p><code>hide</code> 隐藏正在运行的应用</p>
<p><code>quit</code> 退出正在运行的应用</p>
<p><code>forcequit</code> 强制退出正在运行的应用</p>
<h2 id="处理文件和应用程序"><a class="header" href="#处理文件和应用程序">处理文件和应用程序</a></h2>
<p><code>〜</code> 导航到您的主文件夹</p>
<p><code>/</code> 导航到您的根文件夹</p>
<p><code>⌥ + ⌘ + /</code>转到最后浏览路径文件系统导航</p>
<p><code>previous</code> 转到文件系统导航中的最后浏览路径</p>
<p><code>→</code> 显示所选项目的可用动作列表</p>
<p><code>⌃</code> 显示所选项目的可用动作列表</p>
<p><code>⌥ + ⌘ + \</code> 所选搜索项的可用操作的显示列表</p>
<p><code>⌘ + ↓</code> 在文件系统导航浏览所选文件夹</p>
<p><code>↩</code> 在文件系统导航输入文件夹</p>
<p><code>退格</code> 返回上一级文件夹</p>
<p><code>⇥</code> 自动补全</p>
<p><code>.</code> 在文件系统导航中显示隐藏的文件</p>
<blockquote>
<p>提示：输入文件夹/文件的名称以将其选中</p>
</blockquote>
<h2 id="加速剪贴板"><a class="header" href="#加速剪贴板">加速剪贴板</a></h2>
<p><code>⌥ + ⌘ + c</code> 打开剪贴板历史记录查看器</p>
<p><code>⌘ + c</code> 复制选定内容到当前剪贴板</p>
<p><code>snip</code> 从主窗口搜索访问剪贴板</p>
<p><code>clear</code> 清空剪贴板</p>
<p><code>⌘ + s</code> 保存剪贴板内容为文本片段（snippet）</p>
<h2 id="全部快捷键"><a class="header" href="#全部快捷键">全部快捷键</a></h2>
<p><a href="https://www.alfredapp.com/help/getting-started/cheatsheet/">Alfred Cheatsheet</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="snippetslab"><a class="header" href="#snippetslab">SnippetsLab</a></h1>
<p>代码片段库，支持 iCloud 备份 + <a href="https://gist.github.com/Binlogo">GitHub Gist</a> 同步</p>
<h2 id="基本快捷键-1"><a class="header" href="#基本快捷键-1">基本快捷键</a></h2>
<h3 id="文件夹"><a class="header" href="#文件夹">文件夹</a></h3>
<ul>
<li><code>Shift-Command-L</code> 显示或隐藏侧边栏</li>
<li><code>Shift-Command-N</code> 创建一个文件夹</li>
<li><code>Control-Command-N</code> 创建一个新智能分组</li>
</ul>
<h3 id="snippet--标签页framents"><a class="header" href="#snippet--标签页framents">Snippet &amp; 标签页（Framents）</a></h3>
<p><img src="https://www.renfei.org/snippets-lab/manual/mac/_images/ff.png" alt="_images/ff.png" /></p>
<ul>
<li><code>Command-N</code> 创建新 Snippet</li>
<li><code>Option-Command-N</code> 从剪贴板创建新 Snippet</li>
<li><code>Command-T</code> 新建标签页</li>
<li><code>Option-Command-T</code> 从剪贴板创建新标签页</li>
</ul>
<h3 id="搜索"><a class="header" href="#搜索">搜索</a></h3>
<ul>
<li><code>in:</code> 搜索具体文件夹中的内容，支持使用多个</li>
</ul>
<h2 id="markdown-snippets"><a class="header" href="#markdown-snippets">Markdown Snippets</a></h2>
<p>Markdown 格式的 snippets 支持的操作</p>
<ul>
<li><code>Shift-Command-M</code> 预览</li>
<li><code>[TOC]</code> 添加目录</li>
</ul>
<h2 id="菜单栏助手"><a class="header" href="#菜单栏助手">菜单栏助手</a></h2>
<ul>
<li>
<p><code>⌃ + ⇧ + ⌘ + 空格</code> 全局唤起</p>
</li>
<li>
<p><code>回车</code> 拷贝到剪贴板</p>
</li>
<li>
<p><code>Option + 回车</code> 在主窗口打开</p>
</li>
<li>
<p><code>→</code> 快速查看，<code>←</code>返回</p>
</li>
</ul>
<h2 id="github-gist-发布"><a class="header" href="#github-gist-发布">GitHub Gist 发布</a></h2>
<p><img src="https://www.renfei.org/snippets-lab/manual/mac/_images/2250c.png" alt="_images/2250c.png" /></p>
<h2 id="alfred-工作流集成"><a class="header" href="#alfred-工作流集成">Alfred 工作流集成</a></h2>
<ul>
<li><code>snippets</code> 搜索</li>
<li><code>回车</code> 拷贝到剪贴板</li>
<li><code>Option + 回车</code> 在 SnippetsLab 打开</li>
<li><code>Command + 回车</code> 在当前应用中粘贴</li>
</ul>
<p><img src="https://www.renfei.org/snippets-lab/manual/mac/_images/alfred-custom-search.png" alt="img-custom-search" /></p>
<hr />
<p>附: <a href="https://www.renfei.org/snippets-lab/manual/mac/index.html">完整操作指南</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contexts"><a class="header" href="#contexts">Contexts</a></h1>
<p>快速窗口切换应用</p>
<blockquote>
<p><a href="https://contexts.co/">Contexts</a>: Radically simpler &amp; faster window switcher</p>
</blockquote>
<h2 id="常用快捷操作"><a class="header" href="#常用快捷操作">常用快捷操作</a></h2>
<p><code>⌘ + tab</code> 快速最近使用窗口
<code>fn + 关键字</code> 快速搜索并切换窗口
<code>双指侧边上下滑动</code> 快速滚动切换窗口 🚀</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-hrefhttpsbrewshhomebrewa"><a class="header" href="#a-hrefhttpsbrewshhomebrewa"><a href="https://brew.sh/">Homebrew</a></a></h1>
<blockquote>
<p>macOS 包管理大杀器
The Missing Package Manager for macOS (or Linux)</p>
</blockquote>
<h2 id="安装"><a class="header" href="#安装">安装</a></h2>
<pre><code class="language-sh">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;
</code></pre>
<h3 id="a-hrefhttpsdocsbrewshshell-completionconfiguring-completions-in-zsh自动补全a"><a class="header" href="#a-hrefhttpsdocsbrewshshell-completionconfiguring-completions-in-zsh自动补全a"><a href="https://docs.brew.sh/Shell-Completion#configuring-completions-in-zsh">自动补全</a></a></h3>
<ul>
<li>
<p>Ohmyzsh</p>
<p>添加以下一行添加到<code>~/.zprofile</code></p>
</li>
</ul>
<pre><code>FPATH=$(brew --prefix)/share/zsh/site-functions:$FPATH
</code></pre>
<h2 id="常用命令"><a class="header" href="#常用命令">常用命令</a></h2>
<ul>
<li>
<p>Example usage:</p>
<ul>
<li>brew search [TEXT|/REGEX/]</li>
<li>brew info [FORMULA...]</li>
<li>brew install FORMULA...</li>
<li>brew update</li>
<li>brew upgrade [FORMULA...]</li>
<li>brew uninstall FORMULA...</li>
<li>brew list [FORMULA...]</li>
</ul>
</li>
<li>
<p>Troubleshooting:</p>
<ul>
<li>brew config</li>
<li>brew doctor</li>
<li>brew install --verbose --debug FORMULA</li>
</ul>
</li>
<li>
<p>Contributing:</p>
<ul>
<li>brew create [URL [--no-fetch]]</li>
<li>brew edit [FORMULA...]</li>
</ul>
</li>
<li>
<p>Further help:</p>
<ul>
<li>brew commands</li>
<li>brew help [COMMAND]</li>
<li>man brew</li>
<li>https://docs.brew.sh</li>
</ul>
</li>
</ul>
<h2 id="其他-1"><a class="header" href="#其他-1">其他</a></h2>
<p>避免触发自动更新</p>
<pre><code class="language-sh">export HOMEBREW_NO_AUTO_UPDATE=1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clion"><a class="header" href="#clion">CLion</a></h1>
<p><a href="https://www.jetbrains.com/clion/">IDE</a> by JetBrains for C/C++ ❤️ <a href="https://intellij-rust.github.io/">IntelliJ Rust</a></p>
<blockquote>
<p>键盘标识： <code>⇧</code> Shift <code>⌃</code> Control <code>⌥</code> Option <code>⌘</code> Command <code>↩</code> Enter</p>
</blockquote>
<h2 id="常用快捷键"><a class="header" href="#常用快捷键">常用快捷键</a></h2>
<p><code>⇧ + ⌘ + A</code> 查找操作（A for Action）-&gt; <code>⇧ + ⌘ + P</code>（VS Code 风格）</p>
<p><code>⌃ + Space</code> 基础代码补全 -&gt; <code>⌃ + C</code> （解决和 Alfred 全局快捷键冲突）</p>
<p><code>⌃ + ⇧ + Space</code> 智能代码补全 -&gt; <code>⌃ + ⇧ + C</code></p>
<p><code>⌥ + ↩</code> 显示快捷操作或快速修复</p>
<p><code>⌃ + T</code> 显示重构操作</p>
<p><code>⌘ + N</code> 快速生成代码</p>
<p><code>⌥ + ⌘ + T</code> 添加 <code>if</code>/<code>while</code>/<code>#ifdef</code> 等</p>
<p><code>⌘ + O</code> 打开类</p>
<p><code>⌘ + ⇧ + O</code> 打开文件</p>
<p><code>双击 ⇧</code> 搜索全局</p>
<h2 id="全部快捷键-1"><a class="header" href="#全部快捷键-1">全部快捷键</a></h2>
<ul>
<li><a href="https://resources.jetbrains.com/storage/products/clion/docs/CLion_ReferenceCard_mac.pdf">Clion Reference Card for mac</a></li>
<li>菜单：<strong>Help -&gt; Keymap Reference</strong></li>
</ul>
<h2 id="更多"><a class="header" href="#更多">更多</a></h2>
<ul>
<li><a href="https://www.jetbrains.com/clion/learn/">Learn CLion</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux"><a class="header" href="#linux">Linux</a></h1>
<p>Free &amp; Open, OS.</p>
<h2 id="工具"><a class="header" href="#工具">工具</a></h2>
<ul>
<li><a href="https://wiki.linuxfoundation.org/networking/iproute2">iproute2</a> - 网络工具包</li>
<li><a href="https://linux.die.net/man/8/ethtool">ethtool(8) </a> - 网络驱动工具包</li>
</ul>
<h2 id="链接-7"><a class="header" href="#链接-7">链接</a></h2>
<ul>
<li>
<p><a href="https://docs.docker.com/">docker</a> - Docker 容器技术，文档</p>
<ul>
<li><a href="https://devhints.io/docker">Docker 命令行快捷指南</a></li>
<li><a href="https://www.docker.com/101-tutorial">Docker 101 Tutorial</a> - 实战交互式上手教程</li>
<li><a href="https://youtu.be/8fi7uSYlOdc">GOTO 2018：Containers from Scratch</a> - Docker 容器原理讲解分享</li>
</ul>
</li>
<li>
<p><a href="https://multipass.run/">multipass</a> - 轻量的 Ubuntu 虚拟机</p>
</li>
</ul>
<h3 id="系统库"><a class="header" href="#系统库">系统库</a></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Curses_(programming_library)">curses</a> - 命令行控制库，用于构建 TUI(text user interface) 应用</li>
</ul>
<h3 id="社区"><a class="header" href="#社区">社区</a></h3>
<ul>
<li><a href="https://www.cncf.io/">CNCF</a> - 云原生计算基金会, Linux 基金会的一部分</li>
<li><a href="https://man7.org/index.html">Michael Kerrisk</a> - 提供 Linux 培训服务与教学资源</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="命令行"><a class="header" href="#命令行">命令行</a></h1>
<p>假装「黑客」一样行事直到不希望被发现。😜</p>
<h2 id="工具-1"><a class="header" href="#工具-1">工具</a></h2>
<ul>
<li><a href="cli/"><code>tree</code></a> - 文件目录展示工具</li>
<li><a href="https://github.com/sharkdp/bat"><code>bat</code></a> - A cat(1) clone with syntax highlighting and Git integration.</li>
<li><a href="https://github.com/XAMPPRocky/tokei"><code>tokei</code></a> - 代码量统计工具</li>
<li><a href="https://github.com/tmux/tmux"><code>tmux</code></a> - 终端复用
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/">A Quick and Easy Guide to tmux</a></li>
<li><a href="https://tmuxcheatsheet.com/">Tmux Cheat Sheet &amp; Quick Reference</a></li>
</ul>
</li>
<li><a href="https://fishshell.com/"><code>fish</code></a> - 交互更友好的 shell
<ul>
<li><a href="https://github.com/jorgebucaran/awsm.fish">awsm.fish</a></li>
</ul>
</li>
<li><a href="https://asciinema.org/">asciinema</a> - Record and share your terminal sessions, the right way.</li>
</ul>
<h2 id="alias"><a class="header" href="#alias">Alias</a></h2>
<pre><code>alias workspace=&quot;open -a Xcode *.xcworkspace&quot;
alias project=&quot;open -a Xcode *.xcodeproj&quot;
</code></pre>
<h2 id="链接-8"><a class="header" href="#链接-8">链接</a></h2>
<ul>
<li><a href="https://devhints.io/docker">Docker 命令行快捷指南</a></li>
<li><a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md">命令行的艺术</a></li>
<li><a href="http://shellhaters.org/">POSIX Shell and Utilities Quick Reference</a></li>
<li><a href="https://dotfiles.github.io/">Unofficial Guide to Dotfiles</a> - Dotfiles 指南</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://www.atlassian.com/git/tutorials/dotfiles">The best way to store your dotfiles: A bare Git repository</a></li>
</ul>
<h3 id="git-版本控制"><a class="header" href="#git-版本控制">Git 版本控制</a></h3>
<ul>
<li>
<p><a href="cli/./git-quick-checklist.html">Git 常用命令速查清单</a></p>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<p><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a> - Git 分支处理交互式教程</p>
</li>
<li>
<p><a href="https://git-scm.com/book/zh/v2">Pro Git</a></p>
</li>
<li>
<p><a href="https://www.git-tower.com/learn/git/ebook/cn/command-line/introduction">Tower- Learn Version Control with Git</a></p>
</li>
<li>
<p><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">图解Git</a></p>
</li>
<li>
<p><a href="https://docs.gitignore.io/install/command-line">gitignore.io cli</a></p>
<details><summary>速览</summary>
<p>安装：</p>
<p>zhs</p>
<pre><code class="language-sh">echo &quot;function gi() { curl -sLw &quot;\n&quot; https://www.toptal.com/  developers/gitignore/api/\$@ ;}&quot; &gt;&gt; \
~/.zshrc &amp;&amp; source ~/.zshrc
</code></pre>
<p>使用：</p>
<ul>
<li><code>gi ios,swift &gt;&gt; .gitignore</code></li>
<li><code>gi list</code></li>
</ul>
</details>
</li>
<li>
<p><a href="https://docs.gitlab.com/ee/user/project/repository/reducing_the_repo_size_using_git.html">Reduce repository size</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vim-技巧"><a class="header" href="#vim-技巧">Vim 技巧</a></h1>
<p><code>gd</code> - Go Definition 跳转符号定义
<code>i</code>/<code>I</code>/<code>a</code>/<code>A</code> - （行首/行尾）插入/追加
<code>C</code> - 删除到行尾
<code>dt</code> + &quot;特定字符&quot; - 删除到特定字符
<code>f</code> + &quot;特定字符&quot; - 当前行查找并跳到特定字符
<code>#</code>/<code>*</code> + <code>zz</code>/<code>zt</code>/<code>zb</code> - 符号间跳转 + 当前光标居中
<code>ctrl</code> + <code>w</code> + <code>h,j,k,l</code> - 窗口间切换
<code>yy</code> + <code>p</code> - 复制某一行 + 粘贴改行至选定区域
<code>v</code>/<code>V</code>/<code>ctrl + v</code> </p>
<h2 id="xvim-配置"><a class="header" href="#xvim-配置">XVim 配置</a></h2>
<pre><code>imap jk &lt;Esc&gt;
imap kj &lt;Esc&gt;
imap jj &lt;Esc&gt;
imap kk &lt;Esc&gt;

map &lt;C-k&gt; 5k
map &lt;C-j&gt; 5j

map &lt;C-K&gt; 10k
map &lt;C-J&gt; 10j
</code></pre>
<h2 id="链接-9"><a class="header" href="#链接-9">链接</a></h2>
<ul>
<li><a href="https://missing-semester-cn.github.io/2020/editors/">./missing-semester - Vim</a></li>
<li><a href="cli/./assets/vim_cheat_sheet.png">Vim Cheat Sheet</a></li>
<li><a href="https://vim.rtorr.com/lang/zh_cn">Vim Cheat Sheet</a></li>
<li><a href="https://github.com/mhinz/vim-galore">🎓 All things Vim!</a></li>
<li><a href="https://www.openvim.com/sandbox.html">Vim Practice Sandbox</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.moolenaar.net/habits.html">Seven habits of effective text editing</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://learnvimscriptthehardway.stevelosh.com/">Learn Vimscript the Hard Way</a></li>
<li><input disabled="" type="checkbox"/>
<a href="http://derekwyatt.org/vim/tutorials/novice/">Vim Novice Videos</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://benmccormick.org/learning-vim-in-2014">Learning Vim in 2014</a></li>
<li><a href="https://github.com/neovide/neovide">neovide/neovide: No Nonsense Neovim Client in Rust</a></li>
<li><a href="https://sharksforarms.dev/posts/neovim-rust/">Neovim and Rust :: sharksforarms</a>
<ul>
<li><a href="https://github.com/simrat39/rust-tools.nvim">simrat39/rust-tools.nvim: Tools for better development in rust using neovim's builtin lsp</a></li>
</ul>
</li>
<li><a href="https://github.com/junegunn/vim-plug">junegunn/vim-plug: Minimalist Vim Plugin Manager</a></li>
</ul>
<h3 id="一移动光标"><a class="header" href="#一移动光标">一、移动光标</a></h3>
<p>h,j,k,l 上，下，左，右</p>
<p>ctrl-e 移动页面</p>
<p>ctrl-f 上翻一页</p>
<p>ctrl-b 下翻一页</p>
<p>ctrl-u 上翻半页</p>
<p>ctrl-d 下翻半页</p>
<p>w 跳到下一个字首，按标点或单词分割</p>
<p>W 跳到下一个字首，长跳，如end-of-line被认为是一个字</p>
<p>e 跳到下一个字尾</p>
<p>E 跳到下一个字尾，长跳</p>
<p>b 跳到上一个字</p>
<p>B 跳到上一个字，长跳</p>
<p>0 跳至行首，不管有无缩进，就是跳到第0个字符</p>
<p>^ 跳至行首的第一个字符</p>
<p>$ 跳至行尾</p>
<p>gg 跳至文首</p>
<p>G 调至文尾</p>
<p>5gg/5G 调至第5行</p>
<p>gd 跳至当前光标所在的变量的声明处</p>
<p>fx 在当前行中找x字符，找到了就跳转至</p>
<p>; 重复上一个f命令，而不用重复的输入fx</p>
<p>* 查找光标所在处的单词，向下查找</p>
<p># 查找光标所在处的单词，向上查找</p>
<h2 id="二删除复制"><a class="header" href="#二删除复制">二、删除复制</a></h2>
<p>dd 删除光标所在行</p>
<p>dw 删除一个字(word)</p>
<p>d/D删除到行末x删除当前字符X删除前一个字符yy复制一行yw复制一个字y/D删除到行末x删除当前字符X删除前一个字符yy复制一行yw复制一个字y/Y 复制到行末</p>
<p>p 粘贴粘贴板的内容到当前行的下面</p>
<p>P 粘贴粘贴板的内容到当前行的上面</p>
<h2 id="三插入模式"><a class="header" href="#三插入模式">三、插入模式</a></h2>
<p>i 从当前光标处进入插入模式</p>
<p>I 进入插入模式，并置光标于行首</p>
<p>a 追加模式，置光标于当前光标之后</p>
<p>A 追加模式，置光标于行末</p>
<p>o 在当前行之下新加一行，并进入插入模式</p>
<p>O 在当前行之上新加一行，并进入插入模式</p>
<p>Esc 退出插入模式</p>
<h2 id="四编辑"><a class="header" href="#四编辑">四、编辑</a></h2>
<p>J 将下一行和当前行连接为一行</p>
<p>cc 删除当前行并进入编辑模式</p>
<p>cw 删除当前字，并进入编辑模式</p>
<p>c$ 擦除从当前位置至行末的内容，并进入编辑模式</p>
<p>s 删除当前字符并进入编辑模式</p>
<p>S 删除光标所在行并进入编辑模式</p>
<p>xp 交换当前字符和下一个字符</p>
<p>u 撤销</p>
<p>ctrl+r 重做</p>
<p>~ 切换大小写，当前字符</p>
<p>&gt;&gt; 将当前行右移一个单位</p>
<p>&lt;&lt; 将当前行左移一个单位(一个tab符)</p>
<p>== 自动缩进当前行</p>
<h2 id="五查找替换"><a class="header" href="#五查找替换">五、查找替换</a></h2>
<p>/pattern 向后搜索字符串pattern</p>
<p>?pattern 向前搜索字符串pattern</p>
<p>&quot;\c&quot; 忽略大小写</p>
<p>&quot;\C&quot; 大小写敏感</p>
<p>n 下一个匹配(如果是/搜索，则是向下的下一个，?搜索则是向上的下一个)</p>
<p>N 上一个匹配(同上)</p>
<p>:%s/old/new/g 搜索整个文件，将所有的old替换为new</p>
<p>:%s/old/new/gc 搜索整个文件，将所有的old替换为new，每次都要你确认是否替换</p>
<h2 id="六退出编辑器"><a class="header" href="#六退出编辑器">六、退出编辑器</a></h2>
<p>:w 将缓冲区写入文件，即保存修改</p>
<p>:wq 保存修改并退出</p>
<p>:x 保存修改并退出</p>
<p>:q 退出，如果对缓冲区进行过修改，则会提示</p>
<p>:q! 强制退出，放弃修改</p>
<h2 id="七多文件编辑"><a class="header" href="#七多文件编辑">七、多文件编辑</a></h2>
<p>vim file1.. 同时打开多个文件</p>
<p>:args 显示当前编辑文件</p>
<p>:next 切换到下个文件</p>
<p>:prev 切换到前个文件</p>
<p>:next！ 不保存当前编辑文件并切换到下个文件</p>
<p>:prev！ 不保存当前编辑文件并切换到上个文件</p>
<p>:wnext 保存当前编辑文件并切换到下个文件</p>
<p>:wprev 保存当前编辑文件并切换到上个文件</p>
<p>:first 定位首文件</p>
<p>:last 定位尾文件</p>
<p>ctrl+^ 快速在最近打开的两个文件间切换</p>
<p>:split[sp] 把当前文件水平分割</p>
<p>:split file 把当前窗口水平分割, file</p>
<p>:vsplit[vsp] file 把当前窗口垂直分割, file</p>
<p>:new file 同split file</p>
<p>:close 关闭当前窗口</p>
<p>:only 只显示当前窗口, 关闭所有其他的窗口</p>
<p>:all 打开所有的窗口</p>
<p>:vertical all 打开所有的窗口, 垂直打开</p>
<p>:qall 对所有窗口执行：q操作</p>
<p>:qall! 对所有窗口执行：q!操作</p>
<p>:wall 对所有窗口执行：w操作</p>
<p>:wqall 对所有窗口执行：wq操作</p>
<p>ctrl-w h 跳转到左边的窗口</p>
<p>ctrl-w j 跳转到下面的窗口</p>
<p>ctrl-w k 跳转到上面的窗口</p>
<p>ctrl-w l 跳转到右边的窗口</p>
<p>ctrl-w t 跳转到最顶上的窗口</p>
<p>ctrl-w b 跳转到最底下的窗口</p>
<h2 id="八多标签编辑"><a class="header" href="#八多标签编辑">八、多标签编辑</a></h2>
<p>:tabedit file 在新标签中打开文件file</p>
<p>:tab split file 在新标签中打开文件file</p>
<p>:tabp 切换到前一个标签</p>
<p>:tabn 切换到后一个标签</p>
<p>:tabc 关闭当前标签</p>
<p>:tabo 关闭其他标签</p>
<p>gt 到下一个tab</p>
<p>gT 到上一个tab</p>
<p>0gt 跳到第一个tab</p>
<p>5gt 跳到第五个tab</p>
<h2 id="九执行shell命令"><a class="header" href="#九执行shell命令">九、执行shell命令</a></h2>
<p>1、在命令模式下输入&quot;:sh&quot;，可以运行相当于在字符模式下，到输入结束想回到VIM编辑器中用exit，ctrl+D返回VIM编辑器</p>
<p>2、可以&quot;!command&quot;，运行结束后自动回到VIM编辑器中</p>
<p>3、用“Ctrl+Z“回到shell，用fg返回编辑</p>
<p>4、:!make -&gt; 直接在当前目录下运行make指令</p>
<h2 id="十vim启动项"><a class="header" href="#十vim启动项">十、VIM启动项</a></h2>
<p>-o[n] 以水平分屏的方式打开多个文件</p>
<p>-O[n] 以垂直分屏的方式打开多个文件</p>
<h2 id="十一自动排版"><a class="header" href="#十一自动排版">十一、自动排版</a></h2>
<p>在粘贴了一些代码之后，vim变得比较乱，只要执行gg=G就能搞定</p>
<h2 id="十二如何在vim中编译程序"><a class="header" href="#十二如何在vim中编译程序">十二、如何在vim中编译程序</a></h2>
<p>在vim中可以完成make,而且可以将编译的结果也显示在vim里，先执行 :copen 命令，将结果输出的窗口打开，然后执行 :make</p>
<p>编译后的结果就显示在了copen打开的小窗口里了，而且用鼠标双击错误信息，就会跳转到发生错误的行。</p>
<h2 id="十三buffer操作"><a class="header" href="#十三buffer操作">十三、buffer操作</a></h2>
<p>1、buffer状态</p>
<p>- （非活动的缓冲区）</p>
<p>a （当前被激活缓冲区）</p>
<p>h （隐藏的缓冲区）</p>
<p>% （当前的缓冲区）</p>
<p># （交换缓冲区）</p>
<p>= （只读缓冲区）</p>
<p>+ （已经更改的缓冲区）</p>
<h2 id="十四-vim-操作目录"><a class="header" href="#十四-vim-操作目录">十四、 VIM 操作目录</a></h2>
<p>1.打开目录</p>
<p>vim .</p>
<p>vim a-path/</p>
<p>2.以下操作在操作目录时生效</p>
<p>p,P,t,u,U,x,v,o,r,s</p>
<p>c 使当前打开的目录成为当前目录</p>
<p>d 创建目录</p>
<p>% 创建文件</p>
<p>D 删除文件/目录</p>
<p>- 转到上层目录</p>
<p>gb 转到上一个 bookmarked directory</p>
<p>i 改变目录文件列表方式</p>
<p>^l 刷新当前打开的目录</p>
<p>mf - 标记文件</p>
<p>mu - unmark all marked files</p>
<p>mz - Compress/decompress marked files</p>
<p>gh 显示/不显示隐藏文件( dot-files)</p>
<p>^h 编辑隐藏文件列表</p>
<p>a 转换显示模式, all - hide - unhide</p>
<p>qf diplay infomation about file</p>
<p>qb list the bookmarked directories and directory traversal history</p>
<p>gi Display information on file</p>
<p>mb</p>
<p>mc</p>
<p>md - 将标记的文件(mf标记文件)使用 diff 模式</p>
<p>me - 编辑标记的文件,只显示一个，其余放入 buffer 中</p>
<p>mh</p>
<p>mm - move marked files to marked-file target directory</p>
<p>mc - copy</p>
<p>mp</p>
<p>mr</p>
<p>mt</p>
<p>vim 中复制,移动文件</p>
<p>1, mt - 移动到的目录</p>
<p>2, mf - 标记要移动的文件</p>
<p>3, mc - 移动/复制</p>
<p>R 移动文件</p>
<p>打开当前编辑文件的目录</p>
<p>:Explore</p>
<p>:Hexplore</p>
<p>:Nexplore</p>
<p>:Pexplore</p>
<p>:Sexplore</p>
<p>:Texplore</p>
<p>:Vexplore</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-常用命令速查清单"><a class="header" href="#git-常用命令速查清单">Git 常用命令速查清单</a></h1>
<table><thead><tr><th><strong>操作命令</strong></th><th>描述</th></tr></thead><tbody>
<tr><td><strong>分支</strong></td><td></td></tr>
<tr><td><code>git branch</code></td><td>列出全部本地分支</td></tr>
<tr><td><code>git branch -a</code></td><td>列出全部本地与远程分支</td></tr>
<tr><td><code>git checkout -b &lt;branch_name&gt;</code></td><td>创建本地新分支并切换为当前分支</td></tr>
<tr><td><code>git checkout &lt;branch_name&gt;</code></td><td>切换本地已有分支为当前分支</td></tr>
<tr><td><code>git push origin &lt;branch_name&gt;</code></td><td>推送分支到远程</td></tr>
<tr><td><code>git branch -m &lt;new_name&gt;</code></td><td>重命名当前分支</td></tr>
<tr><td><code>git branch -d &lt;branch_name&gt;</code></td><td>删除本地分支</td></tr>
<tr><td><code>git push origin :&lt;branch_name&gt;</code></td><td>删除远程分支</td></tr>
<tr><td><strong>历史</strong></td><td></td></tr>
<tr><td><code>git log --oneline</code></td><td>显示所有提交（单行模式：仅哈希值与提交信息）</td></tr>
<tr><td><code>git log -2</code></td><td>显示最近 N 条提交</td></tr>
<tr><td><code>git log -p -2</code></td><td>显示最近 N 条提交，并显示相应修改</td></tr>
<tr><td><code>git diff</code></td><td>显示当前工作区与上次提交版本的区别</td></tr>
<tr><td><code>git diff &lt;myfile&gt;</code></td><td>显示某个文件与上次提交版本的区别</td></tr>
<tr><td><code>git blame &lt;myfile&gt;</code></td><td>显示某个文件被「谁」在什么时候修改过</td></tr>
<tr><td><code>git remote show origin</code></td><td>显示远程分支与本地分支的跟踪关系</td></tr>
<tr><td><strong>清理</strong></td><td></td></tr>
<tr><td><code>git clean -f</code></td><td>删除全部未跟踪的文件</td></tr>
<tr><td><code>git clean -df</code></td><td>删除全部未跟踪的文件和文件夹</td></tr>
<tr><td><code>git checkout -- .</code></td><td>重置本地全部更改</td></tr>
<tr><td><code>git reset HEAD &lt;myfile&gt;</code></td><td>移除缓冲区中的某个文件</td></tr>
<tr><td><code>git reset $(git merge-base master feaure/x)</code></td><td>把 MR 的分支的合并记录移除，压缩为一条提交</td></tr>
<tr><td><strong>标签</strong></td><td></td></tr>
<tr><td><code>git tag</code></td><td>列出全部标签</td></tr>
<tr><td><code>git tag -a &lt;tag_name&gt; -m &quot;tag message&quot;</code></td><td>创建新标签</td></tr>
<tr><td><code>git push --tags</code></td><td>推送全部标签到远程</td></tr>
<tr><td><strong>暂存</strong></td><td></td></tr>
<tr><td><code>git stash save &quot;&lt;stash name&gt;&quot; &amp;&amp; git stash</code></td><td>暂存工作区全部改动</td></tr>
<tr><td><code>git stash list</code></td><td>列出全部暂存</td></tr>
<tr><td><code>git stash pop</code></td><td>恢复最新暂存到工作区</td></tr>
<tr><td><strong>配置</strong></td><td></td></tr>
<tr><td><code>git config -l</code></td><td>列出当前已有配置</td></tr>
<tr><td><code>git config --local -l</code></td><td>列出当前仓库配置</td></tr>
<tr><td><code>git config --global -l</code></td><td>列出全局配置</td></tr>
<tr><td><code>git config --system -l</code></td><td>列出系统配置</td></tr>
<tr><td><code>git config --global user.name &lt;username&gt;</code></td><td>设置用户名</td></tr>
<tr><td><code>git config --global user.email &lt;email&gt;</code></td><td>设置用户邮箱</td></tr>
<tr><td><strong>同步上游</strong></td><td></td></tr>
<tr><td><code>git fetch upstream</code></td><td>获取上游分支及提交</td></tr>
<tr><td><code>git checkout master</code></td><td>切换本地 <code>master</code> 分支</td></tr>
<tr><td><code>git merge upstream/master</code></td><td>合并上游更改到本地 <code>master</code> 分支</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="计算机科学基础"><a class="header" href="#计算机科学基础">计算机科学基础</a></h1>
<p>与 CS 相关的基础知识，修炼内功。</p>
<ul>
<li>
<p><a href="http://cs50.tv/">哈佛 CS50</a> - 最好的计算机基础在线课程，没有之一</p>
</li>
<li>
<p><a href="http://sarabander.github.io/sicp/html/index.xhtml">Structure and Interpretation of Computer Programs</a></p>
</li>
<li>
<p><a href="https://www.codedump.info/post/20200501-system-guide-for-application-programmer/">面向应用开发者的系统指南</a></p>
<ul>
<li>TODO: Keep up 整理幕布大纲</li>
</ul>
</li>
<li>
<p><a href="cs/./class/cs110l.html">斯坦福大学：系统编程的安全性</a></p>
</li>
<li>
<p><a href="cs/./class/missing-semester.html">麻省理工学院：计算机教育中缺失的一课</a></p>
</li>
</ul>
<h2 id="链接-10"><a class="header" href="#链接-10">链接</a></h2>
<ul>
<li><a href="https://pdos.csail.mit.edu/">MIT CSAIL Parallel and Distributed Operating Systems Group</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cs-110l-safety-in-systems-programming"><a class="header" href="#cs-110l-safety-in-systems-programming">CS 110L: Safety in Systems Programming</a></h1>
<p><a href="https://web.stanford.edu/class/cs110l/">斯坦福大学：系统编程的安全性</a></p>
<h3 id="内存安全和-rust-基础知识"><a class="header" href="#内存安全和-rust-基础知识">内存安全和 Rust 基础知识</a></h3>
<ul>
<li>什么是内存安全？为什么在 C 和 C++ 中存在内存安全问题？</li>
<li>可以使用哪些工具来查找 C/C++ 代码中的问题？</li>
<li>其他编程语言如何帮助我们避免在程序中出错？</li>
<li>Rust 的内存模型：所有权、生命周期、引用（智能指针&amp;借用）</li>
<li>C++ 中的 <a href="https://zh.wikipedia.org/zh-cn/RAII">RAII</a>，以及它与 Rust 的比较</li>
</ul>
<blockquote>
<p>RAII: Resource Acquisition Is Initialization, 资源获取即初始化</p>
</blockquote>
<h3 id="如何构建好的代码"><a class="header" href="#如何构建好的代码">如何构建好的代码？</a></h3>
<ul>
<li><code>null</code> 的陷阱；以及 Rust 中的 <code>Option</code> &amp; <code>Result</code></li>
<li>Rust 中的枚举</li>
<li>不同的抽象方式：面向特征（<code>trait</code>）/协议编程 vs. 面向对象编程</li>
</ul>
<h3 id="避免多进程陷阱"><a class="header" href="#避免多进程陷阱">避免多进程陷阱</a></h3>
<ul>
<li>管道（pipe）的管理：如何避免资源泄漏?</li>
<li>信号处理：为什么这么难做好？怎样才能做得更好？</li>
</ul>
<h3 id="避免多线程陷阱"><a class="header" href="#避免多线程陷阱">避免多线程陷阱</a></h3>
<ul>
<li>在线程上下文中重新审视内存安全</li>
<li>如何使用 Rust 的内存模型来防止竞争条件？什么情况下又防止不了？</li>
<li>锁（Mutexes）, 自动引用计数智能指针（arc pointers）, 信号量（semaphores）, 条件变量（condition variables）</li>
<li>消息传递作为传统共享内存的替代方案</li>
</ul>
<h3 id="实验课网络系统"><a class="header" href="#实验课网络系统">实验课：网络系统</a></h3>
<ul>
<li>处理和发送 HTTP 请求</li>
<li>实现多线程服务器</li>
<li>分布式系统中的负载平衡、故障处理</li>
<li>非阻塞 I/O； Rust 中的 async/await和<code>future</code></li>
</ul>
<h2 id="课程讲义"><a class="header" href="#课程讲义">课程讲义</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-01.pdf">#01: Welcome to CS 110L</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-02.pdf">#02: Program Analysis</a>
<ul>
<li>动态分析（Dynamic Analysis）
<ul>
<li>Fuzzing，模糊测试</li>
<li><a href="https://llvm.org/docs/LibFuzzer.html">llvm - libFuzzer</a></li>
<li><a href="https://github.com/google/oss-fuzz">Google - OSS-Fuzz</a></li>
</ul>
</li>
<li>静态分析（Static Analysis）
<ul>
<li>&quot;linting&quot;, <a href="https://clang.llvm.org/extra/clang-tidy/">llvm - clang-tidy</a></li>
<li>数据流（Dataflow）分析，分支判断</li>
<li>局限：上下文有限，实际场景下很多问题都无法被发现</li>
</ul>
</li>
<li>Precondition &amp; Postcondition, 一致性维护，e.g: <code>strncpy()</code>
<ul>
<li>C/C++ 语言中，这种一致性维护保证取决于开发者，是否能够让编译器/静态分析器保证？</li>
<li>关键：C 语言诸多条件无法表达</li>
</ul>
</li>
<li>类型系统（Type System）
<ul>
<li>C 语言类型系统：<strong>Simple != easy</strong></li>
<li>如何通过类型系统在代码中表达&amp;维护前/后置条件？</li>
<li>Next：Meet <a href="cs/class/../../programming-languages/rust/rust.html">Rust 🦀️</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-03.pdf">#03: Memory Safety</a>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/lecture-notes/lecture-03/">Lecture notes</a></li>
<li>内存泄漏（Memory Leaks）：扩容时，旧数据内存没有释放</li>
<li>重复释放（Double Free）：数据内存缓冲区被多次释放</li>
<li>悬垂指针（Dangling Pointers）： 返回栈上的指针，但指向的内存已被释放
<ul>
<li>迭代器失效（Iterator Invalidation）：旧容器指针由于扩容等原因被释放</li>
</ul>
</li>
<li>什么是良好的代码？
<ul>
<li>前置/后置条件对于将代码分解为具有明确定义的接口的小块至关重要</li>
<li>开发者的职责则是维护好这些前置/后置条件</li>
</ul>
</li>
<li>良好的内存管理
<ul>
<li>何时释放内存？
<ul>
<li>释放得太早，其他代码可能通过指针访问到已被释放的内存</li>
<li>不释放或释放得太晚，则会造成内存泄漏</li>
</ul>
</li>
<li>良好的 C/C++ 代码会清晰定义内存是如何被传递以及释放的职责
<ul>
<li>注释中常常以“ownership”标记内存所有者</li>
</ul>
</li>
</ul>
</li>
<li>类型系统
<ul>
<li>是否有能够更好指定前置/后置条件的类型系统支持的编程语言？（Meet Rust🦀️）</li>
</ul>
</li>
<li>所有权
<ul>
<li>什么是所有权？（指针和绑定的内存对象之间的关系</li>
<li>同一时刻：1对1</li>
<li>指针作用域不存在，在其拥有所有权的内存对象就会被释放</li>
</ul>
</li>
<li>借用
<ul>
<li>临时引用内存对象</li>
</ul>
</li>
<li>资料
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://rufflewind.com/2017-02-15/rust-move-copy-borrow">Graphical depiction of ownership and borrowing in Rust</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="http://xion.io/post/code/rust-for-loop.html">for loops in Rust</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://doc.rust-lang.org/nomicon/ownership.html">Rust Book - Ownership and Lifetimes</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-04.pdf">#04: Ownership continued</a>
<ul>
<li>Ownership in Memory
<ul>
<li><code>Drop</code>特性</li>
<li>转移所有权时浅拷贝变量「Shadow copy」,并将之前的变量弃用,避免「Double free」</li>
<li>深拷贝,采用<code>clone</code>方法</li>
<li>Rust 中部分类型的值直接在栈上存储,不用堆(integer types (u32), booleans)</li>
<li>这些类型通常都默认实现了<code>Copy</code>特性</li>
<li>如果拥有了<code>Copy</code>特性,则不能同时拥有<code>Drop</code>特性</li>
<li>没有<code>Copy</code>特性,则默认所有权将转移</li>
</ul>
</li>
<li>Borrowing++
<ul>
<li>Rust 中的变量默认不可变,须<code>mut</code>指定可变</li>
<li><code>&amp;</code>(Borrowing)创建引用类型(Reference)</li>
<li>引用规则:多个不可变引用或仅有一个可变引用</li>
</ul>
</li>
<li>所有权机制和借用规则,可在编译时避免诸多内存问题</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-05.pdf">#05: Error handling</a>
<ul>
<li>C/C++ 语言中的错误处理</li>
<li>大多数语言中的错误处理方式：异常（Exception）</li>
<li>更好的错误处理方式：枚举（Enum）</li>
<li>Rust 中的错误处理：<code>enum Result&lt;T, E&gt;</code>
<ul>
<li><a href="https://doc.rust-lang.org/book/ch09-02-recoverable-errors-with-result.html">Recoverable Errors with Result</a></li>
<li><code>?</code> 操作符</li>
<li><code>Panic</code></li>
<li><code>unwrap()</code> and <code>expect()</code></li>
</ul>
</li>
<li>Rust 中的<code>null</code>空值处理：<code>enum Option&lt;T&gt;</code></li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/lecture-notes/lecture-06/">#06: Custom Types I</a>
<ul>
<li>实现链表数据结构</li>
</ul>
</li>
</ul>
<pre><pre class="playground"><code class="language-rust">struct Node {
    value: i32,
    next: Option&lt;Box&lt;Node&gt;&gt;,
}

fn main() {
    let mut first = Box::new(Node {
        value: 1,
        next: None,
    });
    let mut second = Box::new(Node {
        value: 2,
        next: None,
    });
    let third = Box::new(Node {
        value: 3,
        next: None,
    });

    second.next = Some(third);
    first.next = Some(second);

    let mut curr: Option&lt;&amp;Box&lt;Node&gt;&gt; = Some(&amp;first);
    while curr.is_some() {
        // we can unwrap the Option because we know for sure that curr is Some
        println!(&quot;{}&quot;, curr.unwrap().value);
        let next: &amp;Option&lt;Box&lt;Node&gt;&gt; = &amp;curr.unwrap().next;
        // Get an Option with a reference to the next element
        curr = next.as_ref();
    }
}
</code></pre></pre>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-07.pdf">#07: Custom Types II - Garbage collection</a>
<ul>
<li>思考：为什么 Rust 实现链表相比类似 Python 等语言看起来更复杂？</li>
<li>C/C++ 面临的问题：什么时候合理释放内存？</li>
<li>Rust 的解决方案：类型系统&amp;所有权&amp;借用机制</li>
<li>更传统的内存安全机制：垃圾回收（Garbage collection）
<ul>
<li>无须关心内存释放</li>
<li>运行时，系统会检测内存使用情况并适时回收释放</li>
</ul>
</li>
<li>垃圾回收的缺点：
<ul>
<li>不可避免有一定运行时开销</li>
<li>系统回收的运行打断</li>
<li>回收时机不确定</li>
<li>难以手动优化</li>
</ul>
</li>
<li>总结
<ul>
<li>必要时使用支持垃圾回收的编程语言，但需要了解其局限性</li>
<li>资源有限或对延时敏感的情况下，垃圾回收的编程语言不是好的选择</li>
</ul>
</li>
<li>More：Rust 不仅仅是内存安全</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-08.pdf">#08: Traits - Object Oriented Programming in Rust</a>
<ul>
<li>思考：如何使用 Rust 写出良好的代码？</li>
<li>C++ 中的面向对象
<ul>
<li>类（<code>Class</code>）：<code>methods</code>/<code>instances</code>/<code>public</code>/<code>private</code></li>
</ul>
</li>
<li>类（Class）的优点
<ul>
<li>代码复用（继承特性支持）</li>
<li>代码可见性控制</li>
</ul>
</li>
<li>继承可能存在的缺点
<ul>
<li>继承树：父类的改动会影响其整个子类继承树</li>
</ul>
</li>
<li>Trait（特性）<a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=924a5adcbd9f4ebc5437897334e4b521">代码示例</a>
<ul>
<li>「特性注入」，支持引用<code>self</code>，可依赖实例对象</li>
<li>特性声明的方法可以不被预先实现，由最终类型实现</li>
<li>不再有复杂的继承关系，只需要思考「某个类型实现了某种特性」</li>
</ul>
</li>
<li>标准库中的常用特性
<ul>
<li><code>Copy</code>: 赋值操作采用拷贝的方式而非所有权转移</li>
<li><code>Clone</code>: <code>.clone()</code> 方法返回实例对象的拷贝</li>
<li><code>Drop</code>: 定义内存释放的方式，对象离开作用域时调用</li>
<li><code>Display</code>: 格式化输出</li>
<li><code>Debug</code>: 类似<code>Display</code>，非面向用户，而是面向调试</li>
<li><code>Eq</code>: 定义两个相同类型的对象的可等性</li>
<li><code>PartialEq</code>: 定义两个相同类型的对象的部分可等性</li>
</ul>
</li>
<li>代码示例：<a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=924a5adcbd9f4ebc5437897334e4b521">注入克隆特性</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-09.pdf">#09: Generics</a>
<ul>
<li>泛型：类型参数</li>
<li>Trait bounds</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn max&lt;T: PartialOrd&gt;(x: T, y: T) -&gt; T {
    if x &gt; y { x } else { y }
}
<span class="boring">}
</span></code></pre></pre>
<ul>
<li>数据结构也支持泛型</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub enum Result&lt;T, E&gt; {
    /// Contains the success value
    Ok(T),
    /// Contains the error value
    Err(E),
}
<span class="boring">}
</span></code></pre></pre>
</li>
</ul>
<blockquote>
<p>先修：<a href="http://web.stanford.edu/class/cs110">CS 110: Principles of Computer Systems</a></p>
</blockquote>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-11.pdf">#10 &amp; #11: Pitfalls in Multiprocessing &amp; II</a> ❓
<ul>
<li>
<blockquote>
<p>不要调用<code>fork()</code></p>
</blockquote>
<ul>
<li>使用<code>fork()</code>的场景：
<ul>
<li>并发执行另一段程序</li>
<li>调用系统的外部功能</li>
</ul>
</li>
<li>针对并发执行场景
<ul>
<li>可能出错的情况：
<ul>
<li>生成多个子进程时意外嵌套</li>
<li>子进程意外执行非预期的代码</li>
<li>使用到涉及其他线程的数据资源</li>
<li>释放问题（僵尸进程）</li>
</ul>
</li>
<li>最好将想要并发执行的任务放在单独的可执行文件</li>
</ul>
</li>
<li>针对调用系统的外部功能场景
<ul>
<li>fork() &amp; exec()</li>
</ul>
</li>
<li>Rust中的<code>Command</code></li>
</ul>
</li>
<li>
<blockquote>
<p>不要调用<code>pipe()</code></p>
</blockquote>
</li>
<li>
<blockquote>
<p>不要调用<code>signal()</code></p>
</blockquote>
<ul>
<li>了解异步安全函数</li>
<li><a href="https://github.com/Detegr/rust-ctrlc">Rust-CtrlC</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-12.pdf">#12: Chrome and Firefox</a>
<ul>
<li>进程间通讯
<ul>
<li>信号和管道</li>
</ul>
</li>
<li>线程
<ul>
<li>独立的堆栈和寄存器</li>
<li>共享进程的资源</li>
</ul>
</li>
<li>设计浏览器的一些考虑因素
<ul>
<li>响应速度</li>
<li>内存占用</li>
<li>耗电/CPU 占用</li>
<li>易于开发</li>
<li>安全&amp;稳定</li>
</ul>
</li>
<li>现代浏览器几乎就是个操作系统
<ul>
<li>参考：<a href="https://developer.mozilla.org/en-US/docs/Web/API">Mozilla Web APIs</a></li>
<li>存储接口</li>
<li>并发接口</li>
<li>硬件接口</li>
<li>运行 WebAssembly</li>
<li>甚至是运行 Windows95：https://win95.ajf.me/</li>
</ul>
</li>
<li>Chrome 设计
<ul>
<li>架构图
<img src="cs/class/./cs110_assets/browserui.png" alt="Chrome 架构图" /></li>
<li>70% 严重的安全问题由内存问题引起</li>
<li>多进程沙盒隔离机制的问题：资源消耗</li>
</ul>
</li>
<li>新方向：Servo
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://www.youtube.com/watch?v=an5abNFba4Q">Servo 架构</a></li>
<li>Rust 重构的限制：
<ul>
<li>完全重写不实际，大部分已有代码还将是 C++</li>
<li>重写意味着会引入新 bug</li>
<li>Rust 也还是有 unsafe 的部分</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-13.pdf">#13: Intro to Multithreading</a>
<ul>
<li>并发编程的注意点：
<ul>
<li>为什么要使用并发编程</li>
<li>为什么并发编程有一定风险？
<ul>
<li>竞态条件</li>
<li>死锁</li>
</ul>
</li>
<li>并发问题很难测试&amp;调试</li>
</ul>
</li>
<li>避免数据竞争
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html">Fearless Concurrency with Rust</a></li>
</ul>
</li>
<li>代码示例</li>
</ul>
</li>
</ul>
<pre><pre class="playground"><code class="language-rust">extern crate rand;

use rand::Rng;
use std::{thread, time};

const NUM_THREADS: u32 = 20;

fn main() {
    let mut threads = Vec::new();
    println!(&quot;Spawning {} threads...&quot;, NUM_THREADS);
    for _ in 0..NUM_THREADS {
        threads.push(thread::spawn(|| {
            let mut rng = rand::thread_rng();
            thread::sleep(time::Duration::from_millis(rng.gen_range(0..=5000)));
            println!(&quot;Thread finished running!&quot;);
        }));
    }
    // wait for all the threads to finish
    for handle in threads {
        handle.join().expect(&quot;Panic happened inside of a thread!&quot;);
    }
    println!(&quot;All threads finished!&quot;);
}
</code></pre></pre>
<pre><code>- 共享所有权
    - 不同线程共享所有权通过引用计数
    - 使用 Mutex 协同不同线程对共享所有权的资源访问
</code></pre>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/lecture-notes/lecture-14/">#14: Multithreading Practice</a></li>
</ul>
<pre><pre class="playground"><code class="language-rust">extern crate reqwest;
extern crate select;
#[macro_use]
extern crate error_chain;

use select::document::Document;
use select::predicate::Name;

error_chain! {
   foreign_links {
       ReqError(reqwest::Error);
       IoError(std::io::Error);
   }
}

const TARGET_PAGE: &amp;str = &quot;https://en.wikipedia.org/wiki/Multithreading_(computer_architecture)&quot;;

fn get_linked_pages(html_body: &amp;str) -&gt; Result&lt;Vec&lt;String&gt;&gt; {
    Ok(Document::from_read(html_body.as_bytes())?
        .find(Name(&quot;a&quot;))
        .filter_map(|n| {
            if let Some(link_str) = n.attr(&quot;href&quot;) {
                if link_str.starts_with(&quot;/wiki/&quot;) {
                    Some(format!(&quot;{}/{}&quot;, &quot;https://en.wikipedia.org&quot;, &amp;link_str[1..]))
                } else {
                    None
                }
            } else {
                None
            }
        })
        .collect::&lt;Vec&lt;String&gt;&gt;())
}

// Adapted from https://rust-lang-nursery.github.io/rust-cookbook/web/scraping.html
fn main() -&gt; Result&lt;()&gt; {
    let html_body = reqwest::blocking::get(TARGET_PAGE)?.text()?;
    // Identify all linked wikipedia pages
    let links = get_linked_pages(&amp;html_body)?;

    let mut longest_article_url = &quot;&quot;.to_string();
    let mut longest_article_len = 0;
    for link in &amp;links {
        let body = reqwest::blocking::get(link)?.text()?;
        let curr_len = body.len();
        if curr_len &gt; longest_article_len {
            longest_article_len = curr_len;
            longest_article_url = link.to_string();
        }
    }
    println!(
        &quot;{} was the longest article with length {}&quot;,
        longest_article_url, longest_article_len
    );
    Ok(())
}
</code></pre></pre>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-15.pdf">#15: Channels</a>
<ul>
<li>多线程的特点：
<ul>
<li>优点：
<ul>
<li>快速（相比多进程更少上下文切换）</li>
<li>简单（共享内存可以方便地共用数据）</li>
</ul>
</li>
<li>缺点：
<ul>
<li>容易造成数据竞态，且难以排查'</li>
</ul>
</li>
</ul>
</li>
<li>如果不共享内存？
<ul>
<li>Golang：“Do not communicate by sharing memory; instead, share memory by communicating.”</li>
<li>消息传递：各线程/进程通过互相消息传递进行交互</li>
</ul>
</li>
<li>Channels：类似信号量（Semaphores)
<ul>
<li><code>let struct = receive_end.recv().unwrap()</code></li>
<li><code>send_end.send(struct).unwrap()</code></li>
</ul>
</li>
<li>Channels：类似强类型管道</li>
<li>消息传递是否影响性能？
<ul>
<li>部分内存共享+浅拷贝</li>
</ul>
</li>
<li>Channels API 和实现
<ul>
<li>MPMC (multi-producer, multi-consumer) channel</li>
<li>The <a href="https://docs.rs/crossbeam">crossbeam</a> crate</li>
</ul>
</li>
<li>Channels
<ul>
<li>对于全局变量值场景，channels 不合适</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/slides/lecture-16.pdf">#16: Scalability and Availability</a> ⭐️
<ul>
<li>网络基础知识（略：IP、DNS 解析……; 讲义中大量详尽的图解）
<ul>
<li>理解端口号（Port number）</li>
<li>启动服务
<ul>
<li>进程与端口绑定</li>
</ul>
</li>
<li>客户端连接</li>
</ul>
</li>
<li>可扩展性和可用性</li>
<li>配置一个简单的服务
<ul>
<li>是否可扩展？
<ul>
<li>单机不具备可扩展性
<ul>
<li>单机提升性能要比多台机器扩展提升性能成本要高很多</li>
</ul>
</li>
<li>横向扩展，而不是依赖单机性能提升</li>
</ul>
</li>
<li>是否可用？
<ul>
<li>单机的资源随着负载增加会逐渐消耗资源</li>
<li>单机会造成单点故障导致不可用（系统崩溃、硬件故障、网络异常等）</li>
</ul>
</li>
</ul>
</li>
<li>分布式系统
<ul>
<li>将系统功能部署在分布式集群，来达到高可扩展和高可用</li>
<li>分布式集群中的机器通过网络通信协作</li>
</ul>
</li>
<li>横向扩展
<ul>
<li>分布式数据库</li>
<li>负载均衡
<ul>
<li>「负载均衡的负载均衡」: DNS、IP Anycast
<img src="cs/class/./cs110_assets/ditributed_system.png" alt="分布式系统" /></li>
</ul>
</li>
</ul>
</li>
<li>面向失败设计</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://reberhardt.com/cs110l/spring-2021/slides/lecture-17.pdf">#17: Information Security</a>
<ul>
<li>不要向善意询问的攻击者提供信息
<ul>
<li>认证和授权（Authentication&amp;Authorization）</li>
<li>采用统一的框架，处理所有的请求认证，再处理实际逻辑</li>
</ul>
</li>
<li>确保依赖项不会向善意询问的攻击者提供信息
<ul>
<li><a href="https://www.elastic.co/cn/what-is/elasticsearch">Elasticsearch</a> - 分布式的免费开源搜索和分析引擎</li>
<li>数据泄漏</li>
<li>默认配置项</li>
<li>面向安全设计</li>
</ul>
</li>
<li>不要向恶意攻击者提供信息
<ul>
<li>如何保持系统软件更新</li>
<li>减小攻击面，无须供外部访问的就避免接入网络</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://reberhardt.com/cs110l/spring-2021/slides/lecture-18.pdf">#18: Event-Driven Programming I</a>
<ul>
<li>思考：如何比多线程做得更好？</li>
<li>回顾：线程
<ul>
<li>「轻量级进程」
<ul>
<li>流程控制：在线程中单独运行方法指令</li>
<li>资源状态：堆栈内存、CPU 寄存器、线程状态（Ready/Running/Blocked）等</li>
</ul>
</li>
<li>操作系统管理线程
<ul>
<li>调度器实际管理线程运行所在处理器核心，并且适当时机进行切换</li>
<li>演示：线程如何调度</li>
</ul>
</li>
<li>阻塞系统调用</li>
<li>多线程存在的问题：
<ul>
<li>上下文切换的资源开销</li>
<li>内存资源开销：每个线程都有自己的栈内存空间</li>
</ul>
</li>
</ul>
</li>
<li>非阻塞 I/O
<ul>
<li>epoll</li>
<li>挑战：状态管理
<ul>
<li>Future</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>trait Future { // This is a simplified version of the Future definition
    type Output;
    fn poll(&amp;mut self, cx: &amp;mut Context) -&gt; Poll&lt;Self::Output&gt;;
    }
    enum Poll&lt;T&gt; {
        Ready(T),
        Pending,
}
<span class="boring">}
</span></code></pre></pre>
</li>
<li>executors</li>
</ul>
</li>
<li>资料阅读
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://www.youtube.com/watch?v=lJ3NC-R3gSI">Rust's Journey to Async/Await</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.youtube.com/watch?v=NNwK5ZPAJCk">The Talk You've Been Await-ing for</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://docs.rs/futures">The Rust Docs on Future</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.viget.com/articles/understanding-futures-in-rust-part-1/">Understanding Futures In Rust</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://stanford-cs242.github.io/f19/assignments/assign7/">CS242-Assignment 7: Futures</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://reberhardt.com/cs110l/spring-2021/slides/lecture-19.pdf">#19: Event-Driven Programming II</a>
<ul>
<li>Future 是什么？- https://docs.rs/futures
<ul>
<li>由异步计算所得的最终值</li>
<li>管理各项操作与相关状态</li>
</ul>
</li>
<li>Future 的组合</li>
<li><code>async/await</code> 语法支持</li>
<li>注意：
<ul>
<li>Async 方法没有自己的调用栈
<ul>
<li>Debug</li>
</ul>
</li>
<li>性能无影响</li>
</ul>
</li>
<li>何时该写 Async 风格的代码？
<ul>
<li>回想下：最初是为了解决多线程的什么问题？
<ul>
<li>堆栈增加占用过多内存</li>
<li>非必要的上下文切换开销</li>
</ul>
</li>
<li>因此：考虑以下因素
<ul>
<li>超高并发场景</li>
<li>I/O 密集型场景</li>
</ul>
</li>
</ul>
</li>
<li>Async 风格代码指引
<ul>
<li>永远不要阻塞 async 代码</li>
<li>仅在 async 方法中使用 await</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://reberhardt.com/cs110l/spring-2021/slides/lecture-20.pdf">#20: Lessons Learned</a>
<ul>
<li>总结与回顾！‼️（笔记：略）</li>
</ul>
</li>
</ul>
<h2 id="随堂练习"><a class="header" href="#随堂练习">随堂练习</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/assignments/week-1-exercises/">Week 1 Exercises</a>
<ul>
<li>认识 C/C++ 中代码分析工具的局限性</li>
<li>Static analysis: <code>clang-tidy</code></li>
<li>Dynamic analysis: <code>Valgrind</code>、<code>sanitizers</code></li>
<li>认识 Make 编译系统：
<ul>
<li>定义参数变量：
<ul>
<li><code>CC</code> 和 <code>CXX</code> 指定 C/C++ 编译器，</li>
<li><code>CFLAGS</code> 和 <code>CXXFLAGS</code> 指定编译器传参</li>
<li><code>LDFLAGS</code> 指定链接器传参</li>
</ul>
</li>
<li>定义执行目标：
<ul>
<li><code>default</code> 默认执行</li>
</ul>
</li>
<li>晦涩、艰深，但可行。有更多现代编译系统替代。</li>
</ul>
</li>
<li>更新 Makefile 支持 sanitizers
<ul>
<li><code>-fsanitize=address,leak,undefined</code> flag</li>
</ul>
</li>
<li>模糊测试，开启 libFuzzer
<ul>
<li><code>-fsanitize=fuzzer,address,leak,undefined</code> flag</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://web.stanford.edu/class/cs110l/assignments/week-2-exercises/">Week 2 Exercises: Hello world</a>
<ul>
<li><a href="https://web.stanford.edu/class/cs110l/handouts/tools-tips/">Tips for SSH, Vim, iTerm, and more</a></li>
<li>VSCode &amp; <a href="https://rust-analyzer.github.io/manual.html#toctitle">rust-analyzer</a></li>
<li>略</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-missing-semester-of-your-cs-education"><a class="header" href="#the-missing-semester-of-your-cs-education">The Missing Semester of Your CS Education</a></h1>
<p><a href="https://missing.csail.mit.edu/">计算机教育中缺失的一课</a></p>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/course-shell.html">Course overview + the shell</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/shell-tools.html">Shell Tools and Scripting</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/editors.html">Editors (Vim)</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/data-wrangling.html">Data Wrangling</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/command-line.html">Command-line Environment</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/version-control.html">Version Control (Git)</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/debugging-profiling.html">Debugging and Profiling</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/metaprogramming.html">Metaprogramming</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/security.html">Security and Cryptography</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="cs/class/./missing-semester/potpourri.html">Potpourri</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="the-shell"><a class="header" href="#the-shell">The Shell</a></h2>
<ul>
<li>Basic usage
<ul>
<li>prompt</li>
<li><code>~</code> (short for “home”)</li>
<li><code>$</code> tells you that you are not the root user</li>
<li>execute a program (with arguments)
<ul>
<li><code>date</code> · <code>echo</code> · <code>which</code></li>
</ul>
</li>
<li>argument: escape just the relevant characters with <code>\</code></li>
<li><strong>environment variable</strong>
<ul>
<li><code>$PATH</code></li>
<li><code>:</code>-separated list of directories in <code>$PATH</code></li>
</ul>
</li>
</ul>
</li>
<li>Navigating in the shell
<ul>
<li><code>/</code> · <code>cd</code> · <code>.</code> · <code>..</code> · <code>ls</code></li>
<li><code>mkdir</code> · <code>cp</code> · <code>mv</code> · <code>man</code></li>
<li><code>cat</code> · <code>tail</code></li>
</ul>
</li>
<li>Connecting programs
<ul>
<li>redirection is <code>&lt; file</code> and <code>&gt; file</code></li>
<li>use <code>&gt;&gt;</code> to append to a file</li>
<li><code>|</code> operator lets you “chain” programs</li>
</ul>
</li>
<li>A versatile and powerful tool
<ul>
<li><code>sudo</code>, lets you “do” something “as su” (short for “super user”, or “root”)</li>
<li><code>find</code> </li>
<li><code>tee</code> - duplicate standard input</li>
</ul>
</li>
<li>More info &amp; Exercises
<ul>
<li><code>echo $SHELL</code></li>
<li><code>touch</code> &amp; <code>man</code></li>
<li><code>#!/bin/sh</code> - <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">&quot;shebang line(Unix)&quot;</a></li>
<li>the <code>sh</code> interpreter</li>
<li><code>chmod</code></li>
<li><a href="https://docs.microsoft.com/en-us/windows/wsl/">Windows Subsystem for Linux</a></li>
<li><code>|</code> &amp; <code>&gt;</code></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="shell-tools-and-scripting"><a class="header" href="#shell-tools-and-scripting">Shell Tools and Scripting</a></h2>
<ul>
<li>
<p>Shell Scripting</p>
<ul>
<li>
<p><code>foo=bar</code> differ from <code>foo = bar</code></p>
</li>
<li>
<pre><code class="language-shell">foo=bar
echo &quot;$foo&quot;
# prints bar
echo '$foo'
# prints $foo
</code></pre>
</li>
<li>
<p><code>if</code>, <code>case</code>, <code>while</code> and <code>for</code> &amp; function</p>
</li>
<li>
<pre><code class="language-shell">mcd () {
    mkdir -p &quot;$1&quot;
    cd &quot;$1&quot;
}
</code></pre>
<ul>
<li><code>$0</code> - Name of the script</li>
<li><code>$1</code> to <code>$9</code> - Arguments to the script. <code>$1</code> is the first argument and so on.</li>
<li><code>$@</code> - All the arguments</li>
<li><code>$#</code> - Number of arguments</li>
<li><code>$?</code> - Return code of the previous command</li>
<li><code>$$</code> - Process identification number (PID) for the current script</li>
<li><code>!!</code> - Entire last command, including arguments. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing <code>sudo !!</code></li>
<li><code>$_</code> - Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing <code>Esc</code> followed by <code>.</code></li>
<li>More info: <a href="https://tldp.org/LDP/abs/html/special-chars.html">Chapter 3. Special Characters</a></li>
</ul>
</li>
<li>
<p><code>&amp;&amp;</code> (and operator) and <code>||</code> (or operator)</p>
</li>
<li>
<p><code>$( CMD )</code>, e.g: <code>for file in $(ls)</code></p>
</li>
<li>
<p><code>&lt;( CMD )</code>, e.g: <code>diff &lt;(ls foo) &lt;(ls bar)</code></p>
</li>
<li>
<p><a href="https://mywiki.wooledge.org/BashFAQ/031">What is the difference between test, <code>[</code> and <code>[[</code> ?</a></p>
</li>
<li>
<p>shell <em>globbing</em>:</p>
<ul>
<li>Wildcards: <code>?</code> &amp; <code>*</code></li>
<li>Curly braces: <code>{}</code>, expand, e.g: <code>convert image.{png,jpg}</code> =&gt; <code>convert image.png image.jpg</code></li>
</ul>
</li>
<li>
<p><a href="https://github.com/koalaman/shellcheck">shellcheck</a> - A shell script static analysis tool</p>
</li>
<li>
<p><code>#!/PATH/TO/PROGRAME/</code> - <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">&quot;shebang line(Unix)&quot;</a></p>
<ul>
<li>the <a href="https://www.man7.org/linux/man-pages/man1/env.1.html"><code>env</code></a> command</li>
</ul>
</li>
<li>
<p>differences between shell functions and scripts</p>
</li>
<li>
<p>using <a href="https://www.man7.org/linux/man-pages/man1/export.1p.html"><code>export</code></a></p>
</li>
</ul>
</li>
<li>
<p>Shell Tools</p>
<ul>
<li>
<p>Finding how to use commands</p>
<ul>
<li><a href="https://www.man7.org/linux/man-pages/man1/man.1.html"><code>man</code></a> </li>
<li>For interactive tools such as the ones based on ncurses, help for the commands can often be accessed within the program using the <code>:help</code> command or typing <code>?</code>.</li>
<li><a href="https://tldr.sh/">TLDR pages</a> </li>
</ul>
</li>
<li>
<p>Finding files</p>
<ul>
<li>
<p><a href="https://www.man7.org/linux/man-pages/man1/find.1.html"><code>find</code></a> or =&gt; <a href="https://github.com/sharkdp/fd"><code>fd</code></a> (simple, fast, and user-friendly alternative, in rust) </p>
</li>
<li>
<pre><code class="language-shell">  # Find all directories named src
  find . -name src -type d
  # Find all python files that have a folder named test in their path
  find . -path '*/test/*.py' -type f
  # Find all files modified in the last day
  find . -mtime -1
  # Find all zip files with size in range 500k to 10M
  find . -size +500k -size -10M -name '*.tar.gz'
</code></pre>
</li>
<li>
<pre><code class="language-shell"># Delete all files with .tmp extension
find . -name '*.tmp' -exec rm {} \;
# Find all PNG files and convert them to JPG
find . -name '*.png' -exec convert {} {}.jpg \;

</code></pre>
</li>
<li>
<p><a href="https://www.man7.org/linux/man-pages/man1/locate.1.html"><code>locate</code></a> , ref: <a href="https://unix.stackexchange.com/questions/60205/locate-vs-find-usage-pros-and-cons-of-each-other">locate vs find: usage, pros and cons of each other</a></p>
</li>
</ul>
</li>
<li>
<p>Finding code</p>
<ul>
<li>
<p><a href="https://www.man7.org/linux/man-pages/man1/grep.1.html"><code>grep</code></a> - matching patterns from the input text</p>
<ul>
<li><code>-C</code> for getting <strong>C</strong>ontext around the matching line</li>
<li><code>-v</code> for in<strong>v</strong>erting the match</li>
<li>Alternative:  <a href="https://beyondgrep.com/">ack</a>, <a href="https://github.com/ggreer/the_silver_searcher">ag</a> and <a href="https://github.com/BurntSushi/ripgrep">rg</a>. </li>
</ul>
</li>
<li>
<pre><code class="language-shell">  # Find all python files where I used the requests library
  rg -t py 'import requests'
  # Find all files (including hidden files) without a shebang line
  rg -u --files-without-match &quot;^#!&quot;
  # Find all matches of foo and print the following 5 lines
  rg foo -A 5
  # Print statistics of matches (# of matched lines and files )
  rg --stats PATTERN
</code></pre>
</li>
</ul>
</li>
<li>
<p>Finding shell commands</p>
<ul>
<li><code>history</code></li>
<li><code>Ctrl+R</code>, perform backwards search through your history
<ul>
<li>This can also be enabled with the UP/DOWN arrows in <a href="https://github.com/zsh-users/zsh-history-substring-search">zsh</a>. </li>
<li>A nice addition on top of <code>Ctrl+R</code> comes with using <a href="https://github.com/junegunn/fzf/wiki/Configuring-shell-key-bindings#ctrl-r">fzf</a> bindings. </li>
</ul>
</li>
<li>the <a href="https://fishshell.com/">fish</a> shell</li>
<li><code>HISTCONTROL=ignorespace</code> to your <code>.bashrc</code> or <code>setopt HIST_IGNORE_SPACE</code> to your <code>.zshrc</code>. </li>
<li>If you make the mistake of not adding the leading space, you can always manually remove the entry by editing your <code>.bash_history</code> or <code>.zhistory</code>.</li>
</ul>
</li>
<li>
<p>Directory Navigation</p>
<ul>
<li>writing shell aliases or creating symlinks with <a href="https://www.man7.org/linux/man-pages/man1/ln.1.html">ln -s</a></li>
<li><a href="https://github.com/clvv/fasd"><code>fasd</code></a> and <a href="https://github.com/wting/autojump"><code>autojump</code></a>.</li>
<li>get an overview of a directory structure: <a href="https://linux.die.net/man/1/tree"><code>tree</code></a>, <a href="https://github.com/Canop/broot"><code>broot</code></a> </li>
</ul>
</li>
<li>
<p><a href="https://www.man7.org/linux/man-pages/man1/xargs.1.html"><code>xargs</code></a> command which will execute a command using STDIN as arguments</p>
</li>
<li>
<p><a href="https://formulae.brew.sh/formula/coreutils">using brew</a>.</p>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="editors-vim"><a class="header" href="#editors-vim">Editors (Vim)</a></h2>
<blockquote>
<p>Here’s how you learn a new editor:</p>
<ul>
<li>Start with a tutorial (i.e. this lecture, plus resources that we point out)</li>
<li>Stick with using the editor for all your text editing needs (even if it slows you down initially)</li>
<li>Look things up as you go: if it seems like there should be a better way to do something, there probably is</li>
</ul>
</blockquote>
<ul>
<li>
<p>Philosophy of Vim</p>
<ul>
<li>Vim is a <em>modal</em> editor: it has different <strong>modes</strong> for inserting text vs manipulating text. </li>
<li>Vim is <strong>programmable</strong> (with Vimscript and also other languages like Python)</li>
<li>Vim’s interface itself is a programming language: <strong>keystrokes</strong> (with mnemonic names) are commands, and these commands are composable.</li>
<li>Vim avoids the use of the mouse, because it’s too slow; Vim even avoids using the arrow keys because it requires too much movement.</li>
</ul>
</li>
<li>
<p>Modal editing</p>
<ul>
<li>Vim has multiple operating modes.
<ul>
<li><strong>Normal</strong>: for moving around a file and making edits</li>
<li><strong>Insert</strong>: for inserting text</li>
<li><strong>Replace</strong>: for replacing text</li>
<li><strong>Visual</strong> (plain, line, or block): for selecting blocks of text</li>
<li><strong>Command-line</strong>: for running a command</li>
</ul>
</li>
<li>change modes by pressing <code>&lt;ESC&gt;</code> (the escape key) to switch from any mode back to Normal mode. </li>
<li>From Normal mode, 
<ul>
<li>enter Insert mode with <code>i</code>, </li>
<li>Replace mode with <code>R</code>, </li>
<li>Visual mode with <code>v</code>, </li>
<li>Visual Line mode with <code>V</code>, </li>
<li>Visual Block mode with <code>&lt;C-v&gt;</code> (Ctrl-V, sometimes also written <code>^V</code>), </li>
<li>and Command-line mode with <code>:</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Basics</p>
<ul>
<li>Inserting text. (though not particularly efficiently, if you’re spending all your time editing from Insert mode).</li>
<li>Buffers, tabs, and windows</li>
<li>Command-line
<ul>
<li><code>:q</code> quit (close window)</li>
<li><code>:w</code> save (“write”)</li>
<li><code>:wq</code> save and quit</li>
<li><code>:e {name of file}</code> open file for editing</li>
<li><code>:ls</code> show open buffers</li>
<li><code>:help {topic}</code> open help
<ul>
<li><code>:help :w</code> opens help for the <code>:w</code> command</li>
<li><code>:help w</code> opens help for the <code>w</code> movement</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Vim’s interface is a programming language</p>
<ul>
<li>
<p>Movement(&quot;nouns&quot;)</p>
<ul>
<li>Basic movement: <code>hjkl</code> (left, down, up, right)</li>
<li>Words: <code>w</code> (next word), <code>b</code> (beginning of word), <code>e</code> (end of word)</li>
<li>Lines: <code>0</code> (beginning of line), <code>^</code> (first non-blank character), <code>$</code> (end of line)</li>
<li>Screen: <code>H</code> (top of screen), <code>M</code> (middle of screen), <code>L</code> (bottom of screen)</li>
<li>Scroll: <code>Ctrl-u</code> (up), <code>Ctrl-d</code> (down)</li>
<li>File: <code>gg</code> (beginning of file), <code>G</code> (end of file)</li>
<li>Line numbers: <code>:{number}&lt;CR&gt;</code> or <code>{number}G</code> (line {number})</li>
<li>Misc: <code>%</code> (corresponding item)</li>
<li>Find: <code>f{character}</code>, <code>t{character}</code>, <code>F{character}</code>, <code>T{character}</code>
<ul>
<li>find/to forward/backward {character} on the current line</li>
<li><code>,</code> / <code>;</code> for navigating matches</li>
</ul>
</li>
<li>Search: <code>/{regex}</code>, <code>n</code> / <code>N</code> for navigating matches</li>
</ul>
</li>
<li>
<p>Selection</p>
<ul>
<li>Visual modes:
<ul>
<li>Visual: <code>v</code></li>
<li>Visual Line: <code>V</code></li>
<li>Visual Block: <code>Ctrl-v</code></li>
</ul>
</li>
<li>Can use movement keys to make selection.</li>
</ul>
</li>
<li>
<p>Edits(&quot;verbs&quot;)</p>
<ul>
<li>
<p><code>i</code> enter Insert mode</p>
<ul>
<li>but for manipulating/deleting text, want to use something more than backspace</li>
</ul>
</li>
<li>
<p><code>o</code> / <code>O</code> insert line below / above</p>
</li>
<li>
<p><code>d{motion}</code> delete {motion}</p>
<ul>
<li>e.g. <code>dw</code> is delete word, <code>d$</code> is delete to end of line, <code>d0</code> is delete to beginning of line</li>
</ul>
</li>
<li>
<p><code>c{motion}</code> change {motion}</p>
<ul>
<li>e.g. <code>cw</code> is change word</li>
<li>like <code>d{motion}</code> followed by <code>i</code></li>
</ul>
</li>
<li>
<p><code>x</code> delete character (equal do <code>dl</code>)</p>
</li>
<li>
<p><code>s</code> substitute character (equal to <code>xi</code>)</p>
</li>
<li>
<p>Visual mode + manipulation</p>
<ul>
<li>select text, <code>d</code> to delete it or <code>c</code> to change it</li>
</ul>
</li>
<li>
<p><code>u</code> to undo, <code>&lt;C-r&gt;</code> to redo</p>
</li>
<li>
<p><code>y</code> to copy / “yank” (some other commands like <code>d</code> also copy)</p>
</li>
<li>
<p><code>p</code> to paste</p>
</li>
<li>
<p>Lots more to learn: e.g. <code>~</code> flips the case of a character</p>
</li>
</ul>
</li>
<li>
<p>Counts</p>
<ul>
<li>combine nouns and verbs with a count
<ul>
<li><code>3w</code> move 3 words forward</li>
<li><code>5j</code> move 5 lines down</li>
<li><code>7dw</code> delete 7 words</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Modifiers</p>
<ul>
<li>use modifiers to change the meaning of a noun. Some modifiers are <code>i</code>, which means “inner” or “inside”, and <code>a</code>, which means “around”.
<ul>
<li><code>ci(</code> change the contents inside the current pair of parentheses</li>
<li><code>ci[</code> change the contents inside the current pair of square brackets</li>
<li><code>da'</code> delete a single-quoted string, including the surrounding single quotes</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Customizing Vim</p>
<ul>
<li>Vim is customized through a plain-text configuration file in <code>~/.vimrc</code></li>
<li><strong>Download our config <a href="https://missing.csail.mit.edu/2020/files/vimrc">here</a> and save it to <code>~/.vimrc</code>.</strong></li>
<li>instructors’ Vim configs (<a href="https://github.com/anishathalye/dotfiles/blob/master/vimrc">Anish</a>, <a href="https://github.com/jonhoo/configs/blob/master/editor/.config/nvim/init.vim">Jon</a> (uses <a href="https://neovim.io/">neovim</a>), <a href="https://github.com/JJGO/dotfiles/blob/master/vim/.vimrc">Jose</a>)
<ul>
<li>Try not to copy-and-paste people’s full configuration, but read it, understand it, and <strong>take what you need</strong>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Extending Vim</p>
<ul>
<li>Simply create the directory <code>~/.vim/pack/vendor/start/</code>, and put plugins in there</li>
<li>Here are some of our favorite plugins:
<ul>
<li><a href="https://github.com/ctrlpvim/ctrlp.vim">ctrlp.vim</a>: fuzzy file finder</li>
<li><a href="https://github.com/mileszs/ack.vim">ack.vim</a>: code search</li>
<li><a href="https://github.com/scrooloose/nerdtree">nerdtree</a>: file explorer</li>
<li><a href="https://github.com/easymotion/vim-easymotion">vim-easymotion</a>: magic motions</li>
<li>Check out <a href="https://vimawesome.com/">Vim Awesome</a> for more awesome Vim plugins</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Vim-mode in other programs</p>
<ul>
<li>Shell
<ul>
<li>If you’re a Bash user, use <code>set -o vi</code>. </li>
<li>If you use Zsh, <code>bindkey -v</code>. </li>
<li>For Fish, <code>fish_vi_key_bindings</code>. </li>
<li>you can <code>export EDITOR=vim</code>. </li>
</ul>
</li>
<li>Readline
<ul>
<li>the <a href="https://tiswww.case.edu/php/chet/readline/rltop.html">GNU Readline</a> library supports (basic) Vim emulation too, which can be enabled by adding the following line to the <code>~/.inputrc</code> file:<code>set editing-mode vi</code></li>
</ul>
</li>
<li>Others
<ul>
<li><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb?hl=en">Vimium</a> for Google Chrome</li>
<li>a <a href="https://reversed.top/2016-08-13/big-list-of-vim-like-software">long list</a> of software with vim-like keybindings.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Advanced Vim</p>
<ul>
<li>
<p>Search and replace</p>
<ul>
<li>
<p><code>:s</code> (substitute) command (<a href="http://vim.wikia.com/wiki/Search_and_replace">documentation</a>).</p>
<ul>
<li>
<pre><code class="language-plaintext">%s/foo/bar/g
</code></pre>
<ul>
<li>replace foo with bar globally in file</li>
</ul>
</li>
<li>
<pre><code class="language-plaintext">%s/\[.*\](\(.*\))/\1/g
</code></pre>
<ul>
<li>replace named Markdown links with plain URLs</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Multiple windows</p>
<ul>
<li><code>:sp</code> / <code>:vsp</code> to split windows</li>
<li>Can have multiple views of the same buffer.</li>
</ul>
</li>
<li>
<p>Macros (More Advanced)</p>
<ul>
<li>// To be continued</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Resources</p>
<ul>
<li><code>vimtutor</code> is a tutorial that comes installed with Vim - if Vim is installed, you should be able to run <code>vimtutor</code> from your shell</li>
<li><a href="https://vim-adventures.com/">Vim Adventures</a> is a game to learn Vim</li>
<li><a href="http://vim.wikia.com/wiki/Vim_Tips_Wiki">Vim Tips Wiki</a></li>
<li><a href="https://vimways.org/2019/">Vim Advent Calendar</a> has various Vim tips</li>
<li><a href="http://www.vimgolf.com/">Vim Golf</a> is <a href="https://en.wikipedia.org/wiki/Code_golf">code golf</a>, but where the programming language is Vim’s UI</li>
<li><a href="https://vi.stackexchange.com/">Vi/Vim Stack Exchange</a></li>
<li><a href="http://vimcasts.org/">Vim Screencasts</a></li>
<li><a href="https://pragprog.com/titles/dnvim2/">Practical Vim</a> (book)</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="data-wrangling"><a class="header" href="#data-wrangling">Data Wrangling</a></h2>
<ul>
<li>
<p>Overview</p>
<ul>
<li><code>less</code> gives us a “pager” that allows us to scroll up and down through the long output. </li>
<li><code>sed</code> is a “stream editor” that builds on top of the old <code>ed</code> editor. </li>
</ul>
</li>
<li>
<p>Regular expressions</p>
<ul>
<li>surrounded by <code>/</code>. </li>
<li>Very common patterns are:
<ul>
<li><code>.</code> means “any single character” except newline</li>
<li><code>*</code> zero or more of the preceding match</li>
<li><code>+</code> one or more of the preceding match</li>
<li><code>[abc]</code> any one character of <code>a</code>, <code>b</code>, and <code>c</code></li>
<li><code>(RX1|RX2)</code> either something that matches <code>RX1</code> or <code>RX2</code></li>
<li><code>^</code> the start of the line</li>
<li><code>$</code> the end of the line</li>
</ul>
</li>
<li>https://regex101.com/</li>
<li>https://www.regular-expressions.info/</li>
</ul>
</li>
<li>
<p>Back to data wrangling</p>
<ul>
<li><code>uniq -c</code> will collapse consecutive lines that are the same into a single line</li>
<li><code>sort</code> will, well, sort its input</li>
<li><code>head</code> / <code>tail</code>.</li>
</ul>
</li>
<li>
<p>awk – another editor</p>
<ul>
<li>
<p><code>awk</code> is a programming language that just happens to be really good at processing text streams.</p>
</li>
<li>
<pre><code class="language-shell"> | awk '$1 == 1 &amp;&amp; $2 ~ /^c[^ ]*e$/ { print $2 }' | wc -l
</code></pre>
</li>
<li>
<pre><code class="language-shell">BEGIN { rows = 0 }
$1 == 1 &amp;&amp; $2 ~ /^c[^ ]*e$/ { rows += $1 }
END { print rows }
</code></pre>
</li>
<li>
<p><a href="https://backreference.org/2010/02/10/idiomatic-awk/">Idiomatic awk</a></p>
</li>
</ul>
</li>
<li>
<p>Analyzing data</p>
<ul>
<li><code>bc</code> - a calculator </li>
<li>R is another (weird) programming language that’s great at data analysis and <a href="https://ggplot2.tidyverse.org/">plotting</a>. </li>
</ul>
</li>
<li>
<p>Data wrangling to make arguments</p>
<ul>
<li>
<p><code>xargs</code> </p>
</li>
<li>
<pre><code class="language-shell">rustup toolchain list | grep nightly | grep -vE &quot;nightly-x86&quot; | sed 's/-x86.*//' | xargs rustup toolchain uninstall
</code></pre>
</li>
</ul>
</li>
<li>
<p>Wrangling binary data</p>
<ul>
<li>
<p>use ffmpeg to capture an image from our camera, convert it to grayscale, compress it, send it to a remote machine over SSH, decompress it there, make a copy, and then display it.</p>
</li>
<li>
<pre><code class="language-shell">ffmpeg -loglevel panic -i /dev/video0 -frames 1 -f image2 -
 | convert - -colorspace gray -
 | gzip
 | ssh mymachine 'gzip -d | tee copy.jpg | env DISPLAY=:0 feh -'
</code></pre>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
<p>Take this <a href="https://regexone.com/">short interactive regex tutorial</a>.</p>
</li>
<li><input disabled="" type="checkbox"/>
<p>For JSON data, try <a href="https://stedolan.github.io/jq/"><code>jq</code></a>.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="command-line-environment"><a class="header" href="#command-line-environment">Command-line Environment</a></h2>
<ul>
<li>
<p>Job Control</p>
<ul>
<li>
<p>Killing a process</p>
<ul>
<li><code>Ctrl-C</code>: deliver a SIGINT signal to the process.</li>
<li>use the SIGQUIT signal instead, by typing <code>Ctrl-\</code></li>
<li>Note that <code>^</code> is how <code>Ctrl</code> is displayed when typed in the terminal.</li>
<li>a more generic signal for asking a process to exit gracefully is the <code>SIGTERM</code> signal
<ul>
<li><code>kill -TERM &lt;PID&gt;</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Pausing and backgrounding processes</p>
<ul>
<li>
<p>typing <code>Ctrl-Z</code> will prompt the shell to send a <code>SIGTSTP</code> signal</p>
</li>
<li>
<p>continue the paused job in the foreground or in the background using <a href="https://www.man7.org/linux/man-pages/man1/fg.1p.html"><code>fg</code></a> or <a href="http://man7.org/linux/man-pages/man1/bg.1p.html"><code>bg</code></a></p>
</li>
<li>
<p>The <a href="https://www.man7.org/linux/man-pages/man1/jobs.1p.html"><code>jobs</code></a> command lists the unfinished jobs associated with the current terminal session.</p>
<ul>
<li>use <a href="https://www.man7.org/linux/man-pages/man1/pgrep.1.html"><code>pgrep</code></a> to find that out</li>
</ul>
</li>
<li>
<p>refer to the last backgrounded job you can use the <code>$!</code> special parameter</p>
</li>
<li>
<p>the <code>&amp;</code> suffix in a command will run the command in the background</p>
</li>
<li>
<p>To background an already running program you can do <code>Ctrl-Z</code> followed by <code>bg</code>.</p>
<ul>
<li><code>SIGHUP</code></li>
<li><a href="https://www.man7.org/linux/man-pages/man1/nohup.1.html"><code>nohup</code></a> (a wrapper to ignore <code>SIGHUP</code>), or use <code>disown</code> if the process has already been started</li>
</ul>
</li>
<li>
<p>other signals <a href="https://en.wikipedia.org/wiki/Signal_(IPC)">here</a> or typing <a href="https://www.man7.org/linux/man-pages/man7/signal.7.html"><code>man signal</code></a> or <code>kill -l</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Terminal Multiplexers</p>
<blockquote>
<p>Terminal multiplexers like <a href="https://www.man7.org/linux/man-pages/man1/tmux.1.html"><code>tmux</code></a> allow you to multiplex terminal windows using panes and tabs so you can interact with multiple shell sessions.</p>
</blockquote>
<ul>
<li>keybindings: the form <code>&lt;C-b&gt; x</code> where that means (1) press <code>Ctrl+b</code>, (2) release <code>Ctrl+b</code>, and then (3) press <code>x</code>. </li>
<li>hierarchy of objects:
<ul>
<li><strong>Sessions</strong> - an independent workspace with one or more windows
<ul>
<li><code>tmux</code> starts a new session.</li>
<li><code>tmux new -s NAME</code> starts it with that name.</li>
<li><code>tmux ls</code> lists the current sessions</li>
<li>Within <code>tmux</code> typing <code>&lt;C-b&gt; d</code> <strong>detaches</strong> the current session</li>
<li><code>tmux a</code> <strong>attaches</strong> the last session. You can use <code>-t</code> flag to specify which</li>
</ul>
</li>
<li><strong>Windows</strong> - tabs in editors or browsers, they are visually separate parts of the same session
<ul>
<li><code>&lt;C-b&gt; c</code> <strong>Creates</strong> a new window. To <strong>close</strong> it you can just terminate the shells doing <code>&lt;C-d&gt;</code></li>
<li><code>&lt;C-b&gt; N</code> Go to the <em>N</em> th window. Note they are numbered</li>
<li><code>&lt;C-b&gt; p</code> Goes to the previous window</li>
<li><code>&lt;C-b&gt; n</code> Goes to the next window</li>
<li><code>&lt;C-b&gt; ,</code> Rename the current window</li>
<li><code>&lt;C-b&gt; w</code> List current windows</li>
</ul>
</li>
<li><strong>Panes</strong> - Like vim splits, panes let you have multiple shells in the same visual display.
<ul>
<li><code>&lt;C-b&gt; &quot;</code> Split the current pane horizontally</li>
<li><code>&lt;C-b&gt; %</code> Split the current pane vertically</li>
<li><code>&lt;C-b&gt; &lt;direction&gt;</code> Move to the pane in the specified <em>direction</em>. Direction here means arrow keys.</li>
<li><code>&lt;C-b&gt; z</code> Toggle zoom for the current pane</li>
<li><code>&lt;C-b&gt; [</code> Start scrollback. You can then press <code>&lt;space&gt;</code> to start a selection and <code>&lt;enter&gt;</code> to copy that selection.</li>
<li><code>&lt;C-b&gt; &lt;space&gt;</code> Cycle through pane arrangements.</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/">here</a> is a quick tutorial on <code>tmux</code> and <a href="http://linuxcommand.org/lc3_adv_termmux.php">this</a> has a more detailed explanation that covers the original <code>screen</code> command.</li>
</ul>
</li>
<li>
<p>Aliases</p>
<ul>
<li>
<p>Aliases have many convenient features:</p>
</li>
<li>
<pre><code># Make shorthands for common flags
alias ll=&quot;ls -lh&quot;

# Save a lot of typing for common commands
alias gs=&quot;git status&quot;
alias gc=&quot;git commit&quot;
alias v=&quot;vim&quot;

# Save you from mistyping
alias sl=ls

# Overwrite existing commands for better defaults
alias mv=&quot;mv -i&quot;           # -i prompts before overwrite
alias mkdir=&quot;mkdir -p&quot;     # -p make parent dirs as needed
alias df=&quot;df -h&quot;           # -h prints human readable format

# Alias can be composed
alias la=&quot;ls -A&quot;
alias lla=&quot;la -l&quot;

# To ignore an alias run it prepended with \
\ls
# Or disable an alias altogether with unalias
unalias la

# To get an alias definition just call it with alias
alias ll
# Will print ll='ls -lh'
</code></pre>
</li>
<li>
<p>include it in shell startup files, like <code>.bashrc</code> or <code>.zshrc</code>, </p>
</li>
</ul>
</li>
<li>
<p>Dotfiles</p>
<ul>
<li>
<p>For <code>bash</code>, editing your <code>.bashrc</code> or <code>.bash_profile</code> will work in most systems.</p>
<ul>
<li><code>PATH</code> environment, like <code>export PATH=&quot;$PATH:/path/to/program/bin&quot;</code></li>
</ul>
</li>
<li>
<p><code>git</code> - <code>~/.gitconfig</code></p>
</li>
<li>
<p><code>vim</code> - <code>~/.vimrc</code> and the <code>~/.vim</code> folder</p>
</li>
<li>
<p><code>ssh</code> - <code>~/.ssh/config</code></p>
</li>
<li>
<p><code>tmux</code> - <code>~/.tmux.conf</code></p>
</li>
<li>
<p>in their own folder, under version control, and <strong>symlinked</strong> into place using a script</p>
</li>
<li>
<p>Portability</p>
</li>
</ul>
</li>
<li>
<p>Remote Machines</p>
<ul>
<li>
<p>SSH is highly configurable so it is worth learning about it.</p>
</li>
<li>
<p>SSH Keys:  <code>~/.ssh/id_rsa</code></p>
<ul>
<li>
<p>Key generation:  run <a href="https://www.man7.org/linux/man-pages/man1/ssh-keygen.1.html"><code>ssh-keygen</code></a>.</p>
<ul>
<li>
<pre><code class="language-shell">ssh-keygen -o -a 100 -t ed25519 -f ~/.ssh/id_ed25519
</code></pre>
</li>
</ul>
</li>
<li>
<p>Key based authentication</p>
<ul>
<li><code>ssh</code> will look into <code>.ssh/authorized_keys</code> to determine which clients it should let in</li>
<li><code>ssh-copy-id</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Copying files over SSH</p>
<ul>
<li><code>ssh+tee</code></li>
<li><a href="https://www.man7.org/linux/man-pages/man1/scp.1.html"><code>scp</code></a> when copying large amounts of files/directories</li>
<li><a href="https://www.man7.org/linux/man-pages/man1/rsync.1.html"><code>rsync</code></a> improves upon <code>scp</code> by detecting identical files in local and remote, and preventing copying them again.</li>
</ul>
</li>
<li>
<p>Port Forwarding</p>
<ul>
<li>
<p>SSH Configuration</p>
</li>
<li>
<pre><code>alias my_server=&quot;ssh -i ~/.id_ed25519 --port 2222 -L 9999:localhost:8888 foobar@remote_server
</code></pre>
<ul>
<li>a better alternative using <code>~/.ssh/config</code>.</li>
<li>be thoughtful about sharing your SSH configuration.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Shells &amp; Frameworks</p>
<ul>
<li><code>bash</code>, <code>zsh</code>/ <a href="https://fishshell.com/">fish</a>/</li>
<li>general frameworks are <a href="https://github.com/sorin-ionescu/prezto">prezto</a> or <a href="https://ohmyz.sh/">oh-my-zsh</a></li>
<li><a href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a> or <a href="https://github.com/zsh-users/zsh-history-substring-search">zsh-history-substring-search</a></li>
<li>One thing to note when using these frameworks is that they may slow down your shell</li>
</ul>
</li>
<li>
<p>Terminal Emulators</p>
<ul>
<li>Font choice</li>
<li>Color Scheme</li>
<li>Keyboard shortcuts</li>
<li>Tab/Pane support</li>
<li>Scrollback configuration</li>
<li>Performance (some newer terminals like <a href="https://github.com/jwilm/alacritty">Alacritty</a> or <a href="https://sw.kovidgoyal.net/kitty/">kitty</a> offer GPU acceleration).</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="version-control-git"><a class="header" href="#version-control-git">Version Control (Git)</a></h2>
<ul>
<li>
<p>Git’s data model</p>
<ul>
<li>
<p>Snapshots</p>
<ul>
<li>
<p>a file is called a “blob”</p>
</li>
<li>
<p>A directory is called a “tree”</p>
</li>
<li>
<p>A snapshot is the <strong>top-level tree</strong> that is being tracked</p>
</li>
<li>
<pre><code>&lt;root&gt; (tree)
|
+- foo (tree)
|  |
|  + bar.txt (blob, contents = &quot;hello world&quot;)
|
+- baz.txt (blob, contents = &quot;git is wonderful&quot;)
</code></pre>
</li>
</ul>
</li>
<li>
<p>Modeling history: relating snapshots</p>
<ul>
<li>In Git, a history is a directed acyclic graph (DAG) of snapshots.</li>
<li>Commits in Git are immutable. </li>
</ul>
</li>
<li>
<p>Data model, as pseudocode</p>
<ul>
<li>
<pre><code>// a file is a bunch of bytes
type blob = array&lt;byte&gt;

// a directory contains named files and directories
type tree = map&lt;string, tree | blob&gt;

// a commit has parents, metadata, and the top-level tree
type commit = struct {
    parents: array&lt;commit&gt;
    author: string
    message: string
    snapshot: tree
}
</code></pre>
</li>
</ul>
</li>
<li>
<p>Objects and content-addressing</p>
<ul>
<li>
<p>An “object” is a blob, tree, or commit:</p>
</li>
<li>
<pre><code>type object = blob | tree | commit
</code></pre>
</li>
<li>
<p>In Git data store, all objects are content-addressed by their <a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1 hash</a>.</p>
</li>
<li>
<pre><code>objects = map&lt;string, object&gt;

def store(object):
    id = sha1(object)
    objects[id] = object

def load(id):
    return objects[id]
</code></pre>
</li>
<li>
<p><code>git cat-file</code></p>
</li>
</ul>
</li>
<li>
<p>References</p>
<ul>
<li>
<p>all snapshots can be identified by their SHA-1 hashes</p>
</li>
<li>
<p>human-readable names for SHA-1 hashes, called “references”</p>
</li>
<li>
<p>references are mutable (can be updated to point to a new commit)</p>
</li>
<li>
<pre><code>references = map&lt;string, string&gt;

def update_reference(name, id):
    references[name] = id

def read_reference(name):
    return references[name]

def load_reference(name_or_id):
    if name_or_id in references:
        return load(references[name_or_id])
    else:
        return load(name_or_id)
</code></pre>
</li>
<li>
<p>In Git, that “where we currently are” is a special reference called “HEAD”.</p>
</li>
</ul>
</li>
<li>
<p>Repositories</p>
<ul>
<li>define what (roughly) is a Git <em>repository</em>: it is the data <code>objects</code> and <code>references</code>.</li>
<li>All <code>git</code> commands map to some manipulation of the commit DAG by adding objects and adding/updating references.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Staging area</p>
<ul>
<li>allowing you to specify which modifications should be included in the next snapshot through a mechanism called the “staging area”.</li>
</ul>
</li>
<li>
<p>Git command-line interface</p>
<ul>
<li>Basics
<ul>
<li><code>git help &lt;command&gt;</code>: get help for a git command</li>
<li><code>git init</code>: creates a new git repo, with data stored in the <code>.git</code> directory</li>
<li><code>git status</code>: tells you what’s going on</li>
<li><code>git add &lt;filename&gt;</code>: adds files to staging area</li>
<li><code>git commit</code>: creates a new commit
<ul>
<li>Write <a href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">good commit messages</a>!</li>
<li>Even more reasons to write <a href="https://chris.beams.io/posts/git-commit/">good commit messages</a>!</li>
</ul>
</li>
<li><code>git log</code>: shows a flattened log of history</li>
<li><code>git log --all --graph --decorate</code>: visualizes history as a DAG</li>
<li><code>git diff &lt;filename&gt;</code>: show changes you made relative to the staging area</li>
<li><code>git diff &lt;revision&gt; &lt;filename&gt;</code>: shows differences in a file between snapshots</li>
<li><code>git checkout &lt;revision&gt;</code>: updates HEAD and current branch</li>
</ul>
</li>
<li>Branching and merging
<ul>
<li><code>git branch</code>: shows branches</li>
<li><code>git branch &lt;name&gt;</code>: creates a branch</li>
<li><code>git checkout -b &lt;name&gt;</code>: creates a branch and switches to it
<ul>
<li>same as <code>git branch &lt;name&gt;; git checkout &lt;name&gt;</code></li>
</ul>
</li>
<li><code>git merge &lt;revision&gt;</code>: merges into current branch</li>
<li><code>git mergetool</code>: use a fancy tool to help resolve merge conflicts</li>
<li><code>git rebase</code>: rebase set of patches onto a new base</li>
</ul>
</li>
<li>Remotes
<ul>
<li><code>git remote</code>: list remotes</li>
<li><code>git remote add &lt;name&gt; &lt;url&gt;</code>: add a remote</li>
<li><code>git push &lt;remote&gt; &lt;local branch&gt;:&lt;remote branch&gt;</code>: send objects to remote, and update remote reference</li>
<li><code>git branch --set-upstream-to=&lt;remote&gt;/&lt;remote branch&gt;</code>: set up correspondence between local and remote branch</li>
<li><code>git fetch</code>: retrieve objects/references from a remote</li>
<li><code>git pull</code>: same as <code>git fetch; git merge</code></li>
<li><code>git clone</code>: download repository from remote</li>
</ul>
</li>
<li>Undo
<ul>
<li><code>git commit --amend</code>: edit a commit’s contents/message</li>
<li><code>git reset HEAD &lt;file&gt;</code>: unstage a file</li>
<li><code>git checkout -- &lt;file&gt;</code>: discard changes</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Advanced Git</p>
<ul>
<li><code>git config</code>: Git is <a href="https://git-scm.com/docs/git-config">highly customizable</a></li>
<li><code>git clone --depth=1</code>: shallow clone, without entire version history</li>
<li><code>git add -p</code>: interactive staging</li>
<li><code>git rebase -i</code>: interactive rebasing</li>
<li><code>git blame</code>: show who last edited which line</li>
<li><code>git stash</code>: temporarily remove modifications to working directory</li>
<li><code>git bisect</code>: binary search history (e.g. for regressions)</li>
<li><code>.gitignore</code>: <a href="https://git-scm.com/docs/gitignore">specify</a> intentionally untracked files to ignore</li>
</ul>
</li>
<li>
<p>Miscellaneous</p>
<ul>
<li><strong>GUIs</strong>: there are many <a href="https://git-scm.com/downloads/guis">GUI clients</a> out there for Git. We personally don’t use them and use the command-line interface instead.</li>
<li><strong>Shell integration</strong>: it’s super handy to have a Git status as part of your shell prompt (<a href="https://github.com/olivierverdier/zsh-git-prompt">zsh</a>, <a href="https://github.com/magicmonty/bash-git-prompt">bash</a>). Often included in frameworks like <a href="https://github.com/ohmyzsh/ohmyzsh">Oh My Zsh</a>.</li>
<li><strong>Editor integration</strong>: similarly to the above, handy integrations with many features. <a href="https://github.com/tpope/vim-fugitive">fugitive.vim</a> is the standard one for Vim.</li>
<li><strong>Workflows</strong>: we taught you the data model, plus some basic commands; we didn’t tell you what practices to follow when working on big projects (and there are <a href="https://nvie.com/posts/a-successful-git-branching-model/">many</a> <a href="https://www.endoflineblog.com/gitflow-considered-harmful">different</a> <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">approaches</a>).</li>
<li><strong>GitHub</strong>: Git is not GitHub. GitHub has a specific way of contributing code to other projects, called <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull requests</a>.</li>
<li><strong>Other Git providers</strong>: GitHub is not special: there are many Git repository hosts, like <a href="https://about.gitlab.com/">GitLab</a> and <a href="https://bitbucket.org/">BitBucket</a>.</li>
</ul>
</li>
<li>
<p>Resources</p>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://git-scm.com/book/en/v2">Pro Git</a> is <strong>highly recommended reading</strong>. Going through Chapters 1–5 should teach you most of what you need to use Git proficiently, now that you understand the data model. The later chapters have some interesting, advanced material.</li>
<li><input disabled="" type="checkbox"/>
<a href="https://ohshitgit.com/">Oh Shit, Git!?!</a> is a short guide on how to recover from some common Git mistakes.</li>
<li><input disabled="" type="checkbox"/>
<a href="https://eagain.net/articles/git-for-computer-scientists/">Git for Computer Scientists</a> is a short explanation of Git’s data model, with less pseudocode and more fancy diagrams than these lecture notes.</li>
<li><input disabled="" type="checkbox"/>
<a href="https://jwiegley.github.io/git-from-the-bottom-up/">Git from the Bottom Up</a> is a detailed explanation of Git’s implementation details beyond just the data model, for the curious.</li>
<li><input disabled="" type="checkbox"/>
<a href="https://smusamashah.github.io/blog/2017/10/14/explain-git-in-simple-words">How to explain git in simple words</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://learngitbranching.js.org/">Learn Git Branching</a> is a browser-based game that teaches you Git.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="debugging-and-profiling"><a class="header" href="#debugging-and-profiling">Debugging and Profiling</a></h2>
<ul>
<li>
<p>Debugging</p>
<ul>
<li>
<p>Printf debugging and Logging</p>
<ul>
<li>Logging is better than regular print statements for several reasons：
<ul>
<li>You can log to files, sockets or even remote servers instead of standard output.</li>
<li>Logging supports <strong>severity levels</strong> (such as INFO, DEBUG, WARN, ERROR, &amp;c), that allow you to filter the output accordingly.</li>
<li>For new issues, there’s a fair chance that your logs will contain enough information to detect what is going wrong.</li>
</ul>
</li>
<li>color code them
<ul>
<li>executing <code>echo -e &quot;\e[38;2;255;0;0mThis is red\e[0m&quot;</code> prints the message <code>This is red</code> in red on your terminal, as long as it supports true color. </li>
</ul>
</li>
</ul>
</li>
<li>
<p>Third party logs</p>
<ul>
<li>
<p>In UNIX systems, logs commonplace: <code>/var/log</code></p>
</li>
<li>
<p>In most Linux: <code>systemd</code> &amp; <code>journalctl</code> </p>
</li>
<li>
<p>on macOS there is still <code>/var/log/system.log</code>, <code>log show</code></p>
</li>
<li>
<p>On most UNIX systems, use the <code>dmesg</code> to access the kernel log.</p>
</li>
<li>
<p>use <code>logger</code> to logging under system log:</p>
</li>
<li>
<pre><code class="language-sh">logger &quot;Hello Logs&quot;
# On macOS
log show --last 1m | grep Hello
# On Linux
journalctl --since &quot;1m ago&quot; | grep Hello
</code></pre>
</li>
<li>
<p>tools like <a href="http://lnav.org/"><code>lnav</code></a>, that provide an improved presentation and navigation for log files.</p>
</li>
</ul>
</li>
<li>
<p>Debuggers</p>
<ul>
<li>Debuggers are programs that let you interact with the execution of a program:
<ul>
<li>Halt execution of the program when it reaches a certain line.</li>
<li>Step through the program one instruction at a time.</li>
<li>Inspect values of variables after the program crashed.</li>
<li>Conditionally halt the execution when a given condition is met.</li>
<li>And many more advanced features</li>
</ul>
</li>
<li>Python Debugger <a href="https://docs.python.org/3/library/pdb.html"><code>pdb</code></a>.</li>
<li><a href="https://pypi.org/project/ipdb/"><code>ipdb</code></a> is an improved <code>pdb</code> that uses the <a href="https://ipython.org/"><code>IPython</code></a> REPL</li>
<li>tab completion, </li>
<li>syntax highlighting, </li>
<li>better tracebacks, and better introspection </li>
<li>retaining the same interface as the <code>pdb</code> module.</li>
<li>more low level programming you will probably want to look into <a href="https://www.gnu.org/software/gdb/"><code>gdb</code></a> (and its quality of life modification <a href="https://github.com/pwndbg/pwndbg"><code>pwndbg</code></a>) and <a href="https://lldb.llvm.org/"><code>lldb</code></a>. </li>
</ul>
</li>
<li>
<p>Specialized Tools</p>
<ul>
<li>
<p>black box binary</p>
</li>
<li>
<p>trace the syscalls your program makes</p>
</li>
<li>
<p>In Linux there’s <a href="https://www.man7.org/linux/man-pages/man1/strace.1.html"><code>strace</code></a> and macOS and BSD have <a href="http://dtrace.org/blogs/about/"><code>dtrace</code></a>.</p>
</li>
<li>
<pre><code class="language-sh"># On Linux
sudo strace -e lstat ls -l &gt; /dev/null
4
# On macOS
sudo dtruss -t lstat64_extended ls -l &gt; /dev/null
</code></pre>
</li>
<li>
<p>look at the network packets</p>
<ul>
<li>Tools like <a href="https://www.man7.org/linux/man-pages/man1/tcpdump.1.html"><code>tcpdump</code></a> and <a href="https://www.wireshark.org/">Wireshark</a> are network packet analyzers</li>
</ul>
</li>
<li>
<p>For web development, the Chrome/Firefox developer tools</p>
</li>
</ul>
</li>
<li>
<p>Static Analysis</p>
<ul>
<li>Python:  <a href="https://pypi.org/project/pyflakes"><code>pyflakes</code></a> /  <a href="http://mypy-lang.org/"><code>mypy</code></a> </li>
<li>Shell scripts:  <a href="https://www.shellcheck.net/"><code>shellcheck</code></a></li>
<li>Code linting</li>
<li>Vim plugins:  <a href="https://vimawesome.com/plugin/ale"><code>ale</code></a> or <a href="https://vimawesome.com/plugin/syntastic"><code>syntastic</code></a> </li>
<li><a href="https://github.com/mre/awesome-static-analysis">Awesome Static Analysis</a> &amp; <a href="https://github.com/caramelomartins/awesome-linters">Awesome Linters</a></li>
<li>Code formatters</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Profiling</p>
<blockquote>
<p>Since <a href="http://wiki.c2.com/?PrematureOptimization">premature optimization is the root of all evil</a>, you should learn about profilers and monitoring tools. </p>
</blockquote>
<ul>
<li>Timing
<ul>
<li><em>Real</em> time, wall clock time can be misleading</li>
<li>In general, <em>User</em> + <em>Sys</em> tells you how much time your process actually spent in the CPU
<ul>
<li><em>Real</em> - Wall clock elapsed time from start to finish of the program, including the time taken by other processes and time taken while blocked (e.g. waiting for I/O or network)</li>
<li><em>User</em> - Amount of time spent in the CPU running user code</li>
<li><em>Sys</em> - Amount of time spent in the CPU running kernel code</li>
</ul>
</li>
<li>e.g: <code>time curl https://missing.csail.mit.edu &amp;&gt; /dev/null</code></li>
</ul>
</li>
<li>Profilers
<ul>
<li>CPU
<ul>
<li><em>tracing</em> and <em>sampling</em> profilers. [<a href="https://jvns.ca/blog/2017/12/17/how-do-ruby---python-profilers-work-/">more</a>]</li>
<li><code>cProfile</code>,  <a href="https://github.com/pyutils/line_profiler"><code>line_profiler</code></a> in Python</li>
</ul>
</li>
<li>Memory
<ul>
<li>memory leaks: like <a href="https://valgrind.org/">Valgrind</a> that will help you identify memory leaks.</li>
</ul>
</li>
<li>Event Profiling
<ul>
<li>The <a href="https://www.man7.org/linux/man-pages/man1/perf.1.html"><code>perf</code></a> command can easily report poor cache locality, high amounts of page faults or livelocks</li>
<li><code>perf list</code> - List the events that can be traced with perf</li>
<li><code>perf stat COMMAND ARG1 ARG2</code> - Gets counts of different events related a process or command</li>
<li><code>perf record COMMAND ARG1 ARG2</code> - Records the run of a command and saves the statistical data into a file called <code>perf.data</code></li>
<li><code>perf report</code> - Formats and prints the data collected in <code>perf.data</code></li>
</ul>
</li>
<li>Visualization
<ul>
<li>displaying profiler’s output in an easier to parse way.</li>
<li>display CPU profiling information for sampling profilers is to use a <a href="http://www.brendangregg.com/flamegraphs.html">Flame Graph</a></li>
<li><strong>Call graphs</strong> or <strong>control flow graphs</strong> display the relationships between subroutines within a program by including functions as nodes and functions calls between them as directed edges.</li>
</ul>
</li>
</ul>
</li>
<li>Resource Monitoring
<ul>
<li><strong>General Monitoring</strong>:  <a href="https://htop.dev/"><code>htop</code></a> / <a href="https://www.man7.org/linux/man-pages/man1/top.1.html"><code>top</code></a> / <a href="https://nicolargo.github.io/glances/"><code>glances</code></a></li>
<li><strong>I/O operations</strong>: <a href="https://www.man7.org/linux/man-pages/man8/iotop.8.html"><code>iotop</code></a></li>
<li><strong>Disk Usage</strong>:  <a href="https://www.man7.org/linux/man-pages/man1/df.1.html"><code>df</code></a> displays metrics per partitions and <a href="http://man7.org/linux/man-pages/man1/du.1.html"><code>du</code></a> displays <strong>d</strong>isk <strong>u</strong>sage per file for the current directory.  <code>-h</code> flag
<ul>
<li>A more interactive version of <code>du</code> is <a href="https://dev.yorhel.nl/ncdu"><code>ncdu</code></a> </li>
</ul>
</li>
<li><strong>Memory Usage</strong>:  <a href="https://www.man7.org/linux/man-pages/man1/free.1.html"><code>free</code></a> displays the total amount of free and used memory in the system</li>
<li><strong>Open Files</strong>: <a href="https://www.man7.org/linux/man-pages/man8/lsof.8.html"><code>lsof</code></a> lists file information about files opened by processes.</li>
<li><strong>Network Connections and Config</strong>:
<ul>
<li><a href="https://www.man7.org/linux/man-pages/man8/ss.8.html"><code>ss</code></a> lets you monitor incoming and outgoing network packets statistics.</li>
<li>For displaying routing, network devices and interfaces you can use <a href="http://man7.org/linux/man-pages/man8/ip.8.html"><code>ip</code></a>.</li>
<li><code>netstat</code> and <code>ifconfig</code> have been deprecated</li>
</ul>
</li>
<li><strong>Network Usage</strong>: <a href="https://github.com/raboof/nethogs"><code>nethogs</code></a> and <a href="http://www.ex-parrot.com/pdw/iftop/"><code>iftop</code></a></li>
<li>The <a href="https://linux.die.net/man/1/stress"><code>stress</code></a> command.</li>
</ul>
</li>
<li>Specialized tools
<ul>
<li>Tools like <a href="https://github.com/sharkdp/hyperfine"><code>hyperfine</code></a> let you quickly benchmark command line programs. 
<ul>
<li><code>hyperfine --warmup 3 'fd -e jpg' 'find . -iname &quot;*.jpg&quot;'</code></li>
</ul>
</li>
<li>Webpage loading: More info for <a href="https://profiler.firefox.com/docs/">Firefox</a> and <a href="https://developers.google.com/web/tools/chrome-devtools/rendering-tools">Chrome</a>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="metaprogramming"><a class="header" href="#metaprogramming">Metaprogramming</a></h2>
<ul>
<li>
<p>Build systems</p>
<ul>
<li>define a number of <strong>dependencies</strong>, a number of <strong>targets</strong>, and <strong>rules</strong> for going from one to the other.</li>
<li><code>make</code> is one of the most common build systems.
<ul>
<li><code>Makefile</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Dependency management</p>
<ul>
<li><code>apt</code>/ RubyGems / PyPi / ...</li>
<li>semantic versioning</li>
</ul>
</li>
<li>
<p>Continuous integration systems</p>
<ul>
<li>
<blockquote>
<p>runs whenever your code changes</p>
</blockquote>
</li>
<li>
<p>Tests</p>
<ul>
<li><strong>Test suite</strong>: a collective term for all the tests</li>
<li><strong>Unit test</strong>: a “micro-test” that tests a specific feature in isolation</li>
<li><strong>Integration test</strong>: a “macro-test” that runs a larger part of the system to check that different feature or components work <em>together</em>.</li>
<li><strong>Regression test</strong>: a test that implements a particular pattern that <em>previously</em> caused a bug to ensure that the bug does not resurface.</li>
<li><strong>Mocking</strong>: to replace a function, module, or type with a fake implementation to avoid testing unrelated functionality. For example, you might “mock the network” or “mock the disk”.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="security-and-cryptography"><a class="header" href="#security-and-cryptography">Security and Cryptography</a></h2>
<ul>
<li>
<p>Entropy</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Entropy_(information_theory)">Entropy</a> is a measure of randomness.</li>
</ul>
</li>
<li>
<p>Hash functions</p>
<ul>
<li>A <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function">cryptographic hash function</a> maps data of arbitrary size to a fixed size, and has some special properties.</li>
<li><code>hash(value: array&lt;byte&gt;) -&gt; vector&lt;byte, N&gt;  (for some fixed N)</code></li>
<li>Applications:
<ul>
<li>Git, for content-addressed storage. </li>
<li>A short summary of the contents of a file.</li>
<li><a href="https://en.wikipedia.org/wiki/Commitment_scheme">Commitment schemes</a>. </li>
</ul>
</li>
</ul>
</li>
<li>
<p>Key derivation functions</p>
<ul>
<li>Applications:
<ul>
<li>Producing keys from passphrases for use in other cryptographic algorithms</li>
<li>Storing login credentials.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Symmetric cryptography</p>
<ul>
<li>
<pre><code>keygen() -&gt; key  (this function is randomized)

encrypt(plaintext: array&lt;byte&gt;, key) -&gt; array&lt;byte&gt;  (the ciphertext)
decrypt(ciphertext: array&lt;byte&gt;, key) -&gt; array&lt;byte&gt;  (the plaintext)
</code></pre>
</li>
<li>
<p>Applications:</p>
<ul>
<li>Encrypting files for storage in an untrusted cloud service.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Asymmetric cryptography</p>
<ul>
<li>
<pre><code>keygen() -&gt; (public key, private key)  (this function is randomized)

encrypt(plaintext: array&lt;byte&gt;, public key) -&gt; array&lt;byte&gt;  (the ciphertext)
decrypt(ciphertext: array&lt;byte&gt;, private key) -&gt; array&lt;byte&gt;  (the plaintext)

sign(message: array&lt;byte&gt;, private key) -&gt; array&lt;byte&gt;  (the signature)
verify(message: array&lt;byte&gt;, signature: array&lt;byte&gt;, public key) -&gt; bool  (whether or not the signature is valid)
</code></pre>
</li>
<li>
<p>Applications</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy">PGP email encryption</a>.</li>
<li>Private messaging. </li>
<li>Signing software.</li>
</ul>
</li>
<li>
<p>Key Distribution</p>
</li>
</ul>
</li>
<li>
<p>Case Studies</p>
<ul>
<li>Password managers
<ul>
<li><a href="https://keepassxc.org/">KeePassXC</a>, <a href="https://www.passwordstore.org/">pass</a>, and <a href="https://1password.com/">1Password</a></li>
</ul>
</li>
<li>Two-factor authentication (2FA)</li>
<li>Full disk encryption</li>
<li>Private messaging
<ul>
<li><a href="https://signal.org/">Signal</a> or <a href="https://keybase.io/">Keybase</a></li>
</ul>
</li>
<li>SSH
<ul>
<li><code>ssh-keygen</code></li>
<li>stored in the <code>.ssh/authorized_keys</code> file</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Resouces</p>
<ul>
<li><a href="https://latacora.micro.blog/2018/04/03/cryptographic-right-answers.html">Cryptographic Right Answers</a>: answers “what crypto should I use for X?” for many common X.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="potpourri"><a class="header" href="#potpourri">Potpourri</a></h1>
<ul>
<li>
<p>Keyboard remapping, e.g:</p>
<ul>
<li>Remap <code>Caps Lock</code> to <code>Ctrl</code> or <code>Escape</code>.</li>
<li>Remapping <code>PrtSc</code> to <code>Play/Pause</code> music.</li>
<li>Swapping <code>Ctrl</code> and the <code>Meta</code> (Windows or Command) key.</li>
<li>Map keys to arbitrary commands of your choosing, e.g:
<ul>
<li>Open a new terminal or browser window.</li>
<li>Inserting some specific text, e.g. your long email address or your MIT ID number.</li>
<li>Sleeping the computer or the displays.</li>
</ul>
</li>
<li>Software resources:
<ul>
<li>macOS - <a href="https://pqrs.org/osx/karabiner/"><strong>karabiner-elements</strong></a>, <a href="https://github.com/koekeishiya/skhd">skhd</a> or <a href="https://folivora.ai/">BetterTouchTool</a></li>
<li>Linux - <a href="https://wiki.archlinux.org/index.php/Xmodmap">xmodmap</a> or <a href="https://github.com/autokey/autokey">Autokey</a></li>
<li>Windows - Builtin in Control Panel, <a href="https://www.autohotkey.com/">AutoHotkey</a> or <a href="https://www.randyrants.com/category/sharpkeys/">SharpKeys</a></li>
<li>QMK - If your keyboard supports custom firmware you can use <a href="https://docs.qmk.fm/">QMK</a> to configure the hardware device itself so the remaps works for any machine you use the keyboard with.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Daemons</p>
<ul>
<li>These processes are called daemons and the programs that run as daemons often end with a <code>d</code> to indicate so.</li>
<li>Systemd can be interacted with the <code>systemctl</code> command in order to <code>enable</code>, <code>disable</code>, <code>start</code>, <code>stop</code>, <code>restart</code> or check the <code>status</code> of services</li>
<li>use <a href="https://www.man7.org/linux/man-pages/man8/cron.8.html"><code>cron</code></a>, a daemon your system already runs to perform scheduled tasks.</li>
</ul>
</li>
<li>
<p>FUSE</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace">FUSE</a> (Filesystem in User Space) allows filesystems to be implemented by a user program.</li>
<li>Examples:
<ul>
<li><a href="https://github.com/libfuse/sshfs">sshfs</a> - Open locally remote files/folder through an SSH connection.</li>
<li><a href="https://rclone.org/commands/rclone_mount/">rclone</a> - Mount cloud storage services like Dropbox, GDrive, Amazon S3 or Google Cloud Storage and open data locally.</li>
<li><a href="https://nuetzlich.net/gocryptfs/">gocryptfs</a> - Encrypted overlay system. Files are stored encrypted but once the FS is mounted they appear as plaintext in the mountpoint.</li>
<li><a href="https://keybase.io/docs/kbfs">kbfs</a> - Distributed filesystem with end-to-end encryption. You can have private, shared and public folders.</li>
<li><a href="https://borgbackup.readthedocs.io/en/stable/usage/mount.html">borgbackup</a> - Mount your deduplicated, compressed and encrypted backups for ease of browsing.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Backups</p>
<ul>
<li>
<p>Synchronization solutions are not backups.</p>
</li>
<li><input disabled="" type="checkbox"/>
<p>For a more detailed explanation, see 2019’s lecture notes on <a href="https://missing.csail.mit.edu/2019/backups">Backups</a>.</p>
</li>
</ul>
</li>
<li>
<p>APIs</p>
<ul>
<li>With JSON, you can pipe through a tool like <a href="https://stedolan.github.io/jq/"><code>jq</code></a> to massage into what you care about.</li>
<li>Authentication,  “<a href="https://www.oauth.com/">OAuth</a>”</li>
<li><a href="https://ifttt.com/">IFTTT</a> </li>
</ul>
</li>
<li>
<p>Common command-line flags/patterns</p>
<ul>
<li>Most tools support some kind of <code>--help</code> flag to display brief usage instructions for the tool.</li>
<li>Many tools that can cause irrevocable change support the notion of a “dry run” in which they only print what they <em>would have done</em>, but do not actually perform the change. Similarly, they often have an “interactive” flag that will prompt you for each destructive action.</li>
<li>You can usually use <code>--version</code> or <code>-V</code> to have the program print its own version (handy for reporting bugs!).</li>
<li>Almost all tools have a <code>--verbose</code> or <code>-v</code> flag to produce more verbose output. You can usually include the flag multiple times (<code>-vvv</code>) to get <em>more</em> verbose output, which can be handy for debugging. Similarly, many tools have a <code>--quiet</code> flag for making it only print something on error.</li>
<li>In many tools, <code>-</code> in place of a file name means “standard input” or “standard output”, depending on the argument.</li>
<li>Possibly destructive tools are generally not recursive by default, but support a “recursive” flag (often <code>-r</code>) to make them recurse.</li>
<li>Sometimes, you want to pass something that <em>looks</em> like a flag as a normal argument. For example, imagine you wanted to remove a file called <code>-r</code>. Or you want to run one program “through” another, like <code>ssh machine foo</code>, and you want to pass a flag to the “inner” program (<code>foo</code>). The special argument <code>--</code> makes a program <em>stop</em> processing flags and options (things starting with <code>-</code>) in what follows, letting you pass things that look like flags without them being interpreted as such: <code>rm -- -r</code> or <code>ssh machine --for-ssh -- foo --for-foo</code>.</li>
</ul>
</li>
<li>
<p>Window managers</p>
<ul>
<li>My option: Magnet.</li>
</ul>
</li>
<li>
<p>VPNs</p>
<ul>
<li>Considerations：<a href="https://gist.github.com/joepie91/5a9909939e6ce7d09e29">Don't use VPN services.</a></li>
</ul>
</li>
<li>
<p>Markdown</p>
<ul>
<li>Instead of pulling out a heavy tool like Word or LaTeX, you may want to consider using the lightweight markup language <a href="https://commonmark.org/help/">Markdown</a>.</li>
</ul>
</li>
<li>
<p>Hammerspoon (desktop automation on macOS)</p>
<ul>
<li><a href="https://www.hammerspoon.org/">Hammerspoon</a> is a desktop automation framework for macOS.</li>
<li>Examples：
<ul>
<li>Bind hotkeys to move windows to specific locations</li>
<li>Create a menu bar button that automatically lays out windows in a specific layout</li>
<li>Mute your speaker when you arrive in lab (by detecting the WiFi network)</li>
<li>Show you a warning if you’ve accidentally taken your friend’s power supply</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Booting + Live USBs</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Live_USB">Live USBs</a> are USB flash drives containing an operating system.
<ul>
<li>There are tools like <a href="https://unetbootin.github.io/">UNetbootin</a> to help you create live USBs.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Docker, Vagrant, VMs, Cloud, OpenStack</p>
<ul>
<li><a href="https://www.vagrantup.com/">Vagrant</a> is a tool that lets you describe machine configurations</li>
<li><a href="https://www.docker.com/">Docker</a> is conceptually similar but it uses containers instead.</li>
<li>Virtual Machines on the cloud：
<ul>
<li>Popular services include <a href="https://aws.amazon.com/">Amazon AWS</a>, <a href="https://cloud.google.com/">Google Cloud</a>,<a href="https://azure.microsoft.com/"> Microsoft Azure</a>, <a href="https://www.digitalocean.com/">DigitalOcean</a>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Notebook programming</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Notebook_interface">Notebook programming environments</a> can be really handy for doing certain types of interactive or exploratory development.</li>
<li><a href="https://jupyter.org/">Jupyter</a>, for Python</li>
<li><a href="https://www.wolfram.com/mathematica/">Wolfram Mathematica</a> is another notebook programming environment that’s great for doing math-oriented programming.</li>
</ul>
</li>
<li>
<p>GitHub</p>
<ul>
<li>There are two primary ways in which people contribute to projects on GitHub:
<ul>
<li>Creating an <a href="https://help.github.com/en/github/managing-your-work-on-github/creating-an-issue">issue</a>. </li>
<li>Contribute code through a <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull request</a>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="编程语言"><a class="header" href="#编程语言">编程语言</a></h1>
<p>学习、应用并融汇贯通各种编程语言。</p>
<ul>
<li><a href="programming-languages/./swift/swift.html">Swift</a></li>
<li><a href="programming-languages/./rust/rust.html">Rust</a></li>
<li><a href="programming-languages/./c-style/c-style.html">C/C++/Objective-C</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swift"><a class="header" href="#swift">Swift</a></h1>
<ul>
<li>
<p><a href="programming-languages/swift/./advanced-swift.html">Swift进阶</a></p>
</li>
<li>
<p><a href="programming-languages/swift/./programming-languages/swift/swift-method-dispatch-notes.html">Swift 方法派发纪要</a></p>
</li>
<li>
<p><a href="https://google.github.io/swift/">Swift Style Guide within Google</a></p>
</li>
<li>
<p><a href="https://swiftdoc.org/">SwiftDoc.org</a> - Swift 开源文档查询</p>
</li>
<li>
<p><a href="https://github.com/TannerJin/Swift-MemoryLayout">Swift-MemoryLayout</a> - Swift 内存布局</p>
</li>
<li>
<p><a href="https://docs.swift.org/swift-book/ReferenceManual/Attributes.html">Swift: Attributes</a></p>
<details>
  <summary>笔记概览</summary>
<ul>
<li>Declaration Attributes
<ul>
<li>available</li>
<li>discardableResult</li>
<li>dynamicCallable</li>
<li>dynamicMemberLookup</li>
<li>frozen</li>
<li>GKInspectable</li>
<li>inlinable</li>
<li>main</li>
<li>nonobjc</li>
<li>NSApplicationMain</li>
<li>NSCopying</li>
<li>NSManaged</li>
<li>objc</li>
<li>objcMembers</li>
<li>propertyWrapper</li>
<li>requires_stored_property_inits</li>
<li>testable</li>
<li>UIApplicationMain</li>
<li>usableFromInline</li>
<li>warn_unqualified_access</li>
<li>Declaration Attributes Used by Interface Builder</li>
</ul>
</li>
<li>Type Attributes
<ul>
<li>autoclosure</li>
<li>convention</li>
<li>escaping</li>
</ul>
</li>
<li>Switch Case Attributes
<ul>
<li>unknown</li>
</ul>
</li>
</ul>
</details>
</li>
</ul>
<h2 id="apple-官方资源与文档"><a class="header" href="#apple-官方资源与文档">Apple 官方资源与文档</a></h2>
<ul>
<li>
<p><a href="https://swift.org/">Swift.org</a> - Swift 社区</p>
</li>
<li>
<p><a href="https://github.com/apple/swift">Swift 源码库 - GitHub</a></p>
</li>
<li>
<p><a href="https://www.apple.com.cn/swift/">Apple 官网 Swift 介绍</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/swift/">Apple 开发者官网 Swift 介绍</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/documentation/swift/preventing_timing_problems_when_using_closures">Preventing Timing Problems When Using Closures</a> - 使用闭包时防止时序问题</p>
<details>
  <summary>笔记概览</summary>
<ul>
<li>了解同步和异步调用的结果（<code>@escaping</code> ?)</li>
<li>不要在多次调用的闭包中编写进行一次性更改的代码（e.g: <code>FileHandle.close</code>)</li>
<li>不要将关键代码置于可能不被调用的闭包中</li>
</ul>
</details>
</li>
<li>
<p><a href="https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes">Choosing Between Structures and Classes</a></p>
<details>
  <summary>笔记概览</summary>
<ul>
<li>Use structures by default.</li>
<li>Use classes when you need Objective-C interoperability.</li>
<li>Use classes when you need to control the identity of the data you're modeling.</li>
<li>Use structures along with protocols to adopt behavior by sharing implementations.</li>
</ul>
</details>
</li>
<li>
<p><a href="https://developer.apple.com/documentation/swift/adopting_common_protocols">Adopting Common Protocols</a> - 采用通用协议</p>
<details>
  <summary>笔记概览</summary>
<ul>
<li>Conform Automatically to Equatable and Hashable</li>
<li>Conform Manually to Equatable and Hashable
<ul>
<li>Use All Significant Properties for Equatable and Hashable</li>
</ul>
</li>
<li>Customize NSObject Subclass Behavior
<blockquote>
<p>If you override one of these declarations, you must also override the other to maintain that guarantee.</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>⚠️ Important</p>
<p>Always use the same properties in both your == and hash(into:) methods. 
Using different groups of properties in the two methods can lead to unexpected behavior or performance when using your custom type in sets and dictionaries.</p>
</blockquote>
</details>
</li>
<li>
<p><a href="https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis">Imported C and Objective-C APIs</a> - Swift 与 C/Objective-C 的交互</p>
</li>
<li>
<p><a href="https://github.com/apple/swift/blob/main/docs/OptimizationTips.rst">Writing High-Performance Swift Code</a></p>
<details>
  <summary>笔记概览</summary>
<ul>
<li>开启编译优化选项: <code>-Onone</code> <code>-O</code> <code>-Osize</code></li>
<li>开启 WMO 编译选项：<code>-whole-module-optimization</code></li>
<li>减少动态派发：<code>final</code> <code>private/fileprivate</code> <code>internal</code></li>
<li>高效使用容器集合类型: <code>ContiguousArray</code>、尽可能修改原容器对象、在集合中使用值类型（「深拷贝耗能的大对象」除外）</li>
<li>非溢出封装计算操作：<code>&amp;+</code>, <code>&amp;-</code>, <code>&amp;*</code></li>
<li>范型的声明和使用在同一个模块内，以便编译时特化</li>
<li>深拷贝耗性能的值类型采用<code>需时拷贝</code>（COW）语义封装。<a href="https://gist.github.com/Binlogo/533e357c8ea6260e4c2b2e786dc522d4">Code</a></li>
<li>仅供类对象实现的协议显式标注：AnyObject</li>
<li>非逃逸闭包采用参数传递，避免上下文捕获</li>
</ul>
</details>
</li>
</ul>
<h3 id="packages"><a class="header" href="#packages">Packages</a></h3>
<ul>
<li><a href="https://github.com/apple/swift-collections">Swift Collections</a></li>
<li><a href="https://github.com/apple/swift-algorithms">Swfit Algorithms</a></li>
<li><a href="https://github.com/apple/swift-system">Swift System</a></li>
<li><a href="https://github.com/apple/swift-numerics">Swift Numerics</a></li>
<li><a href="https://github.com/apple/swift-argument-parser">Swift Argument Parser</a></li>
</ul>
<h2 id="链接-11"><a class="header" href="#链接-11">链接</a></h2>
<ul>
<li><a href="https://ci.swift.org/">Swift CI</a> - Swift 官方的持续构建集成平台</li>
<li><a href="https://www.whatsnewinswift.com/">What's new in Swift?</a></li>
<li><a href="https://github.com/uber/swift-concurrency">Swift Concurrency by Uber</a> - Uber 开源的并发编程实用工具</li>
<li><a href="https://github.com/guillermomuntaner/Burritos">Burritos</a> - Swift Property Wrappers 特性应用合集</li>
<li><a href="https://apple.github.io/swift-evolution/">Swift Evolution</a> - Swift 演进路径</li>
</ul>
<h3 id="响应式编程"><a class="header" href="#响应式编程">响应式编程</a></h3>
<ul>
<li><a href="https://github.com/DeclarativeHub/ReactiveKit">DeclarativeHub/ReactiveKit</a></li>
<li><a href="https://github.com/DeclarativeHub/Bond">DeclarativeHub/Bond</a></li>
</ul>
<h3 id="设计模式"><a class="header" href="#设计模式">设计模式</a></h3>
<ul>
<li><a href="https://refactoringguru.cn/design-patterns/swift">Swift 常用设计模式</a></li>
</ul>
<h2 id="qa"><a class="header" href="#qa">Q&amp;A</a></h2>
<ul>
<li>踩坑：iOS10 Swift KVO 的 Crash 问题如何解决与避免
<ul>
<li>TODO: 待补充</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swift-54-新特性速查"><a class="header" href="#swift-54-新特性速查">Swift 5.4 新特性速查</a></h1>
<blockquote>
<p><a href="https://swift.org/blog/swift-5-4-released/">Swift 5.4 Released!</a></p>
</blockquote>
<h2 id="语言特性"><a class="header" href="#语言特性">语言特性</a></h2>
<ul>
<li>Support for multiple variadic parameters in functions, subscripts and initializers <a href="https://github.com/apple/swift-evolution/blob/main/proposals/0284-multiple-variadic-parameters.md">(SE-0284)</a></li>
<li>Extend implicit member syntax <a href="https://github.com/apple/swift-evolution/blob/main/proposals/0287-implicit-member-chains.md">(SE-0287)</a></li>
<li>Result builders <a href="https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md">(SE-0289)</a>
<ul>
<li>更多参考： <a href="https://github.com/carson-katri/awesome-function-builders">awesome-function-builders</a></li>
</ul>
</li>
<li>Local functions supporting overloading</li>
<li>Property wrappers for local variables</li>
</ul>
<h3 id="multiple-variadic-parameters-in-functions"><a class="header" href="#multiple-variadic-parameters-in-functions">Multiple variadic parameters in functions</a></h3>
<pre><code class="language-swift">func summarizeGoals(times: Int..., players: String...) {
    let joinedNames = ListFormatter.localizedString(byJoining: players)
    let joinedTimes = ListFormatter.localizedString(byJoining: times.map(String.init))
    
    print(&quot;\(times.count) goals where scored by \(joinedNames) at the follow minutes: \(joinedTimes)&quot;)
}
/*:
To call that function, provide both sets of values as variadic parameters, making sure that all parameters after the first variadic are labeled:
*/
summarizeGoals(times: 18, 33, 55, 90, players: &quot;Dani&quot;, &quot;Jamie&quot;, &quot;Roy&quot;)
</code></pre>
<h3 id="improved-implicit-member-syntax"><a class="header" href="#improved-implicit-member-syntax">Improved implicit member syntax</a></h3>
<pre><code class="language-swift">struct ContentView1: View {
    var body: some View {
        Text(&quot;Hello, World!&quot;)
            .foregroundColor(.red)
    }
}
/*:
Prior to Swift 5.4 this did not work with more complex expressions. For example, if you wanted your red color to be slightly transparent you would need to write this:
*/
struct ContentView2: View {
    var body: some View {
        Text(&quot;Hello, World!&quot;)
            .foregroundColor(Color.red.opacity(0.5))
    }
}
/*:
From Swift 5.4 onwards the compiler is able to understand multiple chained members, meaning that the `Color` type can be inferred:
*/
struct ContentView3: View {
    var body: some View {
        Text(&quot;Hello, World!&quot;)
            .foregroundColor(.red.opacity(0.5))
    }
}
</code></pre>
<h3 id="result-builders"><a class="header" href="#result-builders">Result builders</a></h3>
<pre><code class="language-swift">@resultBuilder
struct SimpleStringBuilder {
    static func buildBlock(_ parts: String...) -&gt; String {
        parts.joined(separator: &quot;\n&quot;)
    }
}

@SimpleStringBuilder func makeSentence3() -&gt; String {
    &quot;Why settle for a Duke&quot;
    &quot;when you can have&quot;
    &quot;a Prince?&quot;
}
    
print(makeSentence3())
</code></pre>
<ul>
<li>If you’d like to see more advanced, real-world examples of result builders in action, you should check out the <a href="https://github.com/carson-katri/awesome-function-builders">Awesome Function Builders repository on GitHub</a>.</li>
</ul>
<h3 id="local-functions-supporting-overloading"><a class="header" href="#local-functions-supporting-overloading">Local functions supporting overloading</a></h3>
<pre><code class="language-swift">struct Butter { }
struct Flour { }
struct Sugar { }
    
func makeCookies() {
    func add(item: Butter) {
        print(&quot;Adding butter…&quot;)
    }
    
    func add(item: Flour) {
        print(&quot;Adding flour…&quot;)
    }
    
    func add(item: Sugar) {
        print(&quot;Adding sugar…&quot;)
    }
    
    add(item: Butter())
    add(item: Flour())
    add(item: Sugar())
    print(&quot;Come and get some cookies!&quot;)
}
    
makeCookies()
</code></pre>
<h3 id="property-wrappers-for-local-variables"><a class="header" href="#property-wrappers-for-local-variables">Property wrappers for local variables</a></h3>
<pre><code class="language-swift">@propertyWrapper struct NonNegative&lt;T: Numeric &amp; Comparable&gt; {
    var value: T
    
    var wrappedValue: T {
        get { value }
    
        set {
            if newValue &lt; 0 {
                value = 0
            } else {
                value = newValue
            }
        }
    }
    
    init(wrappedValue: T) {
        if wrappedValue &lt; 0 {
            self.value = 0
        } else {
            self.value = wrappedValue
        }
    }
}
/*:
And from Swift 5.4 onwards we can use that property wrapper inside a regular function, rather than just attaching to a property. For example, we might write a game where our player can gain or lose points, but their score should never go below 0:
*/
func playGame() {
    @NonNegative var score = 0
    
    // player was correct
    score += 10
    
    // player was correct again
    score += 10
    
    // player got one wrong
    score -= 50
    
    print(score)
}
    
playGame()
</code></pre>
<h2 id="运行性能与代码大小优化"><a class="header" href="#运行性能与代码大小优化">运行性能与代码大小优化</a></h2>
<p>Further, consecutive array modifications now avoid redundant uniqueness checks.</p>
<pre><code>func foo(_ a: inout [Int]) {
  // Must do copy-on-write (CoW) check here.
  a[0] = 1
  // The compiler no longer generates
  // a redundant CoW check here.
  a[1] = 2
}
</code></pre>
<ul>
<li><code>String</code> interpolations are more aggressively constant-folded</li>
<li>Fewer retain/release calls, especially for <code>inout</code> function arguments and within loops</li>
<li>Generic metadata in the Standard Library is now <a href="https://forums.swift.org/t/generic-type-metadata-prespecialization/31659">specialized at compile time</a>, reducing dirty memory usage and improving performance</li>
</ul>
<h2 id="开发体验优化"><a class="header" href="#开发体验优化">开发体验优化</a></h2>
<ul>
<li>Build Performance</li>
<li>Code Completion</li>
<li>Type Checker 🎉 🎉 🎉
<ul>
<li>“too complex to solve in reasonable time” 👋👋👋</li>
</ul>
</li>
</ul>
<p>For example, consider:</p>
<pre><code class="language-swift">struct S { var s: String? }

func test(_ a: [S]) {
   _ = a.reduce(&quot;&quot;) {
     ($0 + &quot;,&quot; + ($1.s ?? &quot;&quot;)) + ($1.s ?? &quot;&quot;) + ($1.s ?? &quot;&quot;)
   }
}
</code></pre>
<p>For this code, the type checker completes in <strong>under 100 ms</strong>, where previously it would <strong>time out.</strong></p>
<ul>
<li>Debugging</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swift-进阶阅读纪要"><a class="header" href="#swift-进阶阅读纪要">《Swift 进阶》阅读纪要</a></h1>
<p>《<a href="https://objccn.io/products/advanced-swift/">Swift 进阶</a>》是 objc.io 出的<a href="https://objccn.io/products/">系列书籍</a>之一，除此之外参与<a href="https://www.maliquankai.com/">码力全开</a>公众号活动时，非常幸运地中到了实体书。在此记录阅读时记录的重点摘要。</p>
<h2 id="泛型"><a class="header" href="#泛型">泛型</a></h2>
<p>使用泛型代码编程，可以写出可重用的函数和数据结构，只要满足所定义的约束，就能够使用各种类型。</p>
<ul>
<li>重载：拥有同样的名字，但参数或返回类型不同的多个方法互相被称为重载方法。
<ul>
<li>自由函数的重载</li>
<li>运算符的重载</li>
<li>使用泛型约束进行重载</li>
<li>使用闭包对行为进行参数化</li>
</ul>
</li>
</ul>
<blockquote>
<p>非通用的函数会优先于通用函数被使用。</p>
</blockquote>
<blockquote>
<p>⚠️ 重载的使用时在编译期间静态决定的。若需要运行时的多态，不应采用自由函数，而是定义为类型方法。</p>
</blockquote>
<blockquote>
<p>对于重载的运算符，类型检查器会使用非泛型版本，而不考虑泛型版本。</p>
</blockquote>
<blockquote>
<p>可以通过收紧序列元素类型的限制写出性能更好的版本。</p>
</blockquote>
<ul>
<li>对集合采用泛型操作
<ul>
<li>泛型二分查找</li>
<li>Subsequence 和泛型算法</li>
</ul>
</li>
<li>使用泛型进行代码设计</li>
<li>泛型的工作方式
<ul>
<li>witness table</li>
<li>泛型特化</li>
<li>全模块优化</li>
</ul>
</li>
</ul>
<p>// TODO: 结合 Gist 添加完整代码示例</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swift-方法派发纪要"><a class="header" href="#swift-方法派发纪要">Swift 方法派发纪要</a></h1>
<table><thead><tr><th>类型</th><th>说明</th><th></th></tr></thead><tbody>
<tr><td>Value 类型</td><td>struct, enum 这样的值类型不支持继承，所以无需动态派发，所有的方法调用（包括遵守的协议方法），都是直接调用<br />虽然不支持继承，但值类型还是可以通过 extension 和 Protocol 可以实现扩展</td><td></td></tr>
<tr><td>纯 Swift Class 类型</td><td>默认使用函数表派发，影响它方法调用的关键字有 final、dynamic 和 extension<br /> - 函数如果被标记成 final，编译器就会知道这个方法不会被 override，并把它的调用方式标记成直接调用。<br /> - 当一个方法被标记为 dymanic，你必须同时把它标记上@objc，此时这个方法会使用 Message 调用，依赖 Objc runtime。<br /> - 因为定义在 extension 中的方法目前还不支持 override，所以定义在其中的方法都是直接派发的<br /> - 对于未标记成 final 并在 class 内部（非 extension）中定义的方法，Swit 会用一种叫作 Virtual Table 的机制来在运行时查找到这个方法并进行调用。</td><td></td></tr>
<tr><td>NSObject Subclass 类型</td><td>影响这种类型的函数调用方式的关键字和上面一样，但是表现却不完全一样<br /> - 标记为 final 和 dynamic 的函数可以参考上面的 class<br /> - 在原生声明（非 extension）中定义的普通方法和标记为@obic 的方法都使用 V-table 机制派发。<br /> - 在 extension 中定义的方法使用 Message 调用，依赖 Objc runtime</td><td></td></tr>
</tbody></table>
<p><img src="programming-languages/swift/./assets/swift_method_dispatch_type_graph.png" alt="类型差异" /></p>
<p><img src="programming-languages/swift/./assets/swift_method_dispatch_declare_graph.png" alt="声明差异" /></p>
<h2 id="swift-派发原理"><a class="header" href="#swift-派发原理">Swift 派发原理</a></h2>
<ul>
<li>Dispatch
<ul>
<li>Dispatch 派发，指的是语言底层找到用户想要调用的方法，并执行调用过程的动作</li>
<li>Call 调用，指的是语言在高级层面，指示一个函数进行相关命令的行为</li>
</ul>
</li>
</ul>
<p>对于编译型语言来说，一般有三种方式可以派发到方法：<strong>静态派发</strong>，<strong>基于 Table 的派发</strong>，<strong>消息派发</strong></p>
<ul>
<li>
<p>Java 默认是使用 Table 方式派发的，你可以使用 final 关键字来强制动态派发</p>
</li>
<li>
<p>C++默认是静态派发的，你可以使用 virtual 关键字来启用 Table 派</p>
</li>
<li>
<p>Objective-C 全都基于消息派发，不过也允许你使用 C level 的函数直接派发。</p>
</li>
<li>
<p>Swift 应对不同的情巧妙的使用了这三种方法</p>
</li>
</ul>
<h3 id="direct-dispatch-直接派发"><a class="header" href="#direct-dispatch-直接派发">Direct Dispatch 直接派发</a></h3>
<ul>
<li>又叫：静态派发。因为它的汇编命令少，且可以应用很多编译器进行优化，比如 inline 优化</li>
<li>不过这种方式局限性最大，因为不够动态而无法支持子类。</li>
</ul>
<h3 id="table函数表派发"><a class="header" href="#table函数表派发">Table(函数表)派发</a></h3>
<p>基于 Table 的派发机制是编译语言最常用的方式。</p>
<p>Table 一般是用函数地址的数组来存储每个类的声明（Vtable），不过 Swift 中还有术语叫做 Witness Table (Wtable）是服务于 Protocol 的。</p>
<p>每个子类都会有自己的 Vtable 副本，子类中 override 的方法指针也会被替换成新的，子类新添加的方法则会被添加在 Table 的尾部。程序会在运行时确定每个函数具体的地址。</p>
<p>表的查找就实现而言非常简单，而且性能可以预测，不过还是比直接派发更慢一些。这种方法多了两步查找和一步跳转，这些都是开销。而且，这种方法没法使用一些编译器的优化方法。</p>
<p>另一个缺点在于，这种基于数组的派发让 extension 没法扩展这个 table。因为在子类添加方法列表到尾部后，extension 就没有一个安全的 index 可以添加他的方法到  table</p>
<h2 id="链接-12"><a class="header" href="#链接-12">链接</a></h2>
<ul>
<li><a href="https://www.rightpoint.com/rplabs/switch-method-dispatch-table">Method Dispatch in Swift</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concurrency"><a class="header" href="#concurrency">Concurrency</a></h1>
<blockquote>
<p>Rethinking concurrency since Swift 5.5.</p>
</blockquote>
<ul>
<li><a href="https://docs.swift.org/swift-book/LanguageGuide/Concurrency.html">Concurrency</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust"><a class="header" href="#rust">Rust</a></h1>
<blockquote>
<p>性能、安全、抽象易用，向编译器学习（di tou🙈）。</p>
</blockquote>
<h2 id="工具集"><a class="header" href="#工具集">工具集</a></h2>
<ul>
<li>
<p><a href="https://rust-lang.github.io/rustup/index.html">Rustup</a></p>
<ul>
<li>自动补全安装指南：<code>rustup help completions</code></li>
<li>版本信息：
<ul>
<li><a href="https://rust-lang.github.io/rustup/overrides.html#the-toolchain-file">Overrides-The toolchain file: <code>rust-toolchain</code></a></li>
<li><a href="https://www.whatrustisit.com/">What Rust is it?</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>VSCode</p>
<ul>
<li>扩展插件：
<ul>
<li>rust-analyzer</li>
<li>rust syntax</li>
<li>crates</li>
<li>better toml</li>
<li>Tabnine</li>
<li>Error Lens</li>
</ul>
</li>
<li>配置选项：
<ul>
<li>括号对着色</li>
<li>括号对指南</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="https://rust.extension.sh/">Rust Search Extension</a> - 浏览器搜索扩展插件</p>
</li>
<li>
<p><a href="https://github.com/matklad/cargo-xtask/">cargo-xtask</a> - （rust-analyzer <a href="https://rust-analyzer.github.io/rust-analyzer/xtask/index.html">在用</a>的）构建辅助工具</p>
</li>
<li>
<p><a href="https://transform.tools/json-to-rust-serde">JSON to Rust Serde</a> - 快速通过 JSON 生成 Rust Serde 代码</p>
</li>
<li>
<p><a href="https://cheats.rs/">Rust Cheat Sheet</a> - <a href="https://cheats.rs/rust_cheat_sheet.pdf">PDF</a> - 速查表</p>
</li>
</ul>
<h2 id="社区协作"><a class="header" href="#社区协作">社区&amp;协作</a></h2>
<blockquote>
<p>Rust 团队在工作流和团队协作方法论上也有诸多值得学习和借鉴的地方，在此记录</p>
</blockquote>
<ul>
<li><a href="https://lib.rs/">Lib.rs — home for Rust crates</a> - 三方库索引，<a href="https://crates.io/">crates.io</a> 的补充</li>
<li><a href="https://rust-ctcft.github.io/ctcft/">Cross-Team Collaboration Fun Times</a> - Rust 「跨团队协作欢乐时光」会议
<ul>
<li><a href="https://hackmd.io/@rust-ctcft">协作文档</a></li>
</ul>
</li>
</ul>
<h2 id="链接-13"><a class="header" href="#链接-13">链接</a></h2>
<ul>
<li><a href="https://doc.rust-lang.org/book/">Book - The Rust Programming Language</a></li>
<li><a href="https://forge.rust-lang.org/release/platform-support.html">Rust Platform Support</a></li>
<li><a href="https://rustyyato.github.io/rust/syntactic/sugar/2019/01/17/Closures-Magic-Functions.html">Closures: Magic Functions</a></li>
<li><a href="https://learnku.com/docs/rust-lang/2018">Rust 编程语言</a> - 官方的《The Rust Programming Language》翻译</li>
<li><a href="https://leaxoy.github.io/2020/03/rust-async-runtime/">Rust异步浅谈</a></li>
<li><a href="https://rust-lang-nursery.github.io/rust-cookbook/">Rust Cookbook</a> - Rust 优秀实践示例集锦</li>
<li><a href="https://nnethercote.github.io/perf-book/">The Rust Performance Book</a> - Rust 性能之书</li>
<li><a href="https://rust-unofficial.github.io/patterns/">Rust Design Patterns</a></li>
<li><a href="https://rustwiki.org/">Rust 文档网 - Rust 官方文档中文教程</a></li>
</ul>
<h3 id="实践经验分享"><a class="header" href="#实践经验分享">实践经验分享</a></h3>
<ul>
<li><a href="https://fasterthanli.me/articles/my-ideal-rust-workflow">My ideal Rust workflow</a></li>
<li><a href="https://stackoverflow.blog/2020/01/20/what-is-rust-and-why-is-it-so-popular/">What is Rust and why is it so popular?</a></li>
<li><a href="https://www.youtube.com/watch?v=A3AdN7U24iU">Rust: A Language for the Next 40 Years - Carol Nichols</a></li>
<li><a href="https://blog.tonari.no/why-we-love-rust">3K, 60fps, 130ms: achieving it with Rust - by Tonarino</a> - <a href="https://mp.weixin.qq.com/s/-YfdohRpJxURNYLSfo6G7w">中文</a></li>
<li><a href="https://renoth.medium.com/understanding-rust-as-a-c-developer-69ee8ca76fd6">Understanding Rust as a C++ developer</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://simlay.net/posts/using-uikit-sys/">Building an (almost entirely) rust iOS app using uikit-sys. - Sebastian Imlay</a> - 尝试几乎完全采用 Rust 构建 iOS 应用</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://blog-appflowy.ghost.io/tech-design-flutter-rust/">How we built Appflowy with Flutter and Rust</a> ⭐️</li>
</ul>
<h3 id="rust-移动端跨平台"><a class="header" href="#rust-移动端跨平台">Rust 移动端跨平台</a></h3>
<ul>
<li><a href="https://github.com/xajik/rust-cross-platform-mobile">swapi-rust-mobile</a></li>
<li><a href="http://llever.com/rust-ffi-omnibus/">Rust FFI Omnibus</a></li>
<li><a href="https://github.com/vislyhq/stretch">High performance flexbox implementation written in rust</a></li>
<li><a href="https://mp.weixin.qq.com/s/W-EvvKzmj1A8VsNKFYkuhQ">深度探索：前端中的后端</a></li>
<li><a href="https://mp.weixin.qq.com/s/5FfSRpRG-F8Y8X3BX9mJ-Q">深度分析：前端中的后端-实现篇</a></li>
<li><a href="https://github.com/mozilla/uniffi-rs">mozilla/uniffi-rs</a> - Rust 跨平台交互代码生成器</li>
<li><a href="https://github.com/rust-windowing/winit">rust-windowing/winit</a> - 跨平台窗口创建和管理</li>
<li><a href="https://github.com/iced-rs/iced">iced-rs/iced</a> - Rust 跨平台 GUI 库</li>
</ul>
<h4 id="跨平台开源项目"><a class="header" href="#跨平台开源项目">跨平台开源项目</a></h4>
<ul>
<li><a href="https://github.com/mozilla/application-services">mozilla/application-services</a> - Firefox Application Services</li>
<li><a href="https://github.com/signalapp/libsignal-client">signalapp/libsignal-client</a></li>
<li><a href="https://github.com/deltachat/deltachat-core-rust">deltachat/deltachat-core-rust</a></li>
</ul>
<h3 id="音视频领域实践"><a class="header" href="#音视频领域实践">音视频领域实践</a></h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=Yom9E-67bdI&amp;ab_channel=JUCE">Ian Hobson - An introduction to Rust for audio developers</a> - Rust 在音频开发的介绍与实践
<ul>
<li><a href="https://github.com/irh/freeverb-rs">Sample Code</a></li>
<li>🆕 <a href="https://juce.com/">JUCE.com</a> - 音频开发工具</li>
</ul>
</li>
</ul>
<h3 id="库"><a class="header" href="#库">库</a></h3>
<ul>
<li><a href="https://github.com/sile/libflate">A Rust implementation of DEFLATE algorithm and related formats (ZLIB, GZIP)</a></li>
<li><a href="https://google.github.io/flatbuffers/flatbuffers_guide_use_rust.html">FlatBuffers: Use in Rust</a> - Memory Efficient Serialization Library</li>
<li><a href="https://github.com/capnproto/capnproto-rust">Cap'n Proto for Rust</a> - serialization/RPC system</li>
<li><a href="https://github.com/maidsafe/maidsafe-utilities">maidsafe-utilities</a> - Utility functions</li>
<li><a href="https://github.com/maidsafe/ffi-utils">maidsafe/ffi-utils</a></li>
<li><a href="https://github.com/getditto/safer_ffi">getditto/safer_ffi</a> - 更安全地写 FFI 代码</li>
<li><a href="https://github.com/rayon-rs/rayon">rayon-rs/rayon</a> - 数据并发</li>
<li><a href="https://github.com/dotenv-rs/dotenv">dotenv-rs/dotenv</a> - 通过<code>.env</code>文件配置与读取环境变量</li>
<li><a href="https://github.com/BLAKE3-team/BLAKE3">BLAKE3-team/BLAKE3</a> - BLAKE3 加密哈希算法官方实现</li>
<li><a href="https://github.com/xacrimon/dashmap">DashMap</a> - 支持高速并发的 HashMap
<ul>
<li>to be a direct replacement for <code>RwLock&lt;HashMap&lt;K, V&gt;&gt;</code></li>
</ul>
</li>
<li><a href="https://github.com/Amanieu/parking_lot">parking_lot: Compact and efficient synchronization primitives for Rust.</a></li>
</ul>
<h4 id="错误处理"><a class="header" href="#错误处理">错误处理</a></h4>
<ul>
<li><a href="https://github.com/dtolnay/thiserror">thiserror</a> - 提供宏派生的方式简化错误定义</li>
<li><a href="https://github.com/dtolnay/anyhow">anyhow</a> - 灵活处理实现了<code>trait Error</code>的错误类型转换</li>
</ul>
<h3 id="教程与参考"><a class="header" href="#教程与参考">教程与参考</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/dtolnay/rust-quiz">Rust Quiz - David Tolnay</a> - 中等难度以上的小测试 <img src="https://img.shields.io/badge/Progress-5%25-brightgreen" alt="Progress" />
<ul>
<li>TODO: Rust-Quiz-Track</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/pingcap/talent-plan">PingCAP - Talent Plan</a> - PingCAP 的 Rust 学习资源</li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/ferrous-systems/teaching-material">Ferrous Teaching Material</a> - Rust 教学资源，非常全面
<ul>
<li><a href="https://github.com/ferrous-systems/elements-of-rust">ferrous-systems/elements-of-rust</a> - Rust 风格与小技巧</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
程序君的 Rust 培训课 by <a href="https://github.com/tyrchen">@TyrChen</a> 🌟🌟🌟🌟🌟  <img src="https://img.shields.io/badge/Progress-100%25-brightgreen" alt="Progress" />
<ul>
<li><a href="https://tyrchen.github.io/rust-training/rust-training-all-in-one-cn.html">讲义</a> - 💡 可常温故参阅</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://www.bilibili.com/video/BV19b4y1o7Lt">上</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://www.bilibili.com/video/BV1h64y197G3">下</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://www.youtube.com/watch?v=QoatPlzc0-Y">Rust &amp; Tell Berlin September 2021 - Bastian Gruber: Learning Rust - One tutorial to rule them all</a> <img src="https://img.shields.io/badge/Progress-100%25-brightgreen" alt="Progress" />
<ul>
<li><a href="https://git.sr.ht/%7Egruberb/onetutorial/">OneTutorial</a> - Rust 快速实践（🌟 新手强烈推荐）</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://docs.microsoft.com/en-us/learn/paths/rust-first-steps/">Take your first steps with Rust</a> - 微软学院出品的 Rust 学习路径 <img src="https://img.shields.io/badge/Progress-100%25-brightgreen" alt="Progress" /></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/rust-lang/rustlings">Rustlings</a> - 官方的命令行交互式练习 🌟🌟🌟🌟🌟 
<ul>
<li><a href="https://github.com/Binlogo/Rustlings-Track">Rustlings-Track</a> <img src="https://img.shields.io/badge/Progress-100%25-brightgreen" alt="Progress" /></li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.youtube.com/watch?v=2mwwYbBRJSo">Rust Stream: Ownership, Closures, and Threads - Oh My!</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://medium.com/@otukof/build-your-text-editor-with-rust-678a463f968b">Build Your Text Editor With Rust!</a> - 使用 Rust 写一个类似 vim 的命令行编辑器 <img src="https://img.shields.io/badge/Progress-100%25-brightgreen" alt="Progress" /></li>
<li><a href="https://space.bilibili.com/275673537/channel/seriesdetail?sid=488491">Rust 培养提高计划 | Databend</a> ⭐️</li>
</ul>
<h2 id="qa-速查-1"><a class="header" href="#qa-速查-1">Q&amp;A 速查</a></h2>
<ul>
<li>如何加速 crates.io-index 更新速度？</li>
</ul>
<p>执行以下命令更换镜像源（或字节跳动镜像源：https://rsproxy.cn/）</p>
<pre><code class="language-sh">tee $HOME/.cargo/config &lt;&lt;-'EOF'
[source.crates-io]
registry = &quot;https://github.com/rust-lang/crates.io-index&quot;
replace-with = 'ustc'
[source.ustc]
registry = &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;
EOF
</code></pre>
<ul>
<li>私有库 ssh 下载失败如何解决？</li>
</ul>
<p>参考报错信息：</p>
<pre><code>Caused by:
  failed to authenticate when downloading repository
attempted ssh-agent authentication, but none of the usernames `git` succeeded
attempted to find username/password via git's `credential.helper` support, but failed

Caused by:
  failed to acquire username/password from local configuration
</code></pre>
<p>解决办法：</p>
<pre><code class="language-sh">ssh-add -K ~/.ssh/id_rsa
</code></pre>
<ul>
<li>Cargo build 时报<code>Blocking waiting for file lock on package cache</code>.</li>
</ul>
<pre><code>cargo build --verbose
    Blocking waiting for file lock on package cache
</code></pre>
<p>解决办法：</p>
<pre><code>rm -r ~/.cargo/.package-cache
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="化解神奇的闭包"><a class="header" href="#化解神奇的闭包">化解神奇的闭包</a></h1>
<p>本文将通过拆解 Rust 中的闭包语法糖，来理解编程语言中闭包（Closure）的本质。</p>
<p>首先理解闭包（Closures）的含义：</p>
<blockquote>
<p>In programming languages, a closure is <strong>a function or reference to a function</strong> together with <strong>a referencing environment</strong>—a table storing a reference to each of the non-local variables (also called free variables or upvalues) of that function.</p>
</blockquote>
<p>即，闭包就是<strong>一个函数指针</strong>和<strong>该函数所处上下文环境</strong>。其中，函数指针不能理解，最关键也是闭包和常规函数最大的区别就是，闭包捕获上下文环境的特性了。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let hi = &quot;Hi!&quot;.to_string();
let closure = || println!(&quot;{}&quot;, hi);
closure(); // Hi!

// 以下代码会报错：无法动态捕获上下文
// error[E0434]: can't capture dynamic environment in a fn item
fn normal_function() {
  println!(&quot;{}&quot;, hi)
}
<span class="boring">}
</span></code></pre></pre>
<blockquote>
<p>这点与 Swift 中的内嵌函数声明不太一样，Swift 中的内嵌函数本质上就是闭包，和函数已经不太一样了。</p>
</blockquote>
<p>那么闭包是如何做到捕获上下文的呢？要回答这个问题，一是要理解闭包的定义，二是要知道闭包的使用是函数+上下文环境捕获的语法糖。</p>
<h2 id="三种不同特性的函数声明-trait-fn"><a class="header" href="#三种不同特性的函数声明-trait-fn">三种不同特性的函数声明 <code>trait Fn* </code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait FnOnce&lt;Args&gt; {
    type Output;
    fn call_once(self, args: Args) -&gt; Self::Output;
}

pub trait FnMut&lt;Args&gt;: FnOnce&lt;Args&gt; {
    fn call_mut(&amp;mut self, args: Args) -&gt; Self::Output;
}

pub trait Fn&lt;Args&gt;: FnMut&lt;Args&gt; {
    fn call(&amp;self, args: Args) -&gt; Self::Output;
}
<span class="boring">}
</span></code></pre></pre>
<blockquote>
<p>更详细的文档参考：<a href="https://doc.rust-lang.org/std/ops/trait.FnOnce.html">FnOnce</a>, <a href="https://doc.rust-lang.org/std/ops/trait.FnMut.html">FnMut</a>, <a href="https://doc.rust-lang.org/std/ops/trait.Fn.html">Fn</a>.</p>
</blockquote>
<ul>
<li><code>Args</code>：泛型的传入参数，对于闭包的实现，<code>Args </code>都是元组，以便同时传入多个参数</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let zero_args_closure = || &quot;hi&quot;;              // type Args = ()
let one_args_closure = |a: u32| ();           // type Args = (u32,)
let two_args_closure = |a: u32, b: String| a; // type Args = (u32, String)
<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>Output</code>：泛型的返回参数</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let zero_args_closure = || &quot;hi&quot;;              // type Output = &amp;`static str
let one_args_closure = |a: u32| ();           // type Output = ()
let two_args_closure = |a: u32, b: String| a; // type OUtput = u32
<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>fn call*</code>：最终实际执行的函数实现
<ul>
<li><code>FnOnce</code>：第一个参数声明是<code>self</code>，会移交调用者的所有权，因此编译器保证仅能被执行一次。</li>
<li><code>FnMut</code>：第一个参数声明是<code>&amp;mut self</code>，可变的引用，可修改调用者环境。</li>
<li><code>Fn</code>：第一个参数声明是<code>&amp;self</code>，不可变引用。</li>
</ul>
</li>
</ul>
<h2 id="卸下闭包的糖衣"><a class="header" href="#卸下闭包的糖衣">卸下闭包的糖衣</a></h2>
<p>针对不同类型的闭包，试着由简单到复杂初步采用 <a href="https://doc.rust-lang.org/unstable-book/library-features/fn-traits.html"><code>fn_traits</code></a> 进行去语法糖实现。 </p>
<h3 id="无参数无返回值"><a class="header" href="#无参数无返回值">无参数无返回值</a></h3>
<p>先来看看无参数传入也无参数返回的一个空闭包：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let non_capture = || ();
non_capture();
<span class="boring">}
</span></code></pre></pre>
<p>采用 <code>trait Fn*</code> 的去糖实现：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(unboxed_closures, fn_traits)]

<span class="boring">fn main() {
</span>#[derive(Clone, Copy)]
pub struct __none_capture_block__ {}

impl FnOnce&lt;()&gt; for __none_capture_block__ {
    type Output = ();
    extern &quot;rust-call&quot; fn call_once(self, _: ()) -&gt; () {}
}

impl FnMut&lt;()&gt; for __none_capture_block__ {
    extern &quot;rust-call&quot; fn call_mut(&amp;mut self, _: ()) -&gt; () {}
}

impl Fn&lt;()&gt; for __none_capture_block__ {
    extern &quot;rust-call&quot; fn call(&amp;self, _: ()) -&gt; () {}
}

/// 
let non_capture = __none_capture_block__ {};
non_capture();

<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>#![feature(unboxed_closures, fn_traits)]</code> 使用这两个 unstable 特性，编译器才允许手动实现闭包
<ul>
<li><a href="https://doc.rust-lang.org/unstable-book/language-features/unboxed-closures.html#unboxed_closures"><code>unboxed_closures</code></a></li>
<li><a href="https://doc.rust-lang.org/unstable-book/library-features/fn-traits.html"><code>fn_traits</code></a></li>
</ul>
</li>
</ul>
<hr />
<h3 id="捕获上下文环境变量的引用"><a class="header" href="#捕获上下文环境变量的引用">捕获上下文环境变量的引用</a></h3>
<p>接下来，试试捕获1个上下文环境变量</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let message = &quot;Hi&quot;.to_string();
let capture_message = || println!(&quot;{}&quot;, message);
capture_message();
<span class="boring">}
</span></code></pre></pre>
<p>采用 <code>trait Fn*</code> 的去糖实现：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Clone, Copy)]
pub struct __capture_message_block__&lt;'a&gt; {
    pub message: &amp;'a String,
}

impl&lt;'a&gt; FnOnce&lt;()&gt; for __capture_message_block__&lt;'a&gt; {
    type Output = ();
    extern &quot;rust-call&quot; fn call_once(self, _: ()) -&gt; () {
        println!(&quot;{}&quot;, *self.message)
    }
}

impl&lt;'a&gt; FnMut&lt;()&gt; for __capture_message_block__&lt;'a&gt; {
    extern &quot;rust-call&quot; fn call_mut(&amp;mut self, _: ()) -&gt; () {
        println!(&quot;{}&quot;, *self.message)
    }
}

impl&lt;'a&gt; Fn&lt;()&gt; for __capture_message_block__&lt;'a&gt; {
    extern &quot;rust-call&quot; fn call(&amp;self, _: ()) -&gt; () {
        println!(&quot;{}&quot;, *self.message)
    }
}

///
let message = &quot;Hi&quot;.to_string();
let capture_message = __capture_message_block__ { message: &amp;message };
capture_message()
<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>__capture_message_block__</code> 捕获 <code>message</code>，并维护一致的生命周期</li>
</ul>
<hr />
<h3 id="捕获上下文环境变量并取得所有权"><a class="header" href="#捕获上下文环境变量并取得所有权">捕获上下文环境变量并取得所有权</a></h3>
<p>采用 <code>move</code> 的方式捕获环境上下文</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let name = &quot;Dylan&quot;.to_string();
let move_capture = move |message| println!(&quot;{}, {}&quot;, name, message);
move_capture(&quot;You are awessome!&quot;);
<span class="boring">}
</span></code></pre></pre>
<p>去糖实现：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Clone)]
pub struct __move_capture_block__ {
    pub name: String,
}

impl&lt;'a&gt; FnOnce&lt;(&amp;'a str,)&gt; for __move_capture_block__ {
    type Output = ();
    extern &quot;rust-call&quot; fn call_once(self, (message,): (&amp;'a str,)) -&gt; () {
        println!(&quot;{}, {}&quot;, self.name, message);
    }
}

impl&lt;'a&gt; FnMut&lt;(&amp;'a str,)&gt; for __move_capture_block__ {
    extern &quot;rust-call&quot; fn call_mut(&amp;mut self, (message,): (&amp;'a str,)) -&gt; () {
        println!(&quot;{}, {}&quot;, self.name, message);
    }
}

impl&lt;'a&gt; Fn&lt;(&amp;'a str,)&gt; for __move_capture_block__ {
    extern &quot;rust-call&quot; fn call(&amp;self, (message,): (&amp;'a str,)) -&gt; () {
        println!(&quot;{}, {}&quot;, self.name, message);
    }
}

let name = &quot;Binboy&quot;.to_string();
let move_capture = __move_capture_block__ { name };
move_capture(&quot;You are awessome!&quot;);
<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>name: String</code> 的声明会在捕获环境变量时，取得变量的所有权，即 <code>move</code> 语义</li>
<li><code>call*</code> 的输入参数为 <code>(message,): (&amp;'a str,)</code>，对应闭包接受一个与闭包同声明周期的 <code>str</code> 类型参数，并使用元组做一层封包</li>
</ul>
<hr />
<h3 id="返回值"><a class="header" href="#返回值">返回值</a></h3>
<p>继续尝试如何返回值</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut counter: u32 = 0;
let delta: u32 = 0;

let mut next = || {
  counter += delta;
  counter
}

assert_eq!(next(), 2);
assert_eq!(next(), 4);
assert_eq!(next(), 6);
<span class="boring">}
</span></code></pre></pre>
<p>去糖实现：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct __return__caputure_block__&lt;'a, 'b&gt; {
    pub counter: &amp;'a mut u32,
    pub delta: &amp;'b u32,
}

impl&lt;'a, 'b&gt; FnOnce&lt;()&gt; for __return__caputure_block__&lt;'a, 'b&gt; {
    type Output = u32;
    extern &quot;rust-call&quot; fn call_once(self, _: ()) -&gt; u32 {
        *self.counter += self.delta;
        *self.counter
    }
}

impl&lt;'a, 'b&gt; FnMut&lt;()&gt; for __return__caputure_block__&lt;'a, 'b&gt; {
    extern &quot;rust-call&quot; fn call_mut(&amp;mut self, _: ()) -&gt; u32 {
        *self.counter += *self.delta;
        *self.counter
    }
}

/// returen capture
let mut counter: u32 = 0;
let delta: u32 = 2;
let mut next = __return__caputure_block__ {
    counter: &amp;mut counter,
    delta: &amp;delta,
};
assert_eq!(FnMut::call_mut(&amp;mut next, ()), 2);
assert_eq!(FnMut::call_mut(&amp;mut next, ()), 4);
assert_eq!(FnMut::call_mut(&amp;mut next, ()), 6);
<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>type Output</code> 指定泛型参数最终类型，并在实现 <code>call*</code> 方法时实际返回即可</li>
</ul>
<h3 id="获取上下文环境变量所有权并返回值"><a class="header" href="#获取上下文环境变量所有权并返回值">获取上下文环境变量所有权并返回值</a></h3>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = vec![0, 1, 2, 3, 4, 5];
let transform = || {
  let a = a.into_iter().map(|x| x * 2);
  a.sum::&lt;u32&gt;()
}
println!(&quot;{}&quot;, transform());
// transform(); // error[E0382]: use of moved value: `transform`
<span class="boring">}
</span></code></pre></pre>
<p>去糖实现：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct __consume_capture_block__ {
    pub a: Vec&lt;u32&gt;,
}

impl FnOnce&lt;()&gt; for __consume_capture_block__ {
    type Output = u32;
    extern &quot;rust-call&quot; fn call_once(self, _: ()) -&gt; u32 {
        let a = self.a.into_iter().map(|x| x * 2);
        a.sum::&lt;u32&gt;()
    }
}

<span class="boring">}
</span></code></pre></pre>
<ul>
<li>由于获取了环境变量所有权进行消费，因此仅实现<code>FnOnce</code>以符合语意</li>
</ul>
<h2 id="更多参考"><a class="header" href="#更多参考">更多参考</a></h2>
<p>可上手实际代码，或了解更多其他语言的闭包</p>
<ul>
<li>
<p><a href="https://github.com/Binlogo/rust-closures">代码示例项目 - GitHub</a></p>
</li>
<li>
<p><a href="https://rustyyato.github.io/rust/syntactic/sugar/2019/01/17/Closures-Magic-Functions.html">Closures: Magic Functions</a></p>
</li>
<li>
<p><a href="https://blog.devtang.com/2013/07/28/a-look-inside-blocks/">谈Objective-C block的实现</a></p>
</li>
<li>
<p><a href="https://alisoftware.github.io/swift/closures/2016/07/25/closure-capture-1/">Closures Capture Semantics: Catch them all!</a></p>
</li>
<li>
<p><a href="https://www.bilibili.com/video/BV1Zf4y1J7jq">深入了解 rust 闭包 | Rust 培养提高计划</a></p>
<ul>
<li><a href="https://github.com/dongzerun/rust_closure">Source Code</a></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-中的可变与不可变以及-cell-的使用"><a class="header" href="#rust-中的可变与不可变以及-cell-的使用">Rust 中的可变与不可变以及 Cell 的使用</a></h1>
<h3 id="基本概念"><a class="header" href="#基本概念">基本概念</a></h3>
<p>Rust的<a href="https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html">所有权(ownership)</a>机制规定：Rust中的每个值都有一个被称为其所有者（owner）的变量，并且有且只能有唯一的所有者。</p>
<p>Rust中的<a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html">引用(references)</a>允许使用值但不获取其所有权，这种操作也被称为所有权借用（borrowing）。通过<code>＆T</code>和<code>＆mut T</code>将引用分为两种：</p>
<ul>
<li>不可变引用（<code>&amp;T</code>），也被称为共享引用，所有者可以读取引用指向的数据，但不能修改数据。</li>
<li>可变引用（<code>&amp;mut T</code>）也被称为独占引用，不能有别名，在同一时刻，同一个值不可能存在别的引用。</li>
</ul>
<pre><pre class="playground"><code class="language-rust">fn main() {

    let mut s = String::from(&quot;hello&quot;);
    let r1 = &amp;mut s;
    let r2 = &amp;mut s; // ERROR: 可变引用，不能有别名
    println!(&quot;{}, {}&quot;, r1, r2);
    
    let x = 1;
    let y = &amp;mut x; // ERROR: 当有一个不可变值时，不能可变的借用它
}
</code></pre></pre>
<p>Rust内存安全性基于以下规则：给定对象T，则只能具有以下之一：</p>
<ul>
<li>对象有几个不可变的引用（<code>&amp;T</code>），也称为别名（aliasing）。</li>
<li>对象有一个可变引用（<code>&amp;mut T</code>），也称为可变性（mutability）。</li>
</ul>
<p>这由Rust编译器强制执行。但是，在某些情况下，此规则不够灵活。有时需要对一个对象有多个引用并对其进行改变。</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
			
    let mut data = 1_i32;
    let p : &amp;i32 = &amp;data;	// 两个变量data和p访问同一块内存区域，称为别名
    data = 10;				// ERROR: 存在别名时，不能同时提供可变性
    println!(&quot;{}&quot;, *p);
}
</code></pre></pre>
<p>在Rust中，一个变量是否是可变的，取决于是否用<code>mut</code>修饰变量绑定。如果我们用<code>let var : T</code>声明，那么<code>var</code>是不可变的；而且，var内部所有的成员也都是不可变的；如果我们用<code>let mut var : T</code>声明，那么<code>var</code>是可变的，相应的它的内部所有成员也都是可变的。</p>
<blockquote>
<p>术语：继承/承袭可变性（Inherited Mutability），必须具有对变量的唯一访问权。</p>
</blockquote>
<p>这样的话，如果有个结构体引用<code>&amp;SomeStruct</code>，则<code>SomeStruct</code>的所有字段都是不可变的。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Foo {
    x: u32
}

fn print_foo(foo: &amp;Foo) {
    println!(&quot;x={}&quot;, foo.x);
}

fn change_foo(foo: &amp;Foo) {
    foo.x = foo.x * 2; // ERROR: 不允许改变数据
}
<span class="boring">}
</span></code></pre></pre>
<p>但在实际开发中，确实存在需要结构体中的某个字段可变的情况。</p>
<p>针对这些情况，Rust的标准库中有个<code>std::cell</code>模块，通过共享的可变容器允许以受控的方式进行可变性。</p>
<h3 id="cell和refcell"><a class="header" href="#cell和refcell">Cell和RefCell</a></h3>
<p><code>std::cell</code>模块中的<code>Cell&lt;T&gt;</code>和<code>RefCell&lt;T&gt;</code>是两个提供内部可变性的共享可变容器。</p>
<blockquote>
<p>术语：内部可变性（Interior Mutability）如果某个类型的内部状态可以通过对它的共享引用来更改，则它具有内部可变性。</p>
</blockquote>
<p>通过<code>Cell&lt;T&gt;</code>的源码可知，只有实现了<code>Copy</code>的类型<code>T</code>，才可以使用<code>get</code>方法获取值；但任何类型<code>T</code>都可以使用<code>set</code>方法修改值。<code>get()</code>方法，返回所包含值的复制。<code>set()</code>方法，设置所包含的值。</p>
<p>使用<code>Cell&lt;T&gt;</code>及其提供的<code>get/set</code>方法，实现结构体内字段可变的示例：</p>
<pre><pre class="playground"><code class="language-rust">use std::cell::Cell;

struct SomeStruct {
    regular_field: u8,
    special_field: Cell&lt;u8&gt;,
}

fn main() {
    let my_struct = SomeStruct {
        regular_field: 0,
        special_field: Cell::new(1),
    };

    let new_value = 100;
//    my_struct.regular_field = new_value; // ERROR: `my_struct`是不可变的

    my_struct.special_field.set(new_value); // WORKS: `special_field`是`Cell`类型的，它是可变的
    assert_eq!(my_struct.special_field.get(), new_value);
}
</code></pre></pre>
<p>相对于<code>Cell&lt;T&gt;</code>而言，<code>RefCell&lt;T&gt;</code>可用于更普遍的情况。同时，相对于一般的静态借用，<code>RefCell&lt;T&gt;</code>具有动态借用检查机制，使得编译器不会在编译期，而是在运行时做借用检查。</p>
<p><code>borrow()</code>方法，不可变借用被包裹值，可存在多个。<code>borrow_mut()</code>方法，可变借用被包裹值，只能有一个，且被借用时不能再可变借用。</p>
<p>示例如下：</p>
<pre><pre class="playground"><code class="language-rust">use std::cell::RefCell;
use std::thread;

let result = thread::spawn(move || {
   let c = RefCell::new(5);
   let m = c.borrow();

   let b = c.borrow_mut(); // ERROR: 借用时不能再可变借用
}).join();

assert!(result.is_err());
use std::cell::RefCell;

fn main() {
    let c = RefCell::new(5);
    *c.borrow_mut() = 7;
    assert_eq!(7, *c.borrow());

    let x = RefCell::new(vec![1,2,3]);
    println!(&quot;{:?}&quot;, x.borrow());
    x.borrow_mut().push(4);
    println!(&quot;{:?}&quot;, x.borrow());
}
</code></pre></pre>
<p><code>Cell&lt;T&gt;</code>和<code>RefCell&lt;T&gt;</code>小结：</p>
<ul>
<li><code>Cell&lt;T&gt;</code>适用于实现了<code>Copy</code>的类型（复制语义），<code>RefCell&lt;T&gt;</code>适用于未实现<code>Copy</code>的类型（移动语义）。</li>
<li><code>Cell&lt;T&gt;</code>使用<code>get/set</code>方法操作值，<code>RefCell&lt;T&gt;</code>使用<code>borrow/borrow_mut</code>方法获取引用进而再操作值。</li>
</ul>
<h3 id="unsafecell"><a class="header" href="#unsafecell">UnsafeCell</a></h3>
<p><code>std::cell::UnsafeCell</code>，Rust内部可变性的核心原语。<code>Cell&lt;T&gt;</code>和<code>RefCell&lt;T&gt;</code>的内部可变性是通过<code>UnsafeCell&lt;T&gt;</code>来包装他们的内部数据。<code>UnsafeCell&lt;T&gt;</code>类型是通过共享引用持有可变数据的唯一合法方式。源码如下：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[lang = &quot;unsafe_cell&quot;]
#[stable(feature = &quot;rust1&quot;, since = &quot;1.0.0&quot;)]
#[repr(transparent)]
pub struct UnsafeCell&lt;T: ?Sized&gt; {
    value: T,
}

pub const fn get(&amp;self) -&gt; *mut T {
    self as *const UnsafeCell&lt;T&gt; as *const T as *mut T
}  
<span class="boring">}
</span></code></pre></pre>
<p>其<code>get()</code>方法，将一个值的不可变引用（<code>＆self</code>），强制转换三次：首先避免共享引用（<code>*const UnsafeCell&lt;T&gt;</code>），其次是不变原生指针（<code>*const T</code>），然后是可变原生指针（<code>*mut T</code>），最后将其返回给调用者。</p>
<h3 id="结语"><a class="header" href="#结语">结语</a></h3>
<p>Rust中的可变或不可变主要是针对一个变量绑定而言的。对于类型而言，Rust标准库中的<code>std::cell</code>模块（<code>Cell</code>, <code>RefCell</code>等），提供内部可变性的容器，弥补了Rust所有权机制在灵活性上和某些场景下的不足。</p>
<ul>
<li>通常情况下，共享不可变，可变不共享。</li>
<li>内部可变性，单线程使用<code>Cell &lt;T&gt;</code>和<code>RefCell &lt;T&gt;</code>。</li>
<li>内部可变性，多线程使用<code>Mutex&lt;T&gt;</code>，<code>RwLock&lt;T&gt;</code>。</li>
</ul>
<h3 id="更多链接"><a class="header" href="#更多链接">更多链接</a></h3>
<ul>
<li><a href="https://github.com/matklad/once_cell">OnceCell</a> - single assignment cells and lazy statics without macros</li>
</ul>
<blockquote>
<p>原文：https://rustcc.cn/article?id=37d1cb4f-5cc9-4adc-b41a-dbe4914bf4b5</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="movecopyborrow-可视化"><a class="header" href="#movecopyborrow-可视化">Move&amp;Copy&amp;Borrow 可视化</a></h1>
<p><img src="programming-languages/rust/concepts/../assets/rust-move-copy-borrow.svg" alt="Move&amp;Copy&amp;Borrow 可视化" /></p>
<blockquote>
<p>源自：<a href="https://rufflewind.com/2017-02-15/rust-move-copy-borrow">Graphical depiction of ownership and borrowing in Rust</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="内存布局"><a class="header" href="#内存布局">内存布局</a></h2>
<p>Rust 中的数据结构在内存中是如何排布的？</p>
<p><img src="programming-languages/rust/concepts/../assets/rust-memory-layout.png" alt="Rust 的内存布局" /></p>
<blockquote>
<p>源自：<a href="https://tyrchen.github.io/rust-training/rust-training-all-in-one-cn.html#65">Rust Training All in One</a></p>
</blockquote>
<h2 id="链接-14"><a class="header" href="#链接-14">链接</a></h2>
<ul>
<li><a href="https://youtu.be/rDoqT-a6UFg">Visualizing memory layout of Rust's data types</a> - 可视化介绍 Rust 数据类型的内存布局<iframe width="560" height="315" src="https://www.youtube.com/embed/rDoqT-a6UFg?controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asyncawait"><a class="header" href="#asyncawait">Async/Await</a></h1>
<blockquote>
<p>美好值得等待🧐</p>
</blockquote>
<h2 id="future-异步编程模型"><a class="header" href="#future-异步编程模型">Future 异步编程模型</a></h2>
<p><img src="programming-languages/rust/concepts/../assets/future_model.png" alt="Future 异步编程模型" /></p>
<h2 id="链接-15"><a class="header" href="#链接-15">链接</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
<p><a href="https://rust-lang.github.io/async-book/">Asynchronous Programming in Rust</a></p>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<p><a href="https://youtu.be/x9D4pY-fkV0">Rust &amp; Tell Berlin September 2021 - Zeeshan Ali: Async/await: The good, bad and the ugly</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/x9D4pY-fkV0?controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</li>
<li>
<p><a href="https://rust-lang.github.io/wg-async-foundations/">wg-async-foundations</a> - Async 工作组</p>
<ul>
<li><a href="https://rust-lang.github.io/async-fundamentals-initiative/">Async 里程碑与进展</a></li>
</ul>
</li>
<li>
<p><a href="https://github.com/smol-rs/smol">smol-rs/smol</a> - A small and fast async runtime for Rust</p>
</li>
<li>
<p><a href="https://without.boats/">without.boats/</a></p>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/async-i-self-referential-structs/">Async/Await I: Self-Referential Structs</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/async-ii-narrowing-the-scope/">Async/Await II: Narrowing the Scope of the Problem</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/async-iii-moving-forward/">Async/Await III: Moving Forward with Something Shippable</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/async-iv-an-even-better-proposal/">Async/Await IV: An Even Better Proposal</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/async-v-getting-back-to-the-futures/">Async/Await V: Getting back to the futures</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/wakers-i/">The Waker API I: what does a waker do?</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://without.boats/blog/wakers-ii/">The Waker API II: waking across threads</a></li>
</ul>
</li>
</ul>
<h3 id="tokio-相关"><a class="header" href="#tokio-相关">Tokio 相关</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://tony612.github.io/tokio-internals/">Tokio Internals</a> - Tokio 的内部源码实现，以及一些精彩设计</li>
<li><a href="https://tokio.rs/tokio/tutorial">Tutorial | Tokio</a>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Overview</li>
<li><input disabled="" type="checkbox" checked=""/>
Setup</li>
<li><input disabled="" type="checkbox" checked=""/>
Hello Tokio</li>
<li><input disabled="" type="checkbox" checked=""/>
Spawning</li>
<li><input disabled="" type="checkbox" checked=""/>
Shared state</li>
<li><input disabled="" type="checkbox" checked=""/>
Channels</li>
<li><input disabled="" type="checkbox" checked=""/>
I/O</li>
<li><input disabled="" type="checkbox" checked=""/>
Framing</li>
<li><input disabled="" type="checkbox" checked=""/>
Async in depth</li>
<li><input disabled="" type="checkbox" checked=""/>
Select</li>
<li><input disabled="" type="checkbox" checked=""/>
Streams</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://tokio.rs/blog/2019-08-tracing">Diagnostics with Tracing | Tokio</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pin与unpin"><a class="header" href="#pin与unpin">Pin与Unpin</a></h1>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://folyd.com/blog/rust-pin-unpin/">Rust的Pin与Unpin</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-编程之道阅读纪要"><a class="header" href="#rust-编程之道阅读纪要">《Rust 编程之道》阅读纪要</a></h1>
<p><img src="programming-languages/rust/./assets/tao-of-rust-mindmap.png" alt="思维导图" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ccobjective-c"><a class="header" href="#ccobjective-c">C/C++/Objective-C</a></h1>
<blockquote>
<p>古典的，永恒的</p>
</blockquote>
<h2 id="链接-16"><a class="header" href="#链接-16">链接</a></h2>
<ul>
<li><a href="https://cplayground.com/">C Playground</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="数据结构与算法"><a class="header" href="#数据结构与算法">数据结构与算法</a></h1>
<p>基础中的基础，无用之用。</p>
<ul>
<li><a href="https://github.com/Binlogo/LeetCode-Swift-Track">LeetCode-Swift-Track</a> - LeetCode in Swift 练习记录</li>
</ul>
<blockquote>
<p><strong>宣言</strong>：<del>早搞晚搞，迟早要搞，干就是了！</del> <strong>Just Do IT！</strong></p>
</blockquote>
<h2 id="链接-17"><a class="header" href="#链接-17">链接</a></h2>
<ul>
<li><a href="https://labuladong.gitbook.io/algo/">labuladong的算法小抄</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="编译原理"><a class="header" href="#编译原理">编译原理</a></h1>
<blockquote>
<p>逆水行舟，鱼翔浅底。</p>
</blockquote>
<h2 id="通用理论导论"><a class="header" href="#通用理论导论">通用理论/导论</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://aosabook.org/en/llvm.html">LLVM</a>：这是《<a href="https://aosabook.org/en/index.html">开源应用程序架构</a>》一书中的一章，由 Chris Lattner 编写，涵盖了 LLVM 架构设计</li>
<li><input disabled="" type="checkbox"/>
<a href="https://online.stanford.edu/courses/soe-ycscs1-compilers">编译器（Compilers）</a>：该课程由斯坦福大学出品，Alex Aiken 教授。在本课程中，从头开始为真正的编程语言构建一个编译器。它涵盖了整个编译流程：解析(parsing)、类型检查(type-checking)、优化(optimizations)、代码生成(code generation)。除了实践部分，它还深入研究了理论。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://online.stanford.edu/courses/soe-ycsautomata-automata-theory">自动机理论（Automata Theory）</a>：该课程由由斯坦福大学出品， Jeffrey Ullman 教授。十分偏重理论基础。它从相对简单的主题开始，例如状态机和有限自动机。逐渐转向更复杂的事物，如图灵机、计算复杂性、著名的 P vs. NP 问题等。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://ocw.mit.edu/courses/mathematics/18-404j-theory-of-computation-fall-2020/">计算理论（Theory of Computation）</a>：本课程由麻省理工大学出品，Michael Sipser 教授。它与上面的类似，但以不同的方式讲授，更详细地介绍了特定的主题。</li>
</ul>
<h2 id="前端front-end"><a class="header" href="#前端front-end">前端（Front-end）</a></h2>
<p>编译器前端是与实际源代码进行交互的地方。编译器将源代码解析为抽象语法树 (AST)，进行语义分析和类型检查，并将其转换为中间表示 (IR)。</p>
<p>以下是 Clang 相关：</p>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://jonasdevlieghere.com/understanding-the-clang-ast/">理解 Clang 抽象语法树（Understanding the Clang AST）</a>: 本文由 Jonas Devlieghere 撰写。它详细介绍了 Clang 的 AST 实现细节。也有很多很好的资源链接可以深入研究这个主题。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/banach-space/clang-tutor/">clang-tutor</a>：该仓库由 Andrzej Warzyński 维护。它包含多个 Clang 插件，涵盖各种主题，从简单的 AST 遍历到更复杂的主题，例如自动重构和混淆。</li>
</ul>
<h2 id="中端middle-end"><a class="header" href="#中端middle-end">中端（Middle-End）</a></h2>
<p>中端是进行各种优化的地方。通常，中端使用一些中间表示。 LLVM 的中间表示通常称为 LLVM IR 或 LLVM Bitcode。简而言之，它是一种用于伪机器的人类可读的汇编语言（即 IR 不针对任何特定的 CPU）。LLVM IR 保持某些属性：它采用静态单分配 (SSA) 形式，组织为控制流图 (CFG)。</p>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://www.youtube.com/watch?v=m8G_S5LwlTo">LLVM IR Tutorial - Phis, GEPs and other things, oh my!</a>. 这是 Vince Bridgers 和 Felipe de Azevedo Piovezan 的精彩演讲。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.youtube.com/watch?v=J5xExRGaIIY">Introduction to LLVM</a>. 来自 Eric Christopher 和 Johannes Doerfert 的 LLVM 开发者会议的一小时演讲/教程。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.cs.cornell.edu/courses/cs6120/2020fa/self-guided/">CS 6120: Advanced Compilers</a>. 该课程由康奈尔大学出品，阿德里安·桑普森教授。标题说“高级”，但它涵盖了人们对现代生产级编译器的基础部分：SSA、CFG、优化、各种分析。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://lowlevelbits.org/bitcode-demystified/">Bitcode Demystified</a>(🔌). 文章介绍了 LLVM 位码是什么的描述。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/banach-space/llvm-tutor">llvm-tutor</a>. 这个也是来自 Andrzej Warzyński。它涵盖了 LLVM 插件（所谓的 pass），允许人们分析和转换 LLVM IR 形式的程序。</li>
</ul>
<h2 id="后端back-end"><a class="header" href="#后端back-end">后端（Back-end）</a></h2>
<p>编译的最后一个阶段是后端。这个阶段的目标是将中间表示转换为最终机器代码（零和一）。生成的 0 和 1 可以在 CPU 上运行。因此，要了解后端，需要了解机器代码和 CPU 的工作原理。</p>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://www.coursera.org/learn/build-a-computer">依据基本原理构建现代计算机：从与非门到俄罗斯方块</a>. 由希伯来大学出品，Shimon Schocken 和 Noam Nisan 授课。本课程是反着来的：首先，构建逻辑门（和、或、异或等），然后使用逻辑门构建算术逻辑单元 (ALU)，然后使用 ALU 构建 CPU。然后学习如何使用零和一（机器代码）控制 CPU，并最终开发汇编程序以将人类可读的程序代码转换为机器代码。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://lowlevelbits.org/parsing-mach-o-files/">Parsing Mach-O files</a>(🔌). 文章介绍了如何在 macOS (Mach-O) 上解析目标文件。如果你使用的是 Linux 或 Windows，请分别搜索有关 elf 和 PE/COFF 文件的类似文章。</li>
<li><input disabled="" type="checkbox"/>
<a href="https://book.easyperf.net/perf_book">Performance Analysis and Tuning on Modern CPUs</a>. 丹尼斯·巴赫瓦洛夫的书。虽然它与性能有关，但它很好地介绍了 CPU 的工作原理。</li>
</ul>
<h2 id="链接-18"><a class="header" href="#链接-18">链接</a></h2>
<ul>
<li>
<p><a href="https://www.youtube.com/channel/UCv2_41bSAa5Y_8BacJUZfjQ">LLVM’s YouTube 频道</a>. 在这里可以找到很多来自开发者会议的演讲。</p>
</li>
<li>
<p><a href="https://llvmweekly.org/">LLVM Weekly</a>. 由亚历克斯·布拉德伯里 (Alex Bradbury) 运营的每周通讯。这是我所知道的没有广告的纯粹时事通讯！</p>
</li>
<li>
<p><a href="https://blog.llvm.org/">LLVM 博客</a>.</p>
</li>
<li>
<p><a href="https://llvm.org/docs/tutorial/">LLVM 教程</a>.</p>
</li>
<li>
<p><a href="https://blog.regehr.org/archives/category/compilers">Embedded in academia</a>. John Regehr 的博客有很多关于 LLVM 和编译器的好文章</p>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<p><a href="https://lowlevelbits.org/how-to-learn-compilers-llvm-edition/">HOW TO LEARN COMPILERS: LLVM EDITION</a> - 编译器学习路径推荐</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="网络"><a class="header" href="#网络">网络</a></h1>
<p>讲述一个 <code>1 + 1 &gt; 2</code> 的简单故事</p>
<h2 id="工具集-1"><a class="header" href="#工具集-1">工具集</a></h2>
<ul>
<li><a href="https://dns.google/">Google Public DNS</a> - Google 的 DNS 查询服务
<ul>
<li><a href="https://developers.google.com/speed/public-dns/docs/doh">DNS-over-HTTPS (DoH)</a></li>
</ul>
</li>
<li><a href="https://developers.cloudflare.com/1.1.1.1/encrypted-dns">Cloudflare-Encrypt DNS traffic</a> - Cloudflare 提供的 DNS 查询服务</li>
</ul>
<h2 id="备忘"><a class="header" href="#备忘">备忘</a></h2>
<h3 id="常用特殊端口"><a class="header" href="#常用特殊端口">常用特殊端口</a></h3>
<table><thead><tr><th>服务、协议或应用</th><th>端口号</th><th>TCP or UDP</th></tr></thead><tbody>
<tr><td>FTP (File Transfer Protocol)</td><td>20，21</td><td>TCP</td></tr>
<tr><td>SSH (Secure Shell Protocol)</td><td>22</td><td>TCP</td></tr>
<tr><td>Telnet</td><td>23</td><td>TCP</td></tr>
<tr><td>SMTP (Simple Mail Transfer Protocol)</td><td>25</td><td>TCP</td></tr>
<tr><td>DNS (Domain Name System)</td><td>53</td><td>UDP</td></tr>
<tr><td>HTTP</td><td>80</td><td>TCP</td></tr>
<tr><td>POP3</td><td>110</td><td>TCP</td></tr>
<tr><td>IMAP4</td><td>143</td><td>TCP</td></tr>
<tr><td>HTTPS</td><td>443</td><td>TCP</td></tr>
</tbody></table>
<h2 id="链接-19"><a class="header" href="#链接-19">链接</a></h2>
<ul>
<li><a href="https://docs.nats.io/">NATS.io 消息系统协议</a>
<ul>
<li><a href="https://github.com/Binlogo/nats-rs">自己上手学习 Rust 的实现</a></li>
</ul>
</li>
<li>边缘网络系列文章
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://mp.weixin.qq.com/s/uIASAeayB7noOrBOzBc3_g">从网卡到应用以及Rust网络库实现</a></li>
</ul>
</li>
</ul>
<h3 id="网络协议与组织"><a class="header" href="#网络协议与组织">网络协议与组织</a></h3>
<ul>
<li><a href="https://httpwg.org/">The IETF HTTP Working Group</a> - HTTP 工作组</li>
<li><a href="https://datatracker.ietf.org/">The IETF Datatracker</a> - RFC 文档查询</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tcp-网络协议"><a class="header" href="#tcp-网络协议">TCP 网络协议</a></h1>
<blockquote>
<p>雕刻互联网基石</p>
</blockquote>
<h2 id="备忘-1"><a class="header" href="#备忘-1">备忘</a></h2>
<ul>
<li><code>TCP_NODELAY</code>选项：
<ul>
<li>是否禁用 Nagle 算法，开启意味着禁用</li>
<li>对于延时敏感型，同时数据传输量比较小的应用，开启 TCP_NODELAY 选项</li>
<li>参考：<a href="https://www.zhihu.com/question/42308970">TCP连接中启用和禁用TCP_NODELAY有什么影响？</a></li>
<li>遇到过的问题：
<ul>
<li>客户端发送「短」消息，一直等待发不出去，多发几条才陆续成功</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="链接-20"><a class="header" href="#链接-20">链接</a></h2>
<ul>
<li><a href="https://datatracker.ietf.org/doc/rfc793/">RFC 793: Transmission Control Protocol</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="数据库"><a class="header" href="#数据库">数据库</a></h1>
<blockquote>
<p>包罗万象，海纳百川。</p>
</blockquote>
<h2 id="链接-21"><a class="header" href="#链接-21">链接</a></h2>
<ul>
<li><a href="https://data.stackexchange.com">Stack Exchange Data Explorer</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="术语汇总"><a class="header" href="#术语汇总">术语汇总</a></h1>
<p>记不过来的那些术语概念💥</p>
<ul>
<li>
<p><a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE">有向无环图(Directed acyclic graph)</a></p>
<blockquote>
<p>在图论中，如果一个有向图从任意顶点出发无法经过若干条边回到该点，则这个图是一个有向无环图（DAG,directed acyclic graph）</p>
</blockquote>
<ul>
<li>引用来源：<a href="https://github.com/square/Cleanse#using-cleanse">Square/Cleanse</a></li>
</ul>
</li>
<li>
<p><a href="https://arxiv.org/pdf/1805.06358.pdf">CRDT - Conflict-free Replicated Data Types</a></p>
<blockquote>
<p>无冲突复制数据类型</p>
</blockquote>
<ul>
<li>引用来源：<a href="https://xi-editor.io/docs/crdt.html">Xi-Editor 设计说明文档</a></li>
</ul>
</li>
<li>
<p><a href="https://zh.wikipedia.org/wiki/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97">消息中间件 - aka: 消息队列(Message queue)</a></p>
<blockquote>
<p>一种进程间通信或同一进程的不同线程间的通信方式，提供了异步的通信协议</p>
</blockquote>
<blockquote>
<p>为什么要用消息中间件？</p>
<ol>
<li>系统解耦</li>
<li>异步调用</li>
<li>流量削峰</li>
</ol>
</blockquote>
<ul>
<li>引用来源：<a href="https://github.com/Binlogo/nats-rs">采用 Rust 实现 NATS</a></li>
</ul>
</li>
<li>
<p><a href="https://talks.golang.org/2012/waza.slide#8">并发和并行（Concurrency vs. Parallelism）</a></p>
<blockquote>
<ul>
<li>并发是关于同时处理很多事情。</li>
<li>并行是关于同时执行很多事情。</li>
<li>并发是关于结构的，并行是关于执行的。</li>
<li>并发提供了一种构建方式，以解决可能（但不一定）可并行化的问题。</li>
</ul>
</blockquote>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="软件开发"><a class="header" href="#软件开发">软件开发</a></h1>
<p>赋能他人，适应环境，响应变化。</p>
<h2 id="链接-22"><a class="header" href="#链接-22">链接</a></h2>
<ul>
<li>
<p><a href="https://jamstack.org/">For fast and secure sites | Jamstack</a> - Javascript，API 和 Markup，Web 开发模式</p>
</li>
<li>
<p><a href="https://www.gtk.org/">GTK.org - Create interfaces that users just love</a> - 创建跨平台 UI 界面</p>
</li>
<li>
<p><a href="https://kotlinlang.org/lp/mobile/">Kotlin Multiplatform Mobile</a> - 采用 Kotlin 的官方移动端跨平台方案</p>
</li>
<li>
<p><a href="https://quicktype.io/">QuickType</a> - 快速将 JSON 转为各种语言的 Model</p>
</li>
<li>
<p><a href="https://www.gnu.org/software/make/manual/html_node/index.html">GNU make manual</a> - GNU make 手册</p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=T9vRBioadYc">The Laws of Magic - YouTube</a> - 以魔法法则的方式介绍软件系统设计的一些原则</p>
<ul>
<li><a href="https://github.com/tryswift/tokyo2019slides/blob/master/DaveDeLong/The%20Laws%20of%20Magic.pdf">演讲 PDF</a></li>
</ul>
<details>
  <summary>笔记概览</summary>
<ul>
<li>为什么说是魔法？
<ul>
<li>任何足够先进的技术都与魔法无异</li>
</ul>
</li>
<li>魔法第一法则：作者用魔法解决问题的能力与读者对魔法的理解程度成正比</li>
<li>魔法第二法则：限制 &gt; 权限</li>
<li>魔法第三法则：在添加新内容之前优先考虑扩展您已有的内容</li>
</ul>
</details>
</li>
</ul>
<h3 id="音视频"><a class="header" href="#音视频">音视频</a></h3>
<ul>
<li><a href="https://github.com/AudioKit/AudioKit">AudioKit</a> - Apple 平台音频开发框架</li>
<li><a href="https://developer.apple.com/av-foundation/">AVFoundation</a> - Apple 开发者官网 AVFoundation 资源</li>
</ul>
<h3 id="源码剖析"><a class="header" href="#源码剖析">源码剖析</a></h3>
<ul>
<li>Telegram-iOS 源码导读
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-05-07-source-code-walkthrough-of-telegram-ios-part-1/">Source Code Walkthrough of Telegram-iOS: Part 1</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-05-11-source-code-walkthrough-of-telegram-ios-part-2/">Source Code Walkthrough of Telegram-iOS Part 2: SSignalKit</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-05-15-source-code-walkthrough-of-telegram-ios-part-3/">Source Code Walkthrough of Telegram-iOS Part 3: Other Foundations</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-06-05-source-code-walkthrough-of-telegram-ios-part-4/">Source Code Walkthrough of Telegram-iOS Part 4: MTProto Connections</a>
<ul>
<li><a href="https://github.com/tdlib/td">TDLib (Telegram Database library) </a> - Telegram 客户端跨平台 C++ 库</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-06-14-source-code-walkthrough-of-telegram-ios-part-5/">Source Code Walkthrough of Telegram-iOS Part 5: AsyncDisplayKit</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-06-22-source-code-walkthrough-of-telegram-ios-part-6/">Source Code Walkthrough of Telegram-iOS Part 6: Bubbles</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://hubo.dev/2020-07-12-source-code-walkthrough-of-telegram-ios-part-7/">Source Code Walkthrough of Telegram-iOS Part-7: Link Preview and Instant View</a></li>
<li><input disabled="" type="checkbox"/>
TODO: 精华摘要</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="工程效率"><a class="header" href="#工程效率">工程效率</a></h1>
<p>明确目标，高效高质达成。✅</p>
<h2 id="编译系统"><a class="header" href="#编译系统">编译系统</a></h2>
<ul>
<li><a href="https://flare.build/">FLARE.BUILD</a> - Bazel 编译系统支持服务</li>
<li><a href="https://www.buildbuddy.io/">BuildBuddy | Bazel at Enterprise Scale</a> - Bazel 编译系统支持服务</li>
<li><a href="https://nnethercote.github.io/2021/11/12/the-rust-compiler-has-gotten-faster-again.html">The Rust compiler has gotten faster again | Nicholas Nethercote</a></li>
</ul>
<h2 id="链接-23"><a class="header" href="#链接-23">链接</a></h2>
<ul>
<li><a href="https://mozilla.github.io/firefox-browser-architecture/">Firefox Browser Architecture</a> - Firefox 架构组技术调研</li>
<li><a href="https://github.com/google/eng-practices">Google Engineering Practices Documentation</a></li>
<li><a href="https://increment.com/">《Increment》</a> - Stripe 出品的专注于软件开发的季刊杂志</li>
<li><a href="https://github.com/open-telemetry/opentelemetry-specification">Specifications for OpenTelemetry</a> - 全链路协议 OpenTelemetry
<ul>
<li><a href="https://bigbully.github.io/Dapper-translation/">Dapper，大规模分布式系统的跟踪系统</a></li>
<li><a href="https://github.com/jaegertracing/jaeger">CNCF Jaeger, a Distributed Tracing Platform</a></li>
</ul>
</li>
<li><a href="https://wiki.blender.org/wiki/Main_Page">Blender Developer Wiki</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ios-开发"><a class="header" href="#ios-开发">iOS 开发</a></h1>
<p>精进 + 创造中 🚀</p>
<ul>
<li>
<p><a href="https://github.com/Binlogo/WWDC20-Track">WWDC20 观影记录</a></p>
</li>
<li>
<p><a href="https://mubu.com/doc/5Iio_eHpUPE">《iOS 开发高手课》笔记</a></p>
</li>
<li>
<p><a href="https://mubu.com/doc/fPEZGSYGr0">图片储存与展示性能优化</a></p>
</li>
<li>
<p><a href="https://github.com/Binlogo/Design-Patterns-In-Swift-CN">设计模式 - Swift 示例</a></p>
</li>
<li>
<p><a href="iOSDev/./performance.html">性能优化</a></p>
</li>
<li>
<p><a href="iOSDev/./threading-programming/threading-programming.html">多线程编程</a></p>
<ul>
<li><a href="iOSDev/./threading-programming/thread-management.html">线程管理</a></li>
<li><a href="iOSDev/./threading-programming/run-loops.html">Run Loops</a></li>
<li><a href="iOSDev/./threading-programming/synchronization.html">线程同步</a></li>
</ul>
</li>
</ul>
<h2 id="meta"><a class="header" href="#meta">Meta</a></h2>
<ul>
<li><a href="https://developer.apple.com/documentation/">Apple Developer Documentation</a></li>
<li><a href="https://developer.apple.com/library/archive/navigation">Apple Developer Documentation Archive</a> —— 2018 年及之前的历史开发文档说明
<ul>
<li><a href="https://developer.apple.com/library/archive/releasenotes/General/WhatsNewIniOS/Introduction/Introduction.html">What's New in iOS</a> —— iOS 11.0 及之前的更新说明</li>
</ul>
</li>
</ul>
<h2 id="编译"><a class="header" href="#编译">编译</a></h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=gVdkJu3QRA4">BazelCon 2019 Day 1: Porting iOS Apps to Bazel + Q&amp;A</a></li>
<li><a href="https://bazel.build/">Bazel - a fast, scalable, multi-language and extensible build system</a> - 支持多种语言的编译系统</li>
<li><a href="https://developer.apple.com/videos/play/wwdc2018/415/">Behind the Scenes of the Xcode Build Process - WWDC 2018</a></li>
<li><a href="https://tech.meituan.com/2021/02/25/swift-objective-c.html">从预编译的角度理解Swift与Objective-C及混编机制 - 美团技术团队</a> - 对 Swift/Objective-C 混编机制讲述得非常细致全面</li>
</ul>
<h2 id="调试"><a class="header" href="#调试">调试</a></h2>
<ul>
<li><a href="https://libimobiledevice.org/">libimobiledevice</a> - iOS 设备调试命令行工具集</li>
</ul>
<h2 id="-特性"><a class="header" href="#-特性"> 特性</a></h2>
<h3 id="ios-13"><a class="header" href="#ios-13">iOS 13</a></h3>
<ul>
<li>
<p><a href="https://developer.apple.com/videos/play/wwdc2019/224/">WWDC - Modernizing Your UI for iOS 13</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/context-menus/">Context Menus</a></p>
<ul>
<li><a href="https://www.raywenderlich.com/6328155-context-menus-tutorial-for-ios-getting-started">Context Menus Tutorial for iOS: Getting Started</a></li>
</ul>
</li>
</ul>
<h3 id="catalyst"><a class="header" href="#catalyst">Catalyst</a></h3>
<ul>
<li><a href="https://github.com/terhechte/CatalystMaterial">terhechte/CatalystMaterial</a></li>
<li><a href="https://www.craft.do/maccatalyst-guide">The Missing Guide for Mac Catalyst Apps</a> - Craft 的 Catalyst 应用开发指南</li>
</ul>
<h2 id="链接-24"><a class="header" href="#链接-24">链接</a></h2>
<ul>
<li><a href="https://infinum.com/handbook/books/ios">iOS Handbook from Infinum</a></li>
<li><a href="https://github.com/babylonhealth/ios-playbook">iOS Playbook from Babylon</a> - <a href="http://github.com/babylonhealth">Babylon 团队</a> 的 iOS 攻略手册</li>
<li><a href="https://github.com/icanzilb/TimelaneCore">Timelane</a> - 异步代码性能可视化调试，支持 RxSwift/Combine</li>
<li><a href="https://github.com/onevcat/FengNiao">蜂鸟</a> - 清理无用图片资源</li>
<li><a href="http://mrpeak.cn/blog/ios-runloop/">解密 Runloop</a> - 有助于理解 RunLoop 的一篇文章</li>
</ul>
<pre><code class="language-objective-c">while (alive) {
  performTask() //执行任务
  callout_to_observer() //通知外部
  sleep() //休眠
}
</code></pre>
<ul>
<li><a href="https://github.com/Danie1s/Tiercel">Tiercel</a> - 简单易用、功能丰富的纯 Swift 下载框架</li>
<li><a href="https://github.com/apple/swift-corelibs-libdispatch">swift-corelibs-libdispatch</a> - GCD 官方源码</li>
<li><a href="https://www.ianisme.com/ios/2019.html">Objective-C Runtime 1小时入门教程</a></li>
<li><a href="https://github.com/rockbruno/SwiftInfo">SwiftInfo</a> - 抓取分析 iOS 应用信息以便追踪质量</li>
<li><a href="https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KernelProgramming/About/About.html#//apple_ref/doc/uid/TP30000905-CH204-TPXREF101">Kernal Programming Guide</a></li>
<li><a href="https://instabug.com/blog/ios-binary-framework/">Creating and Distributing an iOS Binary Framework</a></li>
<li><a href="https://medium.com/@cristianarielbarril/optimize-your-ios-projects-creating-binaries-frameworks-f83cb848f59f">Optimize your iOS projects creating binaries Frameworks</a></li>
<li><a href="https://github.com/huanxsd/LinkMap">LinkMap解析工具</a> - 检查每个类占用大小</li>
<li><a href="https://github.com/facebook/chisel">faceboook/Chisel</a> - LLDB 命令工具集</li>
<li><a href="https://github.com/appculture/xcode-project-renamer">Xcode Project Renamer</a> - Xcode 项目重命名脚本</li>
<li><a href="http://dscoder.com/defaults.html">What is NSUserDefaults?</a> - 深入理解 NSUserDefault（由 Cocoa 开发者撰写）</li>
<li><a href="https://github.com/peripheryapp/periphery">peripheryapp/periphery: A tool to identify unused code in Swift projects.</a></li>
<li><a href="https://codesigning.guide/">Code Signing Guide for Teams</a> - 代码签名团队指南</li>
<li><a href="https://faisalmemon.github.io/ios-crash-dump-analysis-book/zh/">iOS Crash Dump Analysis, Second Edition</a> - iOS 崩溃分析</li>
</ul>
<h3 id="库-1"><a class="header" href="#库-1">库</a></h3>
<ul>
<li><a href="https://github.com/Flinesoft/BartyCrouch">Flinesoft/BartyCrouch</a> - 增量更新的文案国际化方式</li>
<li><a href="https://github.com/SwiftyBeaver/SwiftyBeaver">SwiftyBeaver</a> - Swift 编写的日志库</li>
<li><a href="https://github.com/ivanvorobei/SPPermissions">SPPermissions</a> - 友好的权限获取控件</li>
<li><a href="https://github.com/fpillet/NSLogger">NSLogger</a> - 高性能日志库</li>
<li><a href="https://github.com/daltoniam/starscream">Starscream</a> - Swift 编写的 Websocket 库</li>
</ul>
<h2 id="qa-1"><a class="header" href="#qa-1">Q&amp;A</a></h2>
<ul>
<li>
<p>如何加速 CocoaPods 安装？</p>
<p><a href="http://blog.cocoapods.org/CocoaPods-1.8.0-beta/">CDN as Default</a></p>
<pre><code class="language-ruby">- source 'https://github.com/CocoaPods/Specs.git'
+ source 'https://cdn.cocoapods.org/'
</code></pre>
</li>
<li>
<p>如何解决 Xcode 不支持最新 iOS 系统真机设备调试？</p>
<p>下载 <a href="https://github.com/filsv/iPhoneOSDeviceSupport">iPhoneOSDeviceSupport</a> 对应版本支持文件，解压拷贝到以下路径：</p>
<p><code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/</code></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="架构设计"><a class="header" href="#架构设计">架构设计</a></h1>
<p>从小茅屋到一座大厦。</p>
<p>推荐：<a href="https://github.com/Binlogo/Design-Patterns-In-Swift-CN">设计模式（Swift 5.0 实现）</a></p>
<h2 id="链接-25"><a class="header" href="#链接-25">链接</a></h2>
<ul>
<li><a href="https://github.com/pointfreeco/swift-composable-architecture">The Composable Architecture</a></li>
<li><a href="https://www.vadimbulavin.com/modern-mvvm-ios-app-architecture-with-combine-and-swiftui/">Modern MVVM iOS App Architecture with Combine and SwiftUI</a></li>
</ul>
<h3 id="swift-依赖注入框架"><a class="header" href="#swift-依赖注入框架">Swift 依赖注入框架</a></h3>
<ul>
<li><a href="https://github.com/Swinject/Swinject">Swinject</a></li>
<li><a href="https://github.com/square/Cleanse">square/Cleanse</a> 
<ul>
<li>Doing</li>
</ul>
</li>
</ul>
<h3 id="架构图"><a class="header" href="#架构图">架构图</a></h3>
<ul>
<li>MVVM-C —— <a href="https://github.com/ProtonMail/ios-mail/blob/master/README.md#architecture">ProtonMail iOS</a></li>
</ul>
<blockquote>
<p><a href="https://raw.githubusercontent.com/ProtonMail/ios-mail/master/mvvmc.png">MVVM-C</a> with services. Model-View-ViewModel architecture, plus the Coordinator pattern. </p>
</blockquote>
<p><img src="iOSDev/./assets/mvvmc.png" alt="MVVM-C" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="多线程编程"><a class="header" href="#多线程编程">多线程编程</a></h1>
<p>整理、记录学习多线程编程中的概念。</p>
<ul>
<li><a href="iOSDev/threading-programming/./about.html">关于多线程编程</a></li>
<li><a href="iOSDev/threading-programming/./thread-management.html">线程管理</a></li>
<li><a href="iOSDev/threading-programming/./run-loops.html">Run Loops</a></li>
<li><a href="iOSDev/threading-programming/./synchronization.html">线程同步</a></li>
</ul>
<h2 id="链接-26"><a class="header" href="#链接-26">链接</a></h2>
<ul>
<li><a href="https://xiaozhuanlan.com/complete-ios-gcd">小专栏 - 彻底搞定 GCD🚦并发编程</a></li>
<li><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/Introduction/Introduction.html#//apple_ref/doc/uid/10000057i-CH1-SW1">Apple - Threading Programming Guide</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="关于多线程编程"><a class="header" href="#关于多线程编程">关于多线程编程</a></h1>
<h2 id="概要和术语"><a class="header" href="#概要和术语">概要和术语</a></h2>
<p>多线程编程有利也有弊：在提升程序运行效率和用户体验的同时也带来了线程间同步的种种问题。现在大多数 CPU 都是多核的，所以很多程序都是并发执行来提升性能。</p>
<ul>
<li>提升交互响应体验</li>
<li>提升多核设备的实时性能</li>
</ul>
<p>多线程编程的代码更复杂，尤其是在存取同一个数据时更需要注意。</p>
<p>如果把进程(process)理解为一个运行着多个线程(thread)的程序，线程运算调度一条独立路径的代码。任务(work)可以理解成需要被执行的代码块或函数之类的抽象概念。</p>
<h2 id="替代技术"><a class="header" href="#替代技术">替代技术</a></h2>
<p>亲自去创建底层意义上的线程很难操作，也很容易出问题。创建一个新的线程会消耗很多 CPU 和内存资源，所以尽可能先考虑下是否真的有必要创建线程。对于直接手动创建线程执行任务来说，可以替代的技术还有很多：</p>
<ul>
<li>Operation objects: 封装了一套在辅助线程执行任务的 API，只关注提交的任务即可，线程管理的底层工作交给系统。</li>
<li><strong>Grand Central Dispatch</strong>: 也是基于任务的 API，功能更强大，队列的使用更加灵活，<strong>强烈推荐</strong>。</li>
<li>Idle-time notifications: 如果一项任务较轻且优先级较低，可以趁着不忙的时候执行。使用 <code>NotificationCenter</code> 的 <a href="https://developer.apple.com/documentation/foundation/notificationcenter/1410472-post"><code>post(_:)</code></a> 方法可以立即发出通知，这是个同步执行的方法。其实通知会先进入一个先入先出的通知队列中，出列后才会被分发到通知中心。可以使用 <code>NotificationQueue</code> 的 <a href="https://developer.apple.com/documentation/foundation/notificationqueue/1416340-enqueue"><code>enqueue(_:postingStyle:)</code></a> 方法异步发送通知，<strong>postingStyle 设为 <a href="https://developer.apple.com/documentation/foundation/notificationqueue.postingstyle/1418001-whenidle"><code>.whenIdle</code></a> 即可在 RunLoop 空闲时发送通知</strong>。</li>
<li>Asynchronous functions: 使用系统自带的异步函数，把线程创建和管理的工作交给系统。</li>
<li>Timers: 使用定时器在主线程做一些微小的周期性任务，而无需手动创建线程。（参见：<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW21">Timer Sources</a>）</li>
<li>Separate processes: 如果任务跟应用关联不紧密、占用大量内存或是需要 root 权限，可以创建进程，而非线程。使用 <code>fork</code> 函数创建进程后记得调用 <code>exec</code>。</li>
</ul>
<h2 id="苹果系统的支持"><a class="header" href="#苹果系统的支持">苹果系统的支持</a></h2>
<p>macOS 和 iOS 提供了几种创建线程的技术，以及对线程之间管理和同步任务的支持。</p>
<h3 id="对线程的封装"><a class="header" href="#对线程的封装">对线程的封装</a></h3>
<p>线程的底层实现是在 Mach 层的，虽然它提供了抢占式多任务处理模型和线程调度能力，但我们常用的还是 POSIX API 及其衍生出来的 API：</p>
<ol>
<li>Cocoa 线程: <code>NSThread</code> 类以及 <code>NSObject</code> 提供的线程 API。参见：<a href="iOSDev/threading-programming/./thread-management.html">线程管理</a></li>
<li>POSIX 线程: C 语言接口，比如创建线程的函数 <code>pthread_create</code>。 <code>pthread_t</code> 为线程句柄。</li>
<li><del>Multiprocessing Services: 远古产物，弃用</del></li>
</ol>
<p>不同系统中线程的生命周期都差不多，在线程退出之前，会在**运行(running)、阻塞(blocked)、准备(ready)**状态之间切换。创建线程需要指定其入口函数，入口函数 <code>return</code> 后会终止线程，线程会被系统回收。创建线程会占内存和 CPU 资源，所以在入口函数里执行比较重的任务才值当。或者可以用 RunLoop 做一些循环的任务。</p>
<h3 id="run-loops"><a class="header" href="#run-loops">Run Loops</a></h3>
<p>run-loop 管理了线程接收的事件。它监听事件 source，有事件发生时，系统会唤起线程并将事件发送给 run-loop，然后调用事件对应的回调处理函数。没有事件发生时会让线程休眠。</p>
<p>如果没有 run loop，线程的入口函数 <code>return</code> 后就会终止线程。**run loop 可以让线程保活的同时消耗最少的资源。**它在没有事件发生时会让线程休眠，而不是让 CPU 空转。<strong>run loop 与线程是一对一的关系，线程创建时默认是没有 run loop 的。</strong></p>
<p><strong>系统的主线程自动配置好了 run loop</strong>，可以通过 <strong><code>CFRunLoopGetMain()</code></strong> 获得。其他线程可以使用 <strong><code>CFRunLoopGetCurrent()</code></strong> 获得对应的 run loop 对象，<strong>在第一次执行 <code>CFRunLoopGetCurrent()</code> 时，线程才会创建它的 run loop</strong>。获得 run loop 对象后，可以配置其事件处理函数，并运行 run loop。</p>
<p>run loop 对应的 API 有两种：<code>NSRunLoop</code> 和 <code>CFRunLoop</code>：</p>
<ul>
<li><code>NSRunLoop</code> Cocoa 的 API，<strong>非线程安全，必须在当前线程上下文中调用</strong>。它是对 <code>CFRunLoop</code> 的封装。</li>
<li><code>CFRunLoop</code> 为 <code>Core Foundation</code> 框架的 C 语言 API，<strong>线程安全</strong>。使用 <code>CFRunLoopRef</code> 引用 run loop 对象。</li>
</ul>
<h3 id="同步工具"><a class="header" href="#同步工具">同步工具</a></h3>
<p>多线程操作同一资源时要注意同步的问题，可以使用<strong>加锁</strong>、<strong>条件变量</strong>、<strong>原子操作</strong>等技术进行同步。</p>
<p><strong>加锁可以确保一段代码在某一时刻只能在一个线程中执行</strong>，最基本的是互斥锁(mutex, mutual exclusion)。Cocoa 提供了很多种锁来满足各种场景。</p>
<p><strong>当两个线程竞争同一资源时，如果对资源的访问顺序敏感，就称存在竞态条件。<strong>条件变量通过</strong>阻塞线程的方式</strong>确保了任务按正确的顺序执行，POSIX 层和 Foundation 框架都有条件变量对应的 API。此外，Cocoa 提供的 operation objects 也能设置任务执行的顺序。</p>
<p><strong>原子操作适合同步多线程对标量数据类型的数学和逻辑运算</strong>，它跟锁相比，采用<strong>硬件指令优化</strong>，是一种轻量级同步工具。</p>
<blockquote>
<p>链接： <a href="https://github.com/uber/swift-concurrency">Swift Concurrency</a></p>
</blockquote>
<h3 id="跨线程通信"><a class="header" href="#跨线程通信">跨线程通信</a></h3>
<p>因为线程之间共用它们所属进程的相同空间，所以跨线程通信的方法有很多。它们各有优劣，按复杂度从低到高排列如下：</p>
<ul>
<li>
<p>NSObject 对象直接发消息: <a href="https://developer.apple.com/documentation/objectivec/nsobject/1414476-perform"><code>perform(_:on:with:waitUntilDone:)</code></a> 等方法。参见：<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW44">Cocoa Perform Selector Sources</a></p>
<ul>
<li>依赖于 run loop 机制</li>
</ul>
</li>
<li>
<p><strong>全局变量，共用内存和对象</strong>: 相比直接发消息<strong>更快更容易</strong>，但也<strong>更脆弱</strong>。需要加锁之类的同步机制来确保代码的正确性，否则可能会导致竞态条件、数据错乱和崩溃。</p>
</li>
<li>
<p><strong>条件变量</strong>: 之前说过它也是一种线程同步工具，只有当符合某个条件时才让线程执行下去，相当于守门员的作用。</p>
</li>
<li>
<p><strong>Run loop sources</strong>: run loop input sources 有两种：port-based 和 custom。这里说的是使用 custom run loop source 在某个线程上接收应用特定的消息。整个事件分发机制需要自己实现，包括设置 handler 函数，为 custom run loop source 提供数据，并手动给它发信号（signal）。</p>
</li>
<li>
<p><strong>端口和套接字</strong>: 基于端口的跨线程通信技术更复杂但也更可靠。更重要的是端口和套接字也可以与外部实体通信，比如其他进程和服务。<strong>为了高效，端口使用 port-based run loop sources 实现</strong>。</p>
</li>
<li>
<p><del><strong>消息队列</strong>: 古老的 Multiprocessing Services 定义了一个简单方便的 FIFO 队列来管理数据进出，但没其他跨线程通信技术效率高。</del></p>
</li>
<li>
<p><del>Cocoa distributed objects: 对端口通信进行高级封装的 Cocoa API，其开销之大更适合跨进程通信。不建议用于跨线程通信，杀鸡用牛刀。</del></p>
</li>
</ul>
<h2 id="设计要点"><a class="header" href="#设计要点">设计要点</a></h2>
<p>这些建议和经验可以帮助开发者确保代码逻辑正确，性能更佳。</p>
<h3 id="避免直接创建线程"><a class="header" href="#避免直接创建线程">避免直接创建线程</a></h3>
<p>手动创建线程很蛋疼还容易出错，所以要用其他 API 隐式实现并发，之前也提到了一些替代技术。建议使用 GCD 和 operation objects，可以根据当前系统负载自动调整活跃线程数量。</p>
<h3 id="让线程占用率适当"><a class="header" href="#让线程占用率适当">让线程占用率适当</a></h3>
<p>手动创建管理线程时要注意线程消耗宝贵的系统资源，要做到物尽其所用，不能杀鸡用牛刀。更要毫不犹豫地终止大部分时间处于空闲状态的线程。线程占用的大量内存中有一部分是联动(wired)内存，所以释放那些使用率低的线程不仅可以减少应用的内存占用，也会为其他系统进程的运行释放更多物理内存。</p>
<p>科普下苹果的内存使用相关术语：</p>
<ul>
<li><strong>Wired(联动)</strong>: 系统核心占用的，一直存在 RAM 上，永远不会被挪到硬盘中。联动内存占用跟使用的应用有关。</li>
<li>Active(活跃): 表示这些内存数据正在使用中，或者刚被使用过。</li>
<li>Inactive(非活跃): 表示这些内存中的数据是有效的，但是最近没有被使用。如果打开一个应用再退出，其所占用内存会变为非活跃内存，再次打开这个应用时如果那块内存没被其他应用使用，那么会那块非活跃内存会变为活跃内存（无需从硬盘加载），使得应用打开速度更快。</li>
<li>Free(可用空间): RAM 中没被使用的空间。</li>
</ul>
<p>在终止线程前需要记录下当前的性能指标，并在终止线程之后再次记录，参照对比下是否真的提升了性能。</p>
<h3 id="避免共用数据结构"><a class="header" href="#避免共用数据结构">避免共用数据结构</a></h3>
<p>避免线程相关资源冲突<strong>最简单的方法是每个线程都拷贝一份需要用的数据</strong>。<strong>线程之间通讯越少越好。</strong></p>
<p>即便对所有多线程场景下的共用数据加锁，就算再怎么仔细，代码可能依然在语义上不安全。比如代码逻辑要求用特定的顺序修改公用的数据结构，否则就会出问题。使用基于事务模型的代码可以弥补这个缺陷，但会进而抵消了多线程的性能优势。将资源竞争消灭在萌芽之中才会让方案更简单，性能更出众。</p>
<h3 id="线程与用户界面"><a class="header" href="#线程与用户界面">线程与用户界面</a></h3>
<p>建议在接受跟用户相关的事件和更新界面时使用主线程。因为 Cocoa 跟 UI 相关的 API 使用了一些全局变量，如果在其他线程去更新 UI 或者处理用户事件，就会发生一些同步问题。</p>
<p>当然这个『在主线程更新界面』的规则也有些例外，比如在次级线程进行图像处理可以显著地提升性能。如果拿不准主意，那就干脆全在主线程去做吧。这样代码逻辑简单，易维护。</p>
<p>Cocoa 图形绘制可以参考 <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CocoaDrawingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40003290">Cocoa Drawing Guide</a>。</p>
<h3 id="注意退出应用时线程的行为"><a class="header" href="#注意退出应用时线程的行为">注意退出应用时线程的行为</a></h3>
<p>POSIX 线程按照资源释放方式分两种：joinable(non-detached) 和 detached。</p>
<p>detached 类型的线程结束之后系统会自动回收其资源。假如在 A 线程中使用 <code>pthread_create</code> 创建线程 B，不传入线程属性的话默认是 joinable 类型的线程。需要在线程 A 调用 <code>pthread_join</code> 来连接，这样才会在线程 B 结束后回收其资源。</p>
<p><strong>默认情况下只有主线程是 joinable 的，当所有 joinable 线程都结束了，它们所属的进程也就终止执行了</strong>。因为系统会认为 detached 线程做的都是可选的任务，所以当用户退出了一个应用时，通常会立刻结束所有的 detached 线程。</p>
<p>如果想让线程在后台做一些诸如保存数据到磁盘之类的重要工作，需要使用 joinable 类型的线程，以防止应用退出时数据丢失。但大多数的对线程高层封装的 API 不会默认创建 joinable 线程，所以需要使用 POSIX API 的 <code>pthread_create</code> 创建 joinable 线程。</p>
<p>在使用 Cocoa API 时，<code>applicationShouldTerminate:</code> delegate 方法可以延迟一阵子退出应用或取消退出。如果需要延迟退出程序，还要在所有关键线程完成任务之后调用 <code>replyToApplicationShouldTerminate:</code> 方法告诉 <code>NSApplication</code> 对象是否可以真的退出了。</p>
<h3 id="处理异常"><a class="header" href="#处理异常">处理异常</a></h3>
<p>每个线程都负责捕获和处理其调用栈上抛出的异常，任何线程上没被捕获的异常都能终止其所属进程。<strong>不能将没捕获的线程抛给其他线程处理。</strong></p>
<p>如果想要通知其他线程有异常，应该先捕获异常，然后给其他线程发消息。异常被捕获后可能会继续执行，或者等待命令，或者退出。</p>
<p>Cocoa 的 <code>NSException</code> 被捕获后可以在线程之间传递。</p>
<p><code>@synchronized</code> 会自动捕获和处理异常。</p>
<h3 id="干净利落地终止线程"><a class="header" href="#干净利落地终止线程">干净利落地终止线程</a></h3>
<p>最好是让线程运行结束后自动退出，如果万不得已非要立刻终止线程，<strong>会导致线程没有释放和清理它占用的资源</strong>，比如：创建的内存、打开的文件以及获得的其他资源。无法回收这些资源意味着内存泄露和其他潜在的问题。</p>
<h3 id="library-中的线程安全"><a class="header" href="#library-中的线程安全">Library 中的线程安全</a></h3>
<p><strong>开发第三方库的时候必须假设调用方随时都会处于多线程环境中，代码中的关键部分一定要加锁</strong>。虽然可以监听 <code>NSWillBecomeMultiThreadedNotification</code> 通知来获知应用处于多线程，但可能 library 被调用之前就已经发过通知了。别指望当调用方处于多线程环境时才创建锁，而是需要在调用初始化 library 的方法中就提前创建好锁对象。但如果在 library 的静态初始化中创建锁会延长 library 的加载时间，影响性能。</p>
<p>互斥锁的加锁和解锁操作要成对出现，不要指望调用方提供一个线程安全的环境，对数据结构该用锁就用。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="线程管理"><a class="header" href="#线程管理">线程管理</a></h1>
<p>每个进程都至少有一个线程，每个线程代表了一条执行代码的独立路径。应用从一个线程的 <code>main</code> 函数开始运行，然后产生新的线程。<strong>每个线程在进程内部都是独立的实体，具有自己的调用栈，并由内核做时分调度。<strong>线程可以与其他线程和进程</strong>通信</strong>，<strong>执行 I/O 操作</strong>等。一个应用进程内部的所有现场<strong>共享虚拟内存空间</strong>，并与进程拥有相同的访问权限。</p>
<h2 id="线程成本"><a class="header" href="#线程成本">线程成本</a></h2>
<p>使用线程对应用和系统来说都是有成本的，具体体现在<strong>内存使用和性能</strong>上。每个线程需要占用内核内存空间和程序内存空间。内核会使用联动(wired)内存为线程创建用于管理线程和协调调度的数据结构。线程的栈空间和数据存储在程序的内存空间中。这些数据结构大部分会在创建线程的时候初始化，进程也因与内核有必要的交互而成本变得相对更高。</p>
<table><thead><tr><th align="left">成本项</th><th align="left">大致成本</th><th align="left">注释</th></tr></thead><tbody>
<tr><td align="left">内核数据结构</td><td align="left">大约 1 KB</td><td align="left">用于存储线程数据结构和属性的内存，很多都是联动（wired）内存，所以不能在磁盘上分页</td></tr>
<tr><td align="left">栈空间</td><td align="left">次级线程：512 KB ; macOS 主线程：8 MB ; iOS 主线程：1 MB</td><td align="left">次级线程的栈空间最小为 16 KB，且必须是 4 KB 的整数倍。创建线程的时候可以设置栈空间的大小，但是只有在需要用它的时候才会创建真的分页内存。</td></tr>
<tr><td align="left">创建时间</td><td align="left">大约 90 微秒（macOS 10.5，2 GHz Core Duo CPU，1 GB RAM）</td><td align="left">从开始创建线程到线程入口函数开始执行的耗时，是个粗略的估值。处理器负载、计算机速度、系统和程序可用内存都会对创建时间造成较大的影响。</td></tr>
</tbody></table>
<p>由于底层内核的支持，operation objects 经常可以更快地创建线程。它使用<strong>内核线程池</strong>中已经存在的线程来节省创建时间，而不是每次都从零开始创建线程。</p>
<p>线程相关代码的开发工作也是一种<strong>生产成本</strong>。设计多线程程序有时需要对应用数据结构的组织方式进行彻底的改变。<strong>避免使用同步</strong>，因为它在设计较差的应用上会严重降低性能。设计数据结构和 debug 线程相关代码都会增加开发成本。</p>
<h2 id="创建线程"><a class="header" href="#创建线程">创建线程</a></h2>
<p>创建线程需要指定入口主函数，并可设置一些线程的配置项。最后调用运行线程的方法。下面介绍几种创建线程的技术。</p>
<h3 id="使用-thread"><a class="header" href="#使用-thread">使用 <code>Thread</code></a></h3>
<p>使用 <code>Thread</code> 创建线程有两种方式：</p>
<ol>
<li>使用 <a href="https://developer.apple.com/documentation/foundation/thread/1415633-detachnewthreadselector"><code>detachNewThreadSelector(_:toTarget:with:)</code></a> 类方法产生新的线程</li>
<li>创建一个新的 <code>Thread</code> 对象，并调用它的 <code>start</code> 方法。仅支持 iOS 和 macOS 10.5 以后的版本。</li>
</ol>
<p>这两种方法都会创建一个 <strong>detached</strong> 线程，它<strong>退出后系统会自动回收其资源</strong>，无需手动 join 操作。</p>
<p>下面两种创建线程的代码是等效的，但是推荐使用第二种方式。因为它支持在运行线程之前<strong>设置各种线程属性</strong>，不像第一种方式那样创建线程的时候必须立刻运行。</p>
<pre><code class="language-swift">// 方式 1
Thread.detachNewThreadSelector(#selector(myThreadMainMethod), toTarget: self, with: nil)

// 方式 2（推荐）
let myThread = Thread(target: self, selector: #selector(myThreadMainMethod), object: nil)
myThread.start()  // 实际创建线程
</code></pre>
<p>如果不想使用 <code>init(target:selector:object:)</code> 方法传入线程的入口函数，也可以继承 <code>Thread</code>，并覆写子类的 <code>main</code> 方法（不用调用 <code>super</code> 方法）。</p>
<p><code>perform(_:on:with:waitUntilDone:)</code> 方法可以在正在运行的线程发送消息，前提是这个线程必须有运行中的 run loop，因为消息会在线程的 run loop 处理过程中被执行。**注意使用此方法进行跨线程通信时需要有同步机制。**此方法并不适合用于实现对高即时性有一定要求和频繁的跨线程通信。</p>
<h3 id="使用-posix-线程"><a class="header" href="#使用-posix-线程">使用 POSIX 线程</a></h3>
<p>iOS 和 macOS 提供了基于 C 语言的 POSIX 线程 API 来创建线程，优点是跨平台。创建线程的函数是 <code>pthread_create</code>，默认<strong>创建的是 joinable 线程</strong>，所以需要设置线程属性来将其创建为 detached 线程，这样当线程退出的时候其资源就会立刻被系统回收利用了。</p>
<p>对于 C 语言的应用，可以使用端口、条件变量或共用内存来跨线程通信。跨线程通信有便于主线程检查其他线程的状态，在应用退出时做一些操作。</p>
<h3 id="使用-nsobject-产生线程"><a class="header" href="#使用-nsobject-产生线程">使用 <code>NSObject</code> 产生线程</a></h3>
<p>iOS 和 macOS 10.5 之后 <code>NSObject</code> 提供了<code>performSelectorInBackground:withObject:</code> 方法，可以让所有对象都创建 detached 线程，并传入 <code>selector</code> 作为入口函数。跟它等效的方法是 <code>NSThread</code> 的 <code>detachNewThreadSelector:toTarget:withObject:</code>。在 <code>selector</code> 方法里可以继续配置线程，比如添加 <code>autoreleasepool</code> 和 run loop。</p>
<h3 id="在-cocoa-应用中使用-posix-线程"><a class="header" href="#在-cocoa-应用中使用-posix-线程">在 Cocoa 应用中使用 POSIX 线程</a></h3>
<p>在 Cocoa 中使用 POSIX 线程需要注意它们之间的交互，并遵守以下原则。</p>
<h4 id="保护-cocoa-框架"><a class="header" href="#保护-cocoa-框架">保护 Cocoa 框架</a></h4>
<p>**Cocoa 框架使用加锁之类的同步机制来确保多线程工作正常，但只有在第一次使用 <code>Thread</code> 产生新线程的时候才会真的创建锁。这可以避免单线程情况下加锁会降低性能。**但如果只使用 POSIX API 来产生新线程，Cocoa 就不会收到应用转换为多线程的通知，进而导致应用不稳定，甚至 crash。可以用 <code>Thread</code> 创建一个新线程，入口函数啥都不做，这样线程就会立刻退出。这样 Cocoa 就知道应用处于多线程了，加锁也会生效。</p>
<p>PS：这么抖机灵的做法当然也会产生创建线程的开销，有些违背之前说的不要随意创建线程的原则。</p>
<p><code>Thread</code> 的 <code>isMultiThreaded</code> 方法可以检查应用是否是多线程。</p>
<h4 id="混合使用-posix-和-cocoa-锁"><a class="header" href="#混合使用-posix-和-cocoa-锁">混合使用 POSIX 和 Cocoa 锁</a></h4>
<p>在一个应用中混合使用 POSIX 和 Cocoa 两套 API 的锁是安全的，因为后者实质上只是对前者的封装。但不能用一种 API 的方法操作另一种 API 创建的锁。比如不能使用 <code>NSLock</code> 对象操作 <code>pthread_mutex_init</code> 函数创建的互斥锁，反之亦然。</p>
<h2 id="配置线程属性"><a class="header" href="#配置线程属性">配置线程属性</a></h2>
<h3 id="配置线程的栈尺寸"><a class="header" href="#配置线程的栈尺寸">配置线程的栈尺寸</a></h3>
<p>创建线程后系统会为其创建一块内存作为栈空间，开发者可以在创建线程前配置这块空间的尺寸。所有的线程技术都会提供某种设置栈尺寸的方法，但 <code>Thread</code> 只有在 iOS 和 macOS 10.5 之后支持设置栈的尺寸。</p>
<table><thead><tr><th align="left">技术</th><th align="left">选项</th></tr></thead><tbody>
<tr><td align="left">Cocoa</td><td align="left">前提是不要使用 <code>detachNewThreadSelector(_:toTarget:with:)</code> 创建线程。创建线程对象后，在调用线程对象的 <code>start</code> 方法之前，使用 <code>setStackSize:</code> 方法指定栈的大小。</td></tr>
<tr><td align="left">POSIX</td><td align="left">创建 <code>pthread_attr_t</code> 栈属性结构体并使用 <code>pthread_attr_setstacksize</code> 函数修改默认的栈尺寸。在使用 <code>pthread_create</code> 函数创建线程时将属性结构体传入。</td></tr>
<tr><td align="left">Multiprocessing Services</td><td align="left">使用 <code>MPCreateTask</code> 函数创建线程时可以传入栈尺寸。</td></tr>
</tbody></table>
<h3 id="配置-tlsthread-local-storage"><a class="header" href="#配置-tlsthread-local-storage">配置 TLS(Thread-Local Storage)</a></h3>
<p>每个线程都维护了一个存储键值对的字典，在线程内随处都能存取。可以用它<strong>记录一些贯穿于线程执行过程中的信息，比如 run loop 迭代次数。</strong></p>
<p>Cocoa 与 POSIX 存储线程字典的方式不同，所以两种技术的 API 不能混用。始终用其中一种技术。</p>
<p>具体方式如下：</p>
<ul>
<li>Cocoa: <code>Thread</code> 的 <a href="https://developer.apple.com/documentation/foundation/thread/1411433-threaddictionary"><code>threadDictionary</code></a> 方法获取 <code>NSMutableDictionary</code> 字典对象，然后进行存取。</li>
<li>POSIX: 直接用 <code>pthread_setspecific</code> 和 <code>pthread_getspecific</code> 函数存取字典。</li>
</ul>
<h3 id="设置线程的-detached-状态"><a class="header" href="#设置线程的-detached-状态">设置线程的 Detached 状态</a></h3>
<p>大部分高级线程技术创建的线程默认都是 detached 状态，这是因为大部分场景下都需要系统在线程执行完成后立刻回收资源。好处是代码干净，是否获取线程执行结果可以自行决定。</p>
<p>joinable 线程需要其他线程调用 <code>pthread_join</code> 函数对其进行 join 操作之后才能被系统回收资源。joinable 线程可以向 <code>pthread_exit</code> 函数传入数据，其他线程可以在调用 <code>pthread_join</code> 函数的时候获得此数据。参考 <a href="https://stackoverflow.com/questions/8513894/pthread-join-and-pthread-exit">pthread_join() and pthread_exit()</a>。</p>
<p>应用退出时，detached 线程可以立刻结束，但是 joinable 线程必须全都被 join 后进程才能退出。<strong>因此 joinable 线程适用于执行不能中断的重要工作，比如向磁盘写入数据。</strong></p>
<p>只能用 POSIX API 来创建 joinable 线程，如果不设置线程属性，默认就是 joinable 线程。可以在创建线程之前调用 <code>pthread_attr_setdetachstate</code> 函数修改线程 detached 状态。在线程开始运行之后，可以调用 <code>pthread_detach</code> 函数将一个 joinable 线程变成 detached 线程。</p>
<h3 id="设置线程优先级"><a class="header" href="#设置线程优先级">设置线程优先级</a></h3>
<p>任何新创建的线程都有个默认优先级。内核的调度算法在决定运行哪个线程的时候都会考虑到线程优先级，优先级越高越可能先运行。<strong>拥有更高优先级的线程并不保证有特定的运行时间，只是在与低优先级线程比较时更容易被调度算法选中罢了。</strong></p>
<p><strong>最好让你创建的线程保持默认优先级</strong>。提升一些线程的优先级也会提升低优先级线程饥饿的可能性。如果高优先级线程和低优先级线程之间有交互，低优先级线程饥饿可能会阻塞其他线程，并造成性能瓶颈。(<strong>优先级倒置</strong>)</p>
<p>设置线程优先级的方式如下：</p>
<ul>
<li>Cocoa: <code>Thread</code> 的 <code>setThreadPriority:</code> 类方法可以设置当前线程的优先级。</li>
<li>POSIX: <code>pthread_setschedparam</code> 函数设置优先级。</li>
</ul>
<h2 id="编写线程入口程序"><a class="header" href="#编写线程入口程序">编写线程入口程序</a></h2>
<p>各平台上的线程入口函数结构都差不多，一般都会初始化数据结构，执行一些工作，或者使用 run loop 保活，最后在工作完成后清理占用的资源。这里讲一下编写线程入口程序需要做的一些额外步骤。</p>
<h3 id="创建自动释放池"><a class="header" href="#创建自动释放池">创建自动释放池</a></h3>
<p>使用 Objective-C 框架的应用必须<strong>确保每条线程至少有一个自动释放池</strong>。</p>
<p>使用 <code>@autoreleasepool</code> 创建自动释放池比 <code>NSAutoreleasePool</code> 更方便。而且 <code>NSAutoreleasePool</code> 不能在 ARC 下使用。</p>
<pre><code class="language-swift">@objc func myThreadMainMethod() {
    autoreleasepool {
        // Do thread work here
    }
}
</code></pre>
<p>有时需要创建更多的自动释放池，比如在循环内部使用自动释放池降低内存开销。</p>
<h3 id="设置-exception-handler"><a class="header" href="#设置-exception-handler">设置 Exception Handler</a></h3>
<p>未被捕获的异常会导致应用崩溃，虽然最好应该在异常发生的地方进行异常处理，但是在线程的入口函数再加上个 try/catch 比较好。</p>
<p>更多内容参考： <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Exceptions/Exceptions.html#//apple_ref/doc/uid/10000012i">Exception Programming Topics</a></p>
<h3 id="设置-run-loop"><a class="header" href="#设置-run-loop">设置 Run Loop</a></h3>
<p>编写线程上运行的代码有两种选择：</p>
<ol>
<li>代码简单粗暴，任务执行完线程就退出了；</li>
<li>设置线程的 run loop，处理不断到来的请求。</li>
</ol>
<p>macOS 和 iOS 内置了 run loop 的实现，应用的主线程自动开启 run loop。开发者创建的次级线程需要手动配置和开启 run loop。</p>
<p>更多内容参考：<a href="iOSDev/threading-programming/./run-loops.html">Run Loops</a></p>
<h2 id="终止线程"><a class="header" href="#终止线程">终止线程</a></h2>
<p>建议让线程的入口函数正常退出。虽然 Cocoa，POSIX 和 Multiprocessing Services 提供了直接杀线程的方法，但强烈不建议使用。<strong>强杀线程会导致无法回收资源，可能导致内存泄露、资源没被正确清理，进而导致后续的隐患</strong>。</p>
<p>如果预料到需要中途结束线程，设计线程之初就应该响应到取消或退出的消息。带有 run loop 这种周期操作的线程可以每次查看是否收到退出的消息。如果需要退出线程，则可以清理线程资源后退出；否则继续处理其他工作。</p>
<p>run loop 可以使用 input source 接受其他线程发的消息，但需要为 <code>RunLoop</code> 配置 <code>CFRunLoopSourceRef</code>，假设这部分代码在 <code>myInstallCustomInputSource</code> 已经实现好了。下面的代码还省略了 <code>while</code> 主循环中做的实际工作。将标记是否需要退出线程的局部变量 <code>exitNow</code> 的值放在 TLS 中同步是为了方便 input source 的事件处理函数对 <code>exitNow</code> 的存取，因为事件处理是在另外一个函数，不能直接存取 <code>exitNow</code>，需要利用 <a href="iOSDev/threading-programming/thread-management.html#%E9%85%8D%E7%BD%AE-tlsthread-local-storage">TLS</a>。当 input source 收到退出消息后，对应的事件处理函数便可以清理线程的资源，准备退出。</p>
<pre><code class="language-swift">@objc func threadMainRoutine() {
    autoreleasepool {
        var moreWorkToDo = true
        var exitNow = false
        let runLoop = RunLoop.current

        // Add the exitNow BOOL to the thread dictionary.
        let threadDict = Thread.current.threadDictionary
        threadDict.setValue(exitNow, forKey: &quot;ThreadShouldExitNow&quot;)

        // Install an input source.
        self.myInstallCustomInputSource()

        while moreWorkToDo &amp;&amp; !exitNow {
            // Do one chunk of a larger body of work here.
            // Change the value of the moreWorkToDo Boolean when done.

            // Run the run loop but timeout immediately if the input source isn't waiting to fire.
            runLoop.run(until: Date())

            exitNow = threadDict.value(forKey: &quot;ThreadShouldExitNow&quot;)
        }
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="run-loops-1"><a class="header" href="#run-loops-1">Run Loops</a></h1>
<p>Run Loop 作为线程相关基础设施的一部分，充当着<strong>循环处理</strong>、<strong>调度事件/消息</strong>的角色。它使得线程不会执行完单个任务后就立刻结束，而是让线程在没有任务时保持休眠状态，在需要处理消息时被立刻唤醒。</p>
<p>Run Loop 其实是个对象，但不需要主动去创建它，而且<strong>每个线程都有对应的 run loop 对象</strong>。Run Loop 的管理机制并不完全是自动的，有时需要设计好 run loop 的运行时间和事件处理回调。<strong>次级线程需要开发者手动去配置并运行它的 run loop</strong>，在应用启动过程中<strong>主线程的 run loop 已经自动配置并运行</strong>了。</p>
<p>Run Loop 作为苹果提供的 <a href="https://en.wikipedia.org/wiki/Event_loop">Event Loop</a> 机制的实现方案，在 Cocoa 和 Core Foundation 有两个对应的类：<a href="https://developer.apple.com/documentation/foundation/runloop"><code>RunLoop</code></a> 和 <a href="https://developer.apple.com/documentation/corefoundation/cfrunloop"><code>CFRunLoop</code></a>。</p>
<h2 id="run-loop-剖析"><a class="header" href="#run-loop-剖析">Run Loop 剖析</a></h2>
<p>Run Loop 可能需要开发者自己写 <code>while</code> 或 <code>for</code> 循环，并在里面驱动 run loop 对象运行，每轮运行都会处理接收到事件的回调。</p>
<p>Run Loop 接收的<strong>事件来源 (source)</strong> 有两种。</p>
<ul>
<li><strong>Input Source</strong> 传送来自其他应用或线程的异步事件/消息；</li>
<li><strong>Timer Source</strong> 传送的是基于定时器的同步事件，可以定时或重复发送。</li>
</ul>
<p>下图展示了 run loop 与多种 source 的概念架构。运行 <code>RunLoop</code> 实例的方式有三种，<a href="https://developer.apple.com/documentation/foundation/runloop/1415778-run"><code>run(until:)</code></a> 方法是其中的一种，后面会讲。<strong>Input Source 发送的异步事件产生的回调会使 <code>run(until:)</code> 退出；Timer Source 则不会。</strong></p>
<p><img src="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Multithreading/Art/runloop.jpg" alt="Structure of a run loop and its sources" /></p>
<p>Run Loop 的一些行为会发通知，开发者可以注册成为 run-loop 观察者 (observer)。</p>
<p>Input Source, Timer Source, Run Loop Observer 统称为 Mode Item，这里的 Mode 指的是 Run Loop Mode。一个 Run Loop 包含若干个 Mode，每个 Mode 又包含若干个 Item。Item 与 Mode 是多对多的关系，没有 Item 的 Model 会立刻退出。</p>
<p>下面几节会详细讲述上面提到的这些概念。</p>
<h4 id="run-loop-modes"><a class="header" href="#run-loop-modes">Run Loop Modes</a></h4>
<p>Run Loop Mode 包含了<strong>需要被监听的 input source 和 timer 集合，以及需要接收通知的 observer 集合</strong>。Run loop 的每次运行都会处在某个特定模式下，而且<strong>只有这个模式所包含的 item 集合才会参与发送事件(被监听)和接收通知</strong>。</p>
<p>开发者使用 run loop mode 时直接指定名字就行，Cocoa 和 Core Foundation 定义了一些默认和常用的 Mode。Run Loop Mode 对应的类是 <code>CFRunLoopModeRef</code>，但是并没有作为公有 API 开放出来，但可以通过 Core Foundation <a href="https://github.com/apple/swift-corelibs-foundation/blob/master/CoreFoundation/RunLoop.subproj/CFRunLoop.c#L658">源码</a>了解下:</p>
<pre><code class="language-c">typedef struct __CFRunLoopMode *CFRunLoopModeRef;

struct __CFRunLoopMode {
    CFRuntimeBase _base; // CF 的基石，遍地可见
    pthread_mutex_t _lock; // 确保 CF 中的 Run Loop 线程安全
    CFStringRef _name; // Mode 的名字，比如 kCFRunLoopDefaultMode
    Boolean _stopped; 
    char _padding[3];
    CFMutableSetRef _sources0; // Input Sources 中的 Custom Input Source 集合
    CFMutableSetRef _sources1; // Input Sources 中的 Port-Based Source 集合
    CFMutableArrayRef _observers; // Run Loop Observers 数组
    CFMutableArrayRef _timers; // Timer Sources 数组
    CFMutableDictionaryRef _portToV1SourceMap; // 端口(port)与 sources1 的映射表
    __CFPortSet _portSet; // 端口集合
... 省略后面源码
};
</code></pre>
<p>Core Foundation 中所有实例都以 <code>CFRuntimeBase</code> 开始，仅限于内部使用。通过<a href="https://github.com/apple/swift-corelibs-foundation/blob/c5c35c1a59b0a9a05b2e1ffbf8a7bab0a3e59baa/CoreFoundation/Base.subproj/CFRuntime.h#L185">它的结构</a>可以看出这里面保存了一些基本信息，比如 isa 指针，retainCount 等。</p>
<pre><code class="language-c">/* All CF &quot;instances&quot; start with this structure.  Never refer to
 * these fields directly -- they are for CF's use and may be added
 * to or removed or change format without warning.  Binary
 * compatibility for uses of this struct is not guaranteed from
 * release to release.
 */
#if DEPLOYMENT_RUNTIME_SWIFT

typedef struct __attribute__((__aligned__(8))) __CFRuntimeBase {
    // This matches the isa and retain count storage in Swift
    uintptr_t _cfisa;
    uintptr_t _swift_rc;
    // This is for CF's use, and must match __NSCFType/_CFInfo layout
    _Atomic(uint64_t) _cfinfoa;
} CFRuntimeBase;

#define INIT_CFRUNTIME_BASE(...) {0, _CF_CONSTANT_OBJECT_STRONG_RC, 0x0000000000000080ULL}

#else

typedef struct __CFRuntimeBase {
    uintptr_t _cfisa;
#if TARGET_RT_64_BIT
    _Atomic(uint64_t) _cfinfoa;
#else
    _Atomic(uint32_t) _cfinfoa;
#endif
} CFRuntimeBase;
</code></pre>
<p>不同 Mode 直接是靠事件的来源 (Source) 区分的，而不是事件的类型。比方说 Mode 不能只搭配鼠标点击事件或键盘事件，但可以让某个 Mode 监听一些端口、暂停 timer、修改 source 和 observer 等。</p>
<p>下面的表格列出了<a href="https://developer.apple.com/documentation/foundation/runloop/run_loop_modes">一些系统定义的 Mode</a>，大多数情况下会使用 Default Mode。<a href="http://iphonedevwiki.net/index.php/CFRunLoop">iphonedevwiki</a> 列出了 Core Foundation 中更多的 Mode，很多是系统私有的。使用不同的 Mode 可以过滤不同 Source 发出的事件，比如在要求时效性操作的场景下使用自定义 Mode 来阻止低优先级 Source 发送事件。</p>
<table><thead><tr><th align="left">Mode</th><th align="left">名称</th><th align="left">描述</th></tr></thead><tbody>
<tr><td align="left">Default</td><td align="left">NSDefaultRunLoopMode (Cocoa), kCFRunLoopDefaultMode (Core Foundation)</td><td align="left">大多数操作下最常用的 Mode，运行 Run Loop 和配置 Source 的首选</td></tr>
<tr><td align="left"><del>Connection</del></td><td align="left"><del>NSConnectionReplyMode (Cocoa)</del></td><td align="left"><del>Cocoa 中结合 NSConnection 使用，用于监听回复(Reply)，极少用到。(已弃用)</del></td></tr>
<tr><td align="left">Modal</td><td align="left">NSModalPanelRunLoopMode (Cocoa)</td><td align="left">Cocoa 中 modal panel 使用它接收与之相关 Source 的事件</td></tr>
<tr><td align="left">Event tracking</td><td align="left">NSEventTrackingRunLoopMode (Cocoa), UITrackingRunLoopMode (Cocoa Touch)</td><td align="left">Cocoa 用它限定鼠标拖拽事件之类的用户交互轨迹</td></tr>
<tr><td align="left">Common modes</td><td align="left">NSRunLoopCommonModes (Cocoa), kCFRunLoopCommonModes (Core Foundation)</td><td align="left">可配置的通用模式集合，将某个 Input Source 关联到此 Mode 也会将其关联到集合中所有 Mode。Cocoa 框架中的 Common modes 默认包含 Default, Modal, Event tracking 三种 Mode；CF 框架起初只包含 Default，可以使用 <code>CFRunLoopAddCommonMode</code>函数向集合中添加自定义 Mode。</td></tr>
</tbody></table>
<h4 id="input-sources"><a class="header" href="#input-sources">Input Sources</a></h4>
<p>Input Sources 有两种实现：</p>
<ul>
<li>基于端口(Port-based)</li>
<li>自定义(Custom)</li>
</ul>
<p>它们<strong>都向线程异步分发事件</strong>，而<strong>唯一的不同就是分发信号（signal）的方式</strong>。基于端口的事件源会<strong>自动由内核发信号</strong>，自定义事件源需要<strong>被其他线程手动发信号</strong>。</p>
<p>Input Source 会被添加到一些 Mode 中，<strong>如果某个 input source 不在当前的 Mode 中，那么它生成的事件在 run loop 处于正确的 mode 之前会先被 hold 住</strong>。</p>
<h5 id="port-based-sourcessource1"><a class="header" href="#port-based-sourcessource1">Port-Based Sources(Source1)</a></h5>
<p>Cocoa 和 Core Foundation 使用<strong>端口相关的对象和函数提供了对创建基于端口的事件源的内建支持</strong>。比如在 Cocoa 中，只需创建一个端口对象并使用 <a href="https://developer.apple.com/documentation/foundation/port"><code>Port</code></a> 的方法来向 run loop 添加端口。端口对象为你处理好了创建和配置 input source 的事情。</p>
<p>在 Core Foundation 中需要手动创建端口和 run loop source。涉及到的 API 有 <a href="https://developer.apple.com/documentation/corefoundation/cfmachport-rsc"><code>CFMachPort</code></a>, <a href="https://developer.apple.com/documentation/corefoundation/cfmessageport-rs2"><code>CFMessagePort</code></a> , <a href="https://developer.apple.com/documentation/corefoundation/cfsocket-rg7"><code>CFSocketRef</code></a> 。</p>
<h5 id="custom-input-sourcessource0"><a class="header" href="#custom-input-sourcessource0">Custom Input Sources(Source0)</a></h5>
<p>只能使用 Core Foundation 中的 <a href="https://developer.apple.com/documentation/corefoundation/cfrunloopsource-rhr"><code>CFRunLoopSource</code></a> 相关函数来创建自定义事件源。在处理到来的事件、从 run loop 移除 source 后都会有函数回调，可以通过实现这些回调函数来配置 source。</p>
<p>除此之外还需定义事件分发机制。source 有一部分是在单独的线程运行的，负责为 input source 提供数据，并在数据准备好后对 source 发信号。事件分发机制取决于开发者，但别弄得太过复杂。</p>
<h5 id="cocoa-perform-selector-sources"><a class="header" href="#cocoa-perform-selector-sources">Cocoa Perform Selector Sources</a></h5>
<p>Cocoa 定义了一种在任何线程执行 <code>selector</code> 的 custom input source。与基于端口的事件源相同之处是在目标线程依次执行 <code>selector</code>，缓解了一条线程运行多个方法时可能发生的同步问题；不同之处在于 <code>selector</code> 执行后会将 source 从 run loop 挪走。</p>
<p>在任意线程 perform selector 的前置条件是线程必须有一个活跃的 run loop。对于自己创建的线程，<code>selector</code> 直到启动 run loop 之后才会运行；主线程会自动配置并运行 run loop，然而要在应用的 <code>applicationDidFinishLaunching:</code> delegate 方法调用后才生效。Run Loop <strong>每次循环会处理队列中所有的 <code>selector</code>，而不是循环一次处理一个</strong>。</p>
<p>下表中列出了 <code>NSObject</code> 类提供的在任何线程执行 <code>selector</code> 的 API。在任何线程下，只要能拿到 Objective-C 对象就能使用下面的 API，包括 POSIX 线程。这些方法并不会为了执行 <code>selector</code> 真的去创建一个新线程。</p>
<table><thead><tr><th align="left">方法</th><th align="left">描述</th></tr></thead><tbody>
<tr><td align="left"><code>performSelectorOnMainThread:withObject:waitUntilDone:</code>, <code>performSelectorOnMainThread:withObject:waitUntilDone:modes:</code></td><td align="left">在应用主线程 run loop 的下次循环执行特定的 <code>selector</code>，并提供了选项可以在执行 <code>selector</code> 之前阻塞当前线程。</td></tr>
<tr><td align="left"><code>performSelector:onThread:withObject:waitUntilDone:</code>, <code>performSelector:onThread:withObject:waitUntilDone:modes:</code></td><td align="left">在任意 <code>NSThread</code> 对象执行 <code>selector</code>，同上。</td></tr>
<tr><td align="left"><code>performSelector:withObject:afterDelay:</code>, <code>performSelector:withObject:afterDelay:inModes:</code></td><td align="left">在当前线程 run loop 的下次循环延迟一段时间执行 <code>selector</code>。因为需要等到下次 run loop 循环才会依次执行队列中的 <code>selector</code>，所以本身就会有一点延时。</td></tr>
<tr><td align="left"><code>cancelPreviousPerformRequestsWithTarget:</code>, <code>cancelPreviousPerformRequestsWithTarget:selector:object:</code></td><td align="left">取消 <code>performSelector:withObject:afterDelay:</code> 或 <code>performSelector:withObject:afterDelay:inModes:</code> 方法向当前线程发送的消息。</td></tr>
</tbody></table>
<h4 id="timer-sources"><a class="header" href="#timer-sources">Timer Sources</a></h4>
<p>Timer source 会在未来一个预定时间向线程同步分发事件。线程可以用 Timer 来通知自己做一些事情。比如用户在搜索栏输入一连串字符之后的某个时间自动搜索一次结果。正是因为有了个延时，才让用户有机会在自动搜索发生前尽可能打出想要的搜索字符串。</p>
<p>Timer 并不是实时的，会有误差。如果一个 timer 不在正在运行的 run loop 监控的 mode 中，需要一直等到 run loop 运行在一个支持这个 timer 的 mode 时，timer 才会触发。如果一个 timer 触发的时候恰巧 run loop 正忙于执行某个 handler 程序，这个 timer 的 handler 程序需要等到下次才会通过 run loop 执行。如果 run loop 根本不在运行，timer 永远都不会触发。</p>
<p>可以配置 timer 只生成一次或重复多次事件。重复的 timer 每次会根据已经编排的触发时间自动重新编排。如果实际的触发时间太过于延迟，甚至是晚了一个或多个周期，那么也只会触发一次，而非连续多次。之后会重新编排下次触发时间。</p>
<p><a href="https://developer.apple.com/documentation/foundation/timer"><code>Timer</code></a> 和 <a href="https://developer.apple.com/documentation/corefoundation/cfrunlooptimer-rhk"><code>CFRunLoopTimer</code></a> 是 <a href="https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFDesignConcepts/Articles/tollFreeBridgedTypes.html#//apple_ref/doc/uid/TP40010677">toll-free bridged</a> 的，设置好时间和回调函数后加到正在运行的 run loop 中即可。</p>
<h4 id="run-loop-observers"><a class="header" href="#run-loop-observers">Run Loop Observers</a></h4>
<p>不同于 source 在同步或异步事件发生时触发，observer 会在 run loop 运行期间的某些特殊地方触发。这些 run loop 中『特殊』的地方列举如下：</p>
<ol>
<li>进入 run loop</li>
<li>当 run loop 即将处理一个 timer</li>
<li>当 run loop 即将处理一个 input source</li>
<li>当 run loop 即将休眠</li>
<li>当 run loop 已经被唤醒，但在它处理唤醒它的事件之前</li>
<li>退出 run loop</li>
</ol>
<p>可以使用 Core Foundation 的 <a href="https://developer.apple.com/documentation/corefoundation/cfrunloopobserver-ri3"><code>CFRunLoopObserver</code></a> 类创建 run loop observer。<code>CFRunLoopObserver</code> 记录了回调函数和关注的事件类型（上面 6 种时间的掩码），它跟 timer 一样可以在创建的时候选择只触发一次或重复触发。</p>
<h4 id="run-loop-事件顺序"><a class="header" href="#run-loop-事件顺序">Run Loop 事件顺序</a></h4>
<p>线程的 run loop 每次运行都会处理待决的事件，并为绑定的所有 observer 生成通知。次序如下：</p>
<ol>
<li>通知 observer 已经进入 run loop</li>
<li>通知 observer 有 timer 将要触发</li>
<li>通知 observer 有非基于端口的 input source 将要触发</li>
<li>触发所有已就绪的非基于端口的 input source</li>
<li>如果一个基于端口的 input source 已就绪并等待触发，立即处理事件，并转至<strong>第 9 步</strong></li>
<li>通知 observer 线程即将休眠</li>
<li>让线程休眠，直到被以下条件唤醒：
<ul>
<li>有基于端口的 input source 事件到达</li>
<li>timer 触发</li>
<li>run loop 设定的超时时间到了</li>
<li>run loop 被手动唤醒</li>
</ul>
</li>
<li>通知 observer 线程刚刚被唤醒</li>
<li>处理待决事件
<ul>
<li>如果用户定义的 timer 触发了，处理 timer 事件并重启 run loop，跳回到<strong>第 2 步</strong></li>
<li>如果 input source 触发了，分发事件</li>
<li>如果 run loop 被唤醒且没有超时，重启 run loop，跳回到<strong>第 2 步</strong></li>
</ul>
</li>
<li>通知 observer 已经退出 run loop</li>
</ol>
<p>由于 timer 和 input source 对 observer 的通知是在事件真正发生前就已经发出，所以这之间会有时间间隔。如果对事件时间的掌控很严格，可以使用休眠和唤醒的通知帮你关联实际事件的时机。</p>
<p>由于 timer 和其他周期性事件是在运行 run loop 的时候发送的，<strong>绕过 loop 会打断这些事件的发送</strong>。典型的案例就是在实现鼠标追踪程序中写了个不断从应用请求事件的循环逻辑，按理说应该是让应用正常地分发这些事件，而不是主动抓取。这就导致 timer 被开发者写的循环逻辑阻塞而一直无法触发。</p>
<p>可以使用 run loop 对象将其手动唤醒，其他事件也可能导致 run loop 被唤醒。比如添加另一个非基于端口的 input source 唤醒 run loop，input source 就能立刻被处理，而不是一直等到其他事件发生。</p>
<h3 id="该何时使用-run-loop"><a class="header" href="#该何时使用-run-loop">该何时使用 Run Loop？</a></h3>
<p>需要手动运行 run loop 的场景只有一个，那就是你创建次级线程的时候。应用主线程的 run loop 是基础设施中至关重要的部分。应用框架会把自动运行主线程 run loop 的程序写好，比如 <code>UIApplication</code> 或 <code>NSApplication</code> 中的 <code>run</code>。如果使用 Xcode 带的模板创建工程，千万不要去调用这些方法。</p>
<p>对于次级线程是否有必要手动开启 run loop，那要看实际情况了。比如使用线程执行一些预先设定好的运行时间较长的任务，可能就不需要开启 run loop 了。Run Loop 是为**『想要与线程更多交互』**的场景准备的，例如：</p>
<ul>
<li>使用 input source 与其他线程通信</li>
<li>在线程中使用 timer</li>
<li>在 Cocoa 应用中使用任何 <code>performSelector...</code> 系列的方法</li>
<li>让线程执行周期性任务</li>
</ul>
<p>如果选择使用 run loop，配置和启动是很简单的。可是对所有的线程编程而言，应该计划好在合适的场景下退出次级线程，这比强行退出要好。</p>
<h3 id="使用-run-loop-对象"><a class="header" href="#使用-run-loop-对象">使用 Run Loop 对象</a></h3>
<p>Run Loop 对象提供了向 run loop 中添加 input source、timer 和 run-loop observer 的主要接口，并运行起来。**每个线程都关联一个单独的 run loop。**在 Cocoa 中，Run Loop 对象是个 <code>RunLoop</code> 类的实例，在 Core Foundation 中是 <code>CFRunLoop</code> 指针。但它们不是 toll-free bridge 的。</p>
<h4 id="获取-run-loop-对象"><a class="header" href="#获取-run-loop-对象">获取 Run Loop 对象</a></h4>
<p>获取当前线程的 run loop 对象有两种方式：</p>
<ul>
<li>Cocoa 框架 <code>RunLoop</code> 的类属性 <a href="https://developer.apple.com/documentation/foundation/runloop/1412291-current"><code>current</code></a></li>
<li><code>CFRunLoopGetCurrent</code> 函数</li>
</ul>
<p>可以从 <code>RunLoop</code> 对象的 <code>getCFRunLoop</code> 方法获取到 <code>CFRunLoop</code>，这样就可以传给 Core Foundation 程序使用了。二者都指向同一个 run loop，所以可以混用。</p>
<h4 id="配置-run-loop"><a class="header" href="#配置-run-loop">配置 Run Loop</a></h4>
<p>在次级线程运行 run loop 之前，必须向其添加至少一个 input source 或 timer，否则 run loop 会因没有可监控的 source 而在运行后立刻退出。</p>
<p>除了用 source 外，还可以用 run loop observer 观察 run loop 的各种运行阶段。做法是创建一个 <code>CFRunLoopObserver</code> 类型的对象并用 <code>CFRunLoopAddObserver</code> 函数将其添加到 run loop 中。注意的是只能用 Core Foundation 创建 run loop observer，Cocoa 框架无能为力。</p>
<p>下面的示例代码在线程入口函数中创建了 run loop observer 并将其添加到 run loop 中。observer 监听了 run loop 所有的活动，并省略了回调函数 <code>myRunLoopObserver</code> 的实现。</p>
<pre><code class="language-swift">@objc func threadMain() {
    autoreleasepool() {
        let myRunLoop = RunLoop.current

        // Create a run loop observer and attach it to the run loop.
        let context = CFRunLoopObserverContext(version: 0, info: self, retain: nil, release: nil, copyDescription: nil)
        if let observer = CFRunLoopObserverCreate(kCFAllocatorDefault, CFRunLoopActivity.allActivities.rawValue, true, 0, &amp;myRunLoopObserver, &amp;context) {
            let cfLoop = myRunLoop.getCFRunLoop()
            CFRunLoopAddObserver(cfLoop, observer, .defaultMode)
        }
        // Create and schedule the timer.
        Timer.scheduledTimer(timeInterval: 0.1, target: self, selector: #selector(doFireTimer), userInfo: nil, repeats: true)
        var loopCount = 10
        while loopCount &gt; 0 {
            myRunLoop.run(until: Date(timeIntervalSinceNow: 1))
            loopCount -= 1
        }
    }
}
</code></pre>
<p>为了不让 run loop 刚运行就立刻退出，上面的代码向 run loop 添加了一个 timer。因为 timer 一旦触发就无效了，依然会导致 run loop 退出，所以这里 <code>repeats</code> 参数传入 <code>YES</code>。但这样会让 run loop 一直运行很久，并需要周期性触发 timer 来唤醒线程，这实际上是轮询的另一种形式罢了。相反，输入源等待事件发生，让线程一直处于休眠状态，直到事件发生再唤起。</p>
<p><a href="https://github.com/apple/swift-corelibs-foundation/blob/05b5a05fa4f3be28eb1fd16203b34286ccc7d541/CoreFoundation/RunLoop.subproj/CFRunLoop.h#L131"><code>CFRunLoopObserverContext</code></a> 结构体定义如下，查文档可知第二个参数 <code>info</code> 会在回调函数被调用时当做参数传入，这里传入 <code>self</code>。</p>
<pre><code class="language-c">typedef struct {
    CFIndex	version;
    void *	info;
    const void *(*retain)(const void *info);
    void	(*release)(const void *info);
    CFStringRef	(*copyDescription)(const void *info);
} CFRunLoopObserverContext;
</code></pre>
<h4 id="启动-run-loop"><a class="header" href="#启动-run-loop">启动 Run Loop</a></h4>
<p>只有在应用的次级线程才需要启动 run loop，而且需要有至少一个 input source 或 timer，否则 run loop 启动后会立刻退出。</p>
<p>启动 run loop 的几种方式包括：</p>
<ul>
<li>无条件：</li>
<li>设定时间限制</li>
<li>处于特定模式（Mode）</li>
</ul>
<table><thead><tr><th align="left">方式</th><th align="left">方法名(NSRunLoop)</th><th align="left">解释</th></tr></thead><tbody>
<tr><td align="left">无条件</td><td align="left">run</td><td align="left">最简单但也最不可取的方案。会让线程进入无限循环，对 run loop 很难控制。可以添加和移除 input source 和 timer，但只能通过 kill 的方式停止 run loop。也无法在自定义模式下运行 run loop。</td></tr>
<tr><td align="left">设定时间限制</td><td align="left">runUntilDate:</td><td align="left">run loop 在收到事件或超时前会一直运行。run loop 结束后可以重启，并处理接下来的事情。比上一种方式更好，提供了时间限制。</td></tr>
<tr><td align="left">处于特定模式</td><td align="left">runMode:beforeDate:</td><td align="left">相比上一种方式，增加了在特定模式下运行 run loop。</td></tr>
</tbody></table>
<p><code>run</code> 和 <code>runUntilDate:</code> 方法会使用 <code>NSDefaultRunLoopMode</code> 参数不断调用 <code>runMode:beforeDate:</code> 方法。</p>
<p>下面的代码展示了一个线程入口函数的大纲，主要是 run loop 的基本构成。本质上就是配置好 run loop 并运行后，每轮运行后不断检查是否需要退出线程。使用 Core Foundation 可以检查 run loop 每次运行的结果，并决定是否需要退出线程。当然也可以使用上面 <code>NSRunLoop</code> 提供的 API，而且无需检查每次运行的返回值。后面会有例子。</p>
<pre><code class="language-objective-c">- (void)skeletonThreadMain
{
    // Set up an autorelease pool here if not using garbage collection.
    BOOL done = NO;
 
    // Add your sources or timers to the run loop and do any other setup.
 
    do
    {
        // Start the run loop but return after each source is handled.
        SInt32    result = CFRunLoopRunInMode(kCFRunLoopDefaultMode, 10, YES);
 
        // If a source explicitly stopped the run loop, or if there are no
        // sources or timers, go ahead and exit.
        if ((result == kCFRunLoopRunStopped) || (result == kCFRunLoopRunFinished))
            done = YES;
 
        // Check for any other exit conditions here and set the
        // done variable as needed.
    }
    while (!done);
 
    // Clean up code here. Be sure to release any allocated autorelease pools.
}
</code></pre>
<p>其实上面这段调用 <code>CFRunLoopRunInMode()</code> 的逻辑跟 <code>CFRunLoopRun()</code> 差不多。</p>
<p>可以递归启动 run loop。也就是说可以在 input source 或 timer 的回调处理函数中调用 <code>CFRunLoopRun</code>, <code>CFRunLoopRunInMode</code> 或上面提到的 <code>NSRunLoop</code> 的三个方法，而且嵌套的 run loop 可以在任意 Mode 下运行。</p>
<h4 id="退出-run-loop"><a class="header" href="#退出-run-loop">退出 Run Loop</a></h4>
<p>在 run loop 已经将事件处理之前有两种退出的方式：</p>
<ol>
<li>给 run loop 配置 timeout 值</li>
<li>告诉 run loop 停止</li>
</ol>
<p><strong>推荐第一种方法</strong>，因为它会让 run loop 完成一切正常的处理，包括在退出前向 observer 发通知。</p>
<p>使用 <code>CFRunLoopStop</code> 函数停止 run loop 的结果跟第一种方式差不多，run loop 会把剩下的通知发出去，然后退出。不同点在于可以用这个函数停止以无条件方式（<code>run</code> 方法）启动的 run loop。<strong>要注意的是 <code>CFRunLoopStop</code> 只会停止对 <code>CFRunLoopRun</code> 和 <code>CFRunLoopRunInMode</code> 的调用，对于 Cocoa 框架相当于只停止一次 <code>runMode:beforeDate:</code> 的调用，而不是退出 run loop。stop 一次运行和 exit 整个 run loop 是不一样的</strong>。</p>
<p>虽然移除 run loop 的 input source 和 timer 也会导致其退出，但<strong>这种方法不可靠</strong>。因为<strong>有些系统程序会向 run loop 中添加 input source，开发者根本不知道有这回事</strong>，移除的时候就会漏掉，自然就不会导致 run loop 退出。</p>
<h4 id="线程安全和-run-loop-对象"><a class="header" href="#线程安全和-run-loop-对象">线程安全和 Run Loop 对象</a></h4>
<p>使用 Core Foundation 中的函数操作 run loop 对象一般都是线程安全的，可以在任何线程调用。如果要更改 run loop 的配置，尽可能在 run loop 自己的线程操作。</p>
<p>Cocoa 中对应的 <code>NSRunLoop</code> 内部并不是线程安全的，必须在 run loop 所在的线程修改它。向其他线程的 run loop 添加 input source 或 timer 都会导致 crash 或异常行为。</p>
<p>// TODO:</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="线程同步"><a class="header" href="#线程同步">线程同步</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="性能优化"><a class="header" href="#性能优化">性能优化</a></h1>
<blockquote>
<p>极致，永无止境</p>
</blockquote>
<h2 id="apple-wwdc--文档"><a class="header" href="#apple-wwdc--文档">Apple WWDC &amp; 文档</a></h2>
<ul>
<li>
<p><a href="https://developer.apple.com/videos/play/wwdc2018/405">WWDC - Measuring Performance Using Logging</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/videos/play/tech-talks/10855/">Explore UI animation hitches and the render loop - Tech Talks - Videos - Apple Developer</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/videos/play/tech-talks/10856">Find and fix hitches in the commit phase - Tech Talks - Videos - Apple Developer</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/videos/play/tech-talks/10857">Demystify and eliminate hitches in the render phase - Tech Talks - Videos - Apple Developer</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/documentation/xcode/reducing-your-app-s-size">Reducing Your App’s Size</a></p>
</li>
</ul>
<h3 id="内存"><a class="header" href="#内存">内存</a></h3>
<ul>
<li>
<p><a href="https://developer.apple.com/videos/play/wwdc2021/10180/">Detect and diagnose memory issues - WWDC21</a></p>
<ul>
<li>Perfermance XCTests collections
<ul>
<li>Ktrace files</li>
<li>Memory graph</li>
</ul>
</li>
<li>MetricKit &amp; Xcode Orgernizer</li>
<li>Issues to look
<ul>
<li>Leaks</li>
<li>Heap size issues
<ul>
<li>Heap allocation regression
<ul>
<li><code>vmmap -summary ./PathToXXXXX.memgraph</code></li>
<li><code>heap -diffFrom=PathToXXXPre.memgraph PathToXXXPost.memgraph</code></li>
<li><code>heap -addresses=non-object[500k-] PathToXXX.memgraph</code></li>
<li><code>leaks --trackTree=0x1138XXXX PathToXXX.memgraph</code></li>
<li><code>leaks --referenceTree --groupByType PathToXXX.memgraph</code></li>
<li><code>malloc_history -fullStacks PathToXXX.memgraph 0x1138XXXX</code></li>
</ul>
</li>
<li>Fragmentation
<ul>
<li>Allocate object with similar lifetimes close to each other</li>
<li>Aim for 25% fragmentation or less</li>
<li>Use autorelease pools</li>
<li>Pay extra attention to long running processes</li>
<li>Use allocations track in Instruments
<ul>
<li>ref: Getting Started with Instruments</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="https://developer.apple.com/videos/play/wwdc2019/411">Getting Started with Instruments - WWDC19</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/videos/play/wwdc2018/416">iOS Memory Deep Dive - WWDC18</a></p>
</li>
</ul>
<h3 id="包大小"><a class="header" href="#包大小">包大小</a></h3>
<ul>
<li><a href="https://imageoptim.com/howto.html">ImageOptim</a> - 图片资源大小、加载优化工具</li>
<li><a href="https://github.com/wuba/WBBlades">WBBlades</a> - 基于 Mach-O文件 解析的工具集，包括无用代码检测、包大小分析等</li>
</ul>
<h2 id="书籍"><a class="header" href="#书籍">书籍</a></h2>
<ul>
<li>《高性能 iOS 应用开发》- 各方面的性能衡量到工程实践
<blockquote>
<p>注：看完本书不久，其中一位译者成为了我的 leader 😄</p>
</blockquote>
</li>
</ul>
<h2 id="instrument-百宝箱"><a class="header" href="#instrument-百宝箱">Instrument 百宝箱</a></h2>
<ul>
<li><a href="https://help.apple.com/instruments/mac/current/">Instruments Help</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2020/10076">Xcode Organizer</a></li>
</ul>
<h2 id="链接-27"><a class="header" href="#链接-27">链接</a></h2>
<ul>
<li><a href="https://www.socpk.com/">移动芯片性能排行榜</a></li>
</ul>
<p><img src="iOSDev/./assets/%E7%A7%BB%E5%8A%A8%E8%8A%AF%E7%89%87%E7%BB%BC%E5%90%88%E5%A4%A9%E6%A2%AF%E5%9B%BE.webp" alt="移动芯片综合天梯图" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="编译优化"><a class="header" href="#编译优化">编译优化</a></h1>
<blockquote>
<p>欲速，且达。</p>
</blockquote>
<h2 id="链接-28"><a class="header" href="#链接-28">链接</a></h2>
<h3 id="cocoapods-优化"><a class="header" href="#cocoapods-优化">CocoaPods 优化</a></h3>
<ul>
<li>
<p><a href="https://github.com/swiftyfinch/Rugby">swiftyfinch/Rugby</a> - CocoaPods 缓存</p>
</li>
<li>
<p><a href="https://github.com/grab/cocoapods-binary-cache">grab/CocoaPods binary cache</a> - Grab 的 CocoaPods 二进制缓存</p>
</li>
<li>
<p><a href="https://github.com/MeetYouDevs/cocoapods-imy-bin">MeetYouDevs/cocoapods-imy-bincocoapods-imy-bin</a> - 美柚维护的 CocoaPods 二进制缓存</p>
</li>
<li>
<p><a href="https://github.com/leavez/cocoapods-binary">leavez/cocoapods-binary</a></p>
</li>
<li>
<p>方案汇总：</p>
<ul>
<li><a href="https://swiftyfinch.github.io/en/2021-03-09-rugby-story">🏈 Rugby: Optimise CocoaPods project | Swifty Finch</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/44280283">知乎 iOS 基于 CocoaPods 实现的二进制化方案</a></li>
<li><a href="https://triplecc.github.io/2019/01/21/%E5%9F%BA%E4%BA%8ECocoaPods%E7%9A%84%E7%BB%84%E4%BB%B6%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%96%E5%AE%9E%E8%B7%B5/">基于CocoaPods的组件二进制化实践</a></li>
<li><a href="https://tech.meituan.com/2019/08/08/the-things-behind-the-ios-project-zsource-command.html">美团 iOS 工程 zsource 命令背后的那些事儿</a> - 二进制调试</li>
</ul>
</li>
</ul>
<h3 id="objcio-编译工具专题"><a class="header" href="#objcio-编译工具专题">Objc.io 编译工具专题</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://www.objc.io/issues/6-build-tools/build-process/">编译过程</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.objc.io/issues/6-build-tools/compiler/">编译器</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.objc.io/issues/6-build-tools/mach-o-executables/">Mach-O 可执行文件</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://www.objc.io/issues/6-build-tools/cocoapods-under-the-hood/">深入理解 CocoaPods</a></li>
</ul>
<h3 id="wwdc"><a class="header" href="#wwdc">WWDC</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://developer.apple.com/videos/play/wwdc2018/415/">Behind the Scenes of the Xcode Build Process</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://developer.apple.com/videos/play/wwdc2018/408/">Building Faster in Xcode</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="视图布局"><a class="header" href="#视图布局">视图布局</a></h1>
<p>掌握视图布局方式，并理解背后的原理。</p>
<h2 id="链接-29"><a class="header" href="#链接-29">链接</a></h2>
<ul>
<li><a href="https://github.com/muukii/MondrianLayout">MondrianLayout</a> - 类似 SwiftUI 风格的视图布局库</li>
<li><a href="https://developer.apple.com/videos/play/wwdc2018/220">WWDC 220 Session High Performance Auto Layout</a></li>
<li><a href="https://constraints.cs.washington.edu/solvers/cassowary-tochi.pdf">The Cassowary Linear Arithmetic Constraint Solving Algorithm</a></li>
<li><a href="https://draveness.me/layout-performance/">从 Auto Layout 的布局算法谈性能</a></li>
<li><a href="https://yogalayout.com/">Facebook - Flexible Layouts with Yoga</a> - 跨平台 Flexbox 布局（C++）</li>
<li><a href="https://vislyhq.github.io/stretch/">Visly - Stretch</a> - 跨平台 Flexbox 布局（rust）</li>
<li><a href="https://github.com/linkedin/LayoutKit">LinkedIn - LayoutKit</a> - 快速视图布局库，声明式，写法类似 Flexbox（但不是，基于原生 frame）</li>
<li><a href="https://github.com/TextureGroup/Texture">TextureGroup - Texture</a> - 异步布局库</li>
<li><a href="https://github.com/square/Paralayout">square/Paralayout</a> - 精细布局工具集</li>
</ul>
<h3 id="视图组件库"><a class="header" href="#视图组件库">视图组件库</a></h3>
<ul>
<li><a href="https://github.com/QMUI/QMUI_iOS/">QMUI iOS</a> - 腾讯开源的“致力于提高项目 UI 开发效率的解决方案”</li>
</ul>
<h2 id="qa-2"><a class="header" href="#qa-2">Q&amp;A</a></h2>
<ol>
<li>Layout feedback loop 导致 OOM 问题的排查与解决？ </li>
</ol>
<ul>
<li>
<p><a href="https://www.appcoda.com/layout-feedback-loop/">Debugging Out of Memory Issues: Catching Layout Feedback Loop with the Runtime Magic</a></p>
<ul>
<li><a href="https://github.com/rsrbk/LayoutLoopHunter">代码</a></li>
</ul>
<details>
  <summary>笔记概览</summary>
  OOM 常见原因：
<ul>
<li>retain cycles;</li>
<li>race conditions;</li>
<li>abandoned threads;</li>
<li>deadlocks;</li>
<li>layout feedback loop.</li>
</ul>
<p>一般解决办法：</p>
<ul>
<li>Allocations and Leaks instruments for resolving retain cycles and other types of leaks</li>
<li>Memory Debugger which has been introduced in Xcode 8 and replaces some functionality from Allocations and Leaks instruments</li>
<li>Thread Sanitizers help you find race conditions, abandoned threads or deadlocks</li>
</ul>
</details>
</li>
<li>
<p><a href="https://www.hackingwithswift.com/articles/59/debugging-auto-layout-feedback-loops">Debugging Auto Layout feedback loops</a></p>
<details>
  <summary>笔记概览</summary>
<ol>
<li>Go to the Product menu, hold down Option, and choose “Run…”</li>
<li>Select the Arguments tab, and click + to add a new entry</li>
<li>For iOS apps enter <code>-UIViewLayoutFeedbackLoopDebuggingThreshold 100</code></li>
<li>For macOS apps enter <code>-NSViewLayoutFeedbackLoopDebuggingThreshold 100</code></li>
</ol>
</details>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swiftui"><a class="header" href="#swiftui">SwiftUI</a></h1>
<p>拥抱未来的跨 Apple 全平台的 UI 框架</p>
<h2 id="combine"><a class="header" href="#combine">Combine</a></h2>
<p><a href="https://heckj.github.io/swiftui-notes/">Using Combine</a></p>
<h2 id="链接-30"><a class="header" href="#链接-30">链接</a></h2>
<ul>
<li>
<p><a href="https://swiftontap.com/">SwiftOnTap</a> - 含示例的 SwiftUI 文档</p>
</li>
<li>
<p><a href="https://www.appcoda.com/learnswiftui/">Mastering SwiftUI by AppCoda</a></p>
</li>
<li>
<p><a href="https://github.com/ivanvorobei/SwiftUI">ivanvorobei/SwiftUI</a> - SwiftUI 示例项目集合</p>
</li>
<li>
<p><a href="https://github.com/jordansinger/SwiftUI-Kit">jordansinger/SwiftUI-Kit</a> - SwiftUI 示例</p>
</li>
<li>
<p><a href="https://github.com/Juanpe/About-SwiftUI">About-SwiftUI</a> - SwiftUI 资源集锦</p>
</li>
<li>
<p><a href="https://www.hackingwithswift.com/100/swiftui">100 Days of SwiftUI</a> - SwiftUI 100 天挑战</p>
</li>
<li>
<p><a href="https://fuckingswiftui.com">Fucking SwiftUI - Cheat Sheet</a> - SwiftUI 常用 API 备忘</p>
</li>
<li>
<p><a href="https://kean.blog/post/appkit-is-done">AppKit is Done</a> - SwiftUI macOS 开发经验分享</p>
<ul>
<li>源码：<a href="https://github.com/kean/Pulse">Pulse</a>, 结构化日志应用</li>
</ul>
</li>
</ul>
<h3 id="wwdc-1"><a class="header" href="#wwdc-1">WWDC</a></h3>
<ul>
<li><a href="https://developer.apple.com/tutorials/swiftui">SwiftUI Tutorials</a> - SwiftUI Apple 官方教程</li>
<li>SwiftUI on the Mac - WWDC21 编程临摹课程，开发 macOS App 变得更易上手了
<ul>
<li><input disabled="" type="checkbox" checked=""/>
10062: <a href="https://developer.apple.com/wwdc21/10062/">SwiftUI on the Mac: Build the Fundamentals</a></li>
<li><input disabled="" type="checkbox" checked=""/>
10289: <a href="https://developer.apple.com/wwdc21/10289/">SwiftUI on the Mac: The Finishing Touches</a></li>
<li>示例代码：<a href="https://developer.apple.com/documentation/swiftui/building_a_great_mac_app_with_swiftui">Building a Great Mac App with SwiftUI</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://developer.apple.com/cn/news/?id=yv6so7ie">小组件编程临摹课程</a></li>
</ul>
<h2 id="tips"><a class="header" href="#tips">Tips</a></h2>
<ul>
<li>
<p>了解 SwiftUI 更多的接口细节</p>
<p><code>swiftinterface</code> 文件定义了更多内容：</p>
<p><code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/System/Library/Frameworks/SwiftUI.framework/Modules/SwiftUI.swiftmodule</code></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="数据库-1"><a class="header" href="#数据库-1">数据库</a></h1>
<p>让移动应用更强·大。</p>
<h2 id="链接-31"><a class="header" href="#链接-31">链接</a></h2>
<ul>
<li><a href="https://github.com/groue/GRDB.swift">GRDB.swift</a>
<ul>
<li>
<p><a href="https://github.com/groue/GRDB.swift/blob/master/Documentation/WhyAdoptGRDB.md">Why Adopt GRDB?</a></p>
<details>
      <summary>笔记概览</summary>
<ul>
<li>核心原则
<ul>
<li>通过「Record Types」更便捷地访问数据库（ORM）</li>
<li>在必要时能够支持原始 SQL 查询</li>
<li>数据库文件是唯一的真实数据源</li>
<li>基于 SQLite，针对 GUI 客户端应用开发</li>
</ul>
</li>
<li>解决的问题
<ul>
<li>支持任意 Swift struct/class 作为数据库记录（Record）</li>
<li>允许数据库记录跨线程</li>
<li>用数据库更改通知替换自动更新记录（Fetched records behave just like an in-memory cache of the database content. ）</li>
<li>非阻塞数据库读取</li>
<li>强大清晰的多线程保证
<ul>
<li>并发写入</li>
<li>故障隔离</li>
<li>冲突处理</li>
<li>阻塞 UI</li>
</ul>
</li>
<li>可以完全不和原始 SQL 直接交互，但随时可以</li>
</ul>
</li>
</ul>
</details></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="音视频-1"><a class="header" href="#音视频-1">音视频</a></h1>
<p>积跬步，行千里。新领域，心创造。</p>
<ul>
<li><a href="https://github.com/bilibili/ijkplayer">bilibili/ijkplayer</a> - 基于 FFmpeg 的iOS/安卓视频播放器</li>
<li><a href="https://github.com/BradLarson/GPUImage2">GPUImage</a> - 基于 OpenGL ES 的 GPU 加速视频/图片处理框架</li>
</ul>
<h2 id="链接-32"><a class="header" href="#链接-32">链接</a></h2>
<ul>
<li><a href="https://github.com/VideoFlint/Cabbage/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E">Cabbage</a> - iOS 视频编辑核心架构</li>
<li><a href="https://github.com/NextLevel/NextLevel">NextLevel</a> - Rad Media Capture in Swift</li>
<li><a href="https://developer.apple.com/documentation/professional_video_applications">Professional Video Applications - Apple Developer Documentation</a></li>
</ul>
<h3 id="技术说明文档"><a class="header" href="#技术说明文档">技术说明文档</a></h3>
<ul>
<li><a href="https://developer.apple.com/av-foundation/Incorporating-HDR-video-with-Dolby-Vision-into-your-apps.pdf">Incorporating HDR video with Dolby Vision into your apps</a> - 支持杜比视界的 HD</li>
</ul>
<h3 id="学习资源"><a class="header" href="#学习资源">学习资源</a></h3>
<ul>
<li><a href="https://blog.csdn.net/leixiaohua1020">雷霄骅的专栏</a> - 「中国传媒大学一个搞广播电视相关的视音频技术的学生」🌟🌟🌟</li>
<li><a href="https://glumes.com/">音视频开发进阶</a> - 一个抖音多媒体开发工程师的技术交流分享</li>
</ul>
<h3 id="书籍-1"><a class="header" href="#书籍-1">书籍</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://book.douban.com/subject/34947377/">《在线视频技术精要》</a></li>
</ul>
<h3 id="文章"><a class="header" href="#文章">文章</a></h3>
<ul>
<li>
<p><a href="https://www.objc.io/issues/21-camera-and-photos/">Camera and Photos</a> - Objc.io 相机与照片（<a href="https://objccn.io/issue-21-0/">中文</a>）</p>
<ul>
<li><a href="https://objccn.io/issue-21-1">相机工作原理</a> ✅</li>
<li><a href="https://objccn.io/issue-21-2">图片格式</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-3">iOS 上的相机捕捉</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-4">照片框架</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-5">照片扩展</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-6">Core Image 介绍</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-7">GPU 加速下的图像处理</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-8">GPU 加速下的图像视觉</a>  ✅</li>
<li><a href="https://objccn.io/issue-21-9">基于 OpenCV 的人脸识别</a></li>
</ul>
</li>
<li>
<p><a href="https://zhuanlan.zhihu.com/p/38469443">《揭秘微视——视频特效与非线性编辑技术内幕》</a> ✅</p>
</li>
<li>
<p><a href="https://medium.com/the-bergen-company">Dispatches From Darkroom - Medium</a> - Darkroom 博客专栏</p>
<ul>
<li>
<p><a href="https://medium.com/the-bergen-company/improving-your-darkroom-editing-experience-f0ddb66b689e">Improving Your Darkroom Editing Experience</a></p>
<details>
        <summary>笔记概览</summary>
<ul>
<li><strong>图片加载</strong>
<ul>
<li>性能优化</li>
<li>通过预加载，避免不必要的低分辨预览图展示</li>
<li>交互上明确体现相册本地加载和 iCloud 下载的差异</li>
<li>其他优化：
<ul>
<li>编辑图片时，暂停图片库操作，提供更流畅的交互体验</li>
<li>所有图片视图共享同一个图片加载器，确保实时更新、资源共享与性能</li>
<li>降低缓存层内存占用量</li>
</ul>
</li>
</ul>
</li>
<li><strong>RAW + JPG 图片支持</strong>
<ul>
<li>提供默认加载选项</li>
<li>角标标识 RAW 或 JPG</li>
</ul>
</li>
<li><strong>裁切和变换</strong>
<ul>
<li>优化横纵比选项</li>
</ul>
</li>
<li><strong>相册应用扩展</strong>
<ul>
<li>导出性能优化</li>
<li>视频支持 HDR &amp; 缩略图优化</li>
<li>UI 交互优化：双击图片直接添加</li>
</ul>
</li>
</ul>
</details>
</li>
</ul>
</li>
</ul>
<h3 id="经验分享"><a class="header" href="#经验分享">经验分享</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://www.bilibili.com/video/BV1p54y1X7fY">音视频开发工作经验分享</a> - 分享从 Android 客户端转到字节跳动音视频 SDK 开发的经验
<ul>
<li>音视频开发工作主要是做什么</li>
<li>如何点亮音视频技能树</li>
<li>音视频岗位的转行和面试
<ul>
<li>⚠️ 学习和转行是两回事</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="开发社区"><a class="header" href="#开发社区">开发社区</a></h1>
<blockquote>
<p>许多新鲜的坑往往只有在比较活跃的社区才会提及和讨论</p>
</blockquote>
<ul>
<li>
<p><a href="https://developer.apple.com/forums/">Apple Developer forums</a></p>
</li>
<li>
<p><a href="https://www.raywenderlich.com/">Ray Wenderlich</a></p>
</li>
<li>
<p><a href="https://nshipster.com/">nshipster.com</a></p>
</li>
<li>
<p><a href="https://www.objc.io/">objc.io</a></p>
</li>
<li>
<p><a href="https://www.appcoda.com/">AppCoda</a></p>
<ul>
<li><a href="https://www.appcoda.com.tw/">AppCoda 台湾</a></li>
</ul>
</li>
<li>
<p><a href="https://www.pointfree.co/">pointfree.co</a> - Swift ❤️ 函数式编程</p>
</li>
<li>
<p><a href="https://swift.libhunt.com/">LibHut - Awesome Swift</a></p>
</li>
</ul>
<h2 id="订阅"><a class="header" href="#订阅">订阅</a></h2>
<ul>
<li><a href="https://iosdevweekly.com/">iOS Dev Weekly</a></li>
<li><a href="https://github.com/SwiftOldDriver/iOS-Weekly">老司机 iOS 周报</a></li>
<li><a href="https://useyourloaf.com/">Use Your Loaf</a></li>
</ul>
<h2 id="集锦"><a class="header" href="#集锦">集锦</a></h2>
<ul>
<li><a href="https://www.swiftjectivec.com/">Swiftjective-C</a></li>
<li><a href="https://awesome-tips.gitbook.io/ios/">知识小集 GitBook</a></li>
<li><a href="https://tanaschita.com/">Articles about Swift and iOS Development | by Natascha Fadeeva</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xcode"><a class="header" href="#xcode">Xcode</a></h1>
<blockquote>
<p>玩好这把屠龙刀</p>
</blockquote>
<h2 id="快捷键"><a class="header" href="#快捷键">快捷键</a></h2>
<ul>
<li>
<p><code>⌘ + ⇧ + o</code> 快速搜索打开文件</p>
</li>
<li>
<p><code>⌃ + 4/5/6</code> 快速定位工程/文件/方法（输入关键字过滤）</p>
</li>
<li>
<p><code>⌘ + ⇧ + j</code> 快速在目录树跳转定位至当前文件</p>
</li>
<li>
<p><code>⌘ + ⇧ + a</code> 快速展示代码操作选项</p>
</li>
<li>
<p><code>⌘ + ⌃ + e</code> 快速切换至全局编辑当前选中</p>
</li>
<li>
<p><code>⌘ + ⌥ + ←/→</code> 快速折叠/展开当前区块代码</p>
</li>
<li>
<p><code>⌘ + ⌥ + p</code> 快速刷新画布（SwiftUI 等预览）</p>
</li>
<li>
<p><code>⌘ + \</code> 快速在当前行添加/移除调试断点</p>
</li>
<li>
<p><code>⌘ + ;/:</code> 快速检查拼写和语法/展示改正建议</p>
</li>
</ul>
<h2 id="工具集-2"><a class="header" href="#工具集-2">工具集</a></h2>
<ul>
<li><a href="https://docs.tuist.io/">Tuist 🔧</a> - Xcode 工程生成、维护、交互的命令行工具</li>
<li><a href="https://developer.apple.com/wwdc21/10261">notarytool</a> - macOS App 分发验证服务
<pre><code class="language-sh">// with notarytool
notarytool submit path/to/submission.zip --wait
    --key &quot;$KEY_PATH&quot; --key-id &quot;$KEY_ID&quot; --issuer &quot;$ISSUER&quot;
</code></pre>
</li>
<li><a href="https://nshipster.com/simctl/">simctl</a> - 模拟器控制</li>
</ul>
<h2 id="技巧"><a class="header" href="#技巧">技巧</a></h2>
<ul>
<li>
<p>通过 <a href="https://github.com/xcpretty/xcode-install">xcode-install</a> 安装管理 Xcode</p>
<pre><code class="language-sh">gem install xcode-install
</code></pre>
</li>
<li>
<p>为 Class 快速生成初始化方法</p>
<blockquote>
<p>选中类名 &gt; Editor (或直接右键) &gt; Refactor &gt; Generate Memberwise Initializer</p>
</blockquote>
</li>
<li>
<p>运行时切换系统主题样式、文本字号、可访问性等属性
<img src="iOSDev/./assets/xcode_environment_overrides.png" alt="Xcode-Environment Overrides" /></p>
</li>
<li>
<p>双击 <code>{</code> <code>}</code> <code>&quot;</code> 等，可快速选中区块间代码或字符串</p>
</li>
<li>
<p>检查拼写与语法</p>
<blockquote>
<p>Format &gt; Spelling and Grammar &gt; Check Spelling While Typing</p>
</blockquote>
</li>
<li>
<p>Xcode 与模拟器已经支持左右分屏</p>
</li>
<li>
<p>自动补全提示窗口大小支持拉伸</p>
</li>
</ul>
<h3 id="调试-1"><a class="header" href="#调试-1">调试</a></h3>
<ul>
<li><a href="https://developer.apple.com/videos/play/wwdc2021/10209">Discover breakpoint improvements - WWDC21</a>
<ul>
<li>列断点&amp;符号断点</li>
<li>断点 LLDB 符号查找
<code>image lookup -rn funcName ModuleName</code></li>
<li>Runtime Issues Breakpoint</li>
</ul>
</li>
<li><a href="https://developer.apple.com/videos/play/wwdc2019/429/">LLDB: Beyond &quot;po&quot; - WWDC19</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2018/412">Advanced Debugging with Xcode and LLDB - WWDC18</a></li>
</ul>
<h3 id="自定义文件顶部注释"><a class="header" href="#自定义文件顶部注释">自定义文件顶部注释</a></h3>
<ul>
<li>模板（MIT License）</li>
</ul>
<pre><code class="language-plist">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
	&lt;key&gt;FILEHEADER&lt;/key&gt;
	&lt;string&gt;
//  ___FILENAME___
//  ___PROJECTNAME___
//
//  Copyright © ___YEAR___ ___FULLUSERNAME___
//
//  Permission is hereby granted, free of charge, to any person obtaining a copy
//  of this software and associated documentation files (the &amp;quot;Software&amp;quot;), to deal
//  in the Software without restriction, including without limitation the rights
//  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//  copies of the Software, and to permit persons to whom the Software is
//  furnished to do so, subject to the following conditions:
//
//  The above copyright notice and this permission notice shall be included in all
//  copies or substantial portions of the Software.
//
//  THE SOFTWARE IS PROVIDED &amp;quot;AS IS&amp;quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
//  SOFTWARE.
//&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre>
<ul>
<li>放置位置
<ul>
<li><code>&lt;ProjectName&gt;.xcodeproj/xcuserdata/[username].xcuserdatad/IDETemplateMacros.plist</code></li>
<li><code>&lt;ProjectName&gt;.xcodeproj/xcshareddata/IDETemplateMacros.plist</code></li>
<li><code>&lt;WorkspaceName&gt;.xcworkspace/xcuserdata/[username].xcuserdatad/IDETemplateMacros.plist</code></li>
<li><code>&lt;WorkspaceName&gt;.xcworkspace/xcshareddata/IDETemplateMacros.plist</code></li>
<li><code>~/Library/Developer/Xcode/UserData/IDETemplateMacros.plist</code></li>
</ul>
</li>
</ul>
<h2 id="链接-33"><a class="header" href="#链接-33">链接</a></h2>
<ul>
<li>
<p><a href="https://www.notion.so/Xcode-dfbe2d934ff84b2d84e34ffceef56fe0">安裝 Xcode 的正確姿勢</a></p>
<ul>
<li><a href="https://github.com/RobotsAndPencils/XcodesApp">XcodesApp</a> - Xcode 版本管理效率利器
<ul>
<li>GUI 一键安装/激活默认</li>
<li>支持 aria2 多进程全速下载</li>
</ul>
</li>
<li><del><a href="https://github.com/art-divin/XcodeUpdates">XcodeUpdates macOS App</a></del></li>
</ul>
</li>
<li>
<p><a href="https://www.notion.so/ff93434e1b954702a8e552014f119a6b?v=4d88ab84fe8a4551b26d5a1ac13b213b">Xcode 快速鍵與技巧</a></p>
</li>
<li>
<p><a href="https://tomasznazarenko.com/improve-build-times-in-swift-with-xcode/">Improve build times in Swift with Xcode</a> - 优化编译速度</p>
<details>
      <summary>编译参数备忘</summary>
<ul>
<li>-Xfrontend -warn-long-expression-type-checking=400 (apple/swift GitHub)</li>
<li>-Xfrontend -warn-long-function-bodies=400 (apple/swift GitHub)</li>
<li>-Xfrontend -debug-time-function-bodies</li>
</ul>
</details>
</li>
<li>
<p><a href="https://xcodebuildsettings.com/">Xcode Build Settings</a> - 查询各种 Xcode 编译设置项描述定义 🎉</p>
<ul>
<li>TODO: Xcode Build Settings 变量的3种查看技巧</li>
</ul>
</li>
<li>
<p><a href="https://apps.apple.com/cn/app/rocketsim-for-xcode/id1504940162">‎RocketSim for Xcode</a></p>
</li>
<li>
<p><a href="https://xcodereleases.com/">Xcode Releases | xcodereleases.com</a> - Xcode 版本信息合集</p>
</li>
<li>
<p><a href="https://xcmetrics.io/">XCMetrics</a> - 监测追踪 Xcode 编译性能指标</p>
</li>
<li>
<p><a href="http://xcodetips.com/">Xcode Tips</a></p>
</li>
<li>
<p><a href="https://swiftversion.net/">Swift Version</a> - Xcode 和 Swift 版本关系速查</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ios-应用"><a class="header" href="#ios-应用">iOS 应用</a></h1>
<p>有趣、精致或酷的 iOS 应用。</p>
<h2 id="链接-34"><a class="header" href="#链接-34">链接</a></h2>
<ul>
<li><a href="https://lil.software/os/">lil OS</a> - 一系列自造的系统应用</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="android-开发"><a class="header" href="#android-开发">Android 开发</a></h1>
<blockquote>
<p>Google it.</p>
</blockquote>
<h2 id="链接-35"><a class="header" href="#链接-35">链接</a></h2>
<ul>
<li><a href="https://developers.google.cn/">Google 开发者平台</a></li>
<li><a href="https://play.google.com/intl/zh-CN/academy/">Google Play 学院</a></li>
<li><a href="https://developersummit.googlecnapps.cn/">Google 开发者大会</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="生活"><a class="header" href="#生活">生活</a></h1>
<blockquote>
<p>感受每一个当下</p>
</blockquote>
<h2 id="链接-36"><a class="header" href="#链接-36">链接</a></h2>
<ul>
<li><a href="https://justgetflux.com/">f.lux</a> - 改善长时间看屏幕对眼睛和睡眠的伤害，降低蓝光</li>
</ul>
<h3 id="正念冥想"><a class="header" href="#正念冥想">正念冥想</a></h3>
<ul>
<li><a href="https://tide.fm/">潮汐- 睡眠, 专注, 冥想, 呼吸</a> - 「和大自然一起，平静身心」</li>
<li><a href="https://www.bilibili.com/video/BV1uT4y1T74A">三种方法，与孩子一起做正念 | 约格 《生命·成长》第二季 · 此念</a></li>
</ul>
<h3 id="音乐"><a class="header" href="#音乐">音乐</a></h3>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/%E5%8D%A2%E5%A4%9A%E7%BB%B4%E7%A7%91%C2%B7%E4%BC%8A%E8%AF%BA%E7%AC%AC">Ludovico Einaudi</a> —— 意大利当代古典主义音乐作曲家、钢琴家。
<ul>
<li>大都偏舒缓、平静，适合放松和专注</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="故事"><a class="header" href="#故事">故事</a></h1>
<blockquote>
<p>倾听别人的故事，让人生存下去的不是食物，而是故事。</p>
</blockquote>
<h2 id="链接-37"><a class="header" href="#链接-37">链接</a></h2>
<ul>
<li>
<p><a href="http://61.life/">61’s life</a> - Real artists ship.</p>
</li>
<li>
<p>特里 - 开发者&amp;vlogger&amp;穿越机&amp;自学分享者&amp;创业者</p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1NJ41147yz">放弃还是继续？转行做B站UP主两年后的收获、收入以及幕后的付出 - bilibili</a></li>
<li><a href="https://www.youtube.com/watch?v=WlHlTvUlyX4">从自学软件开发到开互联网公司？分享我的编程自学方法 - YouTube</a></li>
</ul>
</li>
<li>
<p><a href="https://blog.cocoafrog.de/how-to/2020/10/14/Joining-Apple.html">My 10 Year Journey to Apple</a></p>
</li>
<li>
<p><a href="https://b23.tv/9Q7jTj">芯片工程师的一天 | 我如何高效工作12小时？</a></p>
<details>
      <summary>观看纪要总结</summary>
<ol>
<li>每日重点和待办事项
<ul>
<li>Notion 管理各项事务</li>
</ul>
</li>
<li>远程工作，保持独立的工作区域</li>
<li>提前准备会议内容</li>
<li>集中时间处理关键任务，避免上下文切换</li>
<li>规划陪伴家人的时间，做好生活与工作的平衡</li>
<li>白天工作主要是工程相关，晚上还会研究科研课题
<ul>
<li>文献阅读工具：Notability</li>
</ul>
</li>
<li>运营社交网络，琐碎任务集中处理</li>
</ol>
</detail>
</li>
<li>
<p><a href="https://www.bilibili.com/video/BV1Zv411q7nT">[半佛×张颖]从废柴变大佬，「顶流投资人」的反转人生 | Rebuild 2020</a></p>
<blockquote>
<p>经纬张颖：极致的去重视自己的时间，才能被财富眷顾</p>
</blockquote>
</li>
<li>
<p><a href="https://lutaonan.com/blog/2020-summary">2020 年终总结 - Randy's Blog</a></p>
</li>
<li>
<p><a href="https://www.bilibili.com/s/video/BV1V7411c7UR">苏妈说，梦做大点，加倍努力！</a> - AMD 的华裔 CEO 苏姿丰的 <a href="https://www.youtube.com/watch?v=xxcJzv_sgHg&amp;ab_channel=MITInstituteEvents">MIT 2017 毕业演讲</a></p>
<blockquote>
<ol>
<li>梦做大点，相信自己能改变世界，迎面最具挑战的问题</li>
<li>敢于冒险，有时甚至是冒大险，但必须确保会从错误中成长</li>
<li>创造机遇，在正确的时间、正确的地点，解决正确的问题——找到世界性难题，并解决它</li>
</ol>
</blockquote>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=dSKDwLgrauQ">Zoom的崛起 &amp; 老袁(EricYuan，袁征)的传奇 - Lindsay说</a></p>
<blockquote>
<ul>
<li>“为了追求极致，思科 WebEx 出走”</li>
<li>做减法：在细分领域，将某一点（语音优先、通话稳定、超低延迟）做到极致，深钻两年时间</li>
<li>在视频会议市场，在 B 端和 C 端之间，瞄准中小企业细分市场
<ul>
<li>C 端做用户增长，中小企业 + B 端做营收</li>
</ul>
</li>
<li>满足痛点与需求，用户快速增长与传播，遇到安全隐患后直面问题去解决</li>
<li>市场重新开拓后，迎面巨头再度入场的挑战</li>
</ul>
</blockquote>
</li>
<li>
<p><a href="https://youtu.be/XkFulQe9EVE">哈佛学生这可怕的超充实一天</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XkFulQe9EVE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="工作"><a class="header" href="#工作">工作</a></h1>
<p>工作本身即是意义的一部分。</p>
<ul>
<li><a href="work/./job-hunt.html">求职</a></li>
<li><a href="work/./career.html">职场发展</a></li>
<li><a href="work/./remote.html">远程工作</a></li>
<li><a href="work/./slashie.html">斜杠/生活</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="求职"><a class="header" href="#求职">求职</a></h1>
<p>定期更新<a href="https://binlogo.github.io/Resume-Track/print.html">个人简历</a>是审视当下工作与未来规划的一种方式。</p>
<blockquote>
<p>辞职、跳槽，应该是出于对未来发展的考量，而不是对现下纷杂事务的逃避。</p>
</blockquote>
<h2 id="链接-38"><a class="header" href="#链接-38">链接</a></h2>
<ul>
<li><a href="https://github.com/readme/guides/first-job-in-tech">Get your first software developer job · GitHub</a> - GitHub Readme 项目出品：如何找到第一份开发者工作，非常适合新人。
<ul>
<li><input disabled="" type="checkbox"/>
结合国内环境翻译整理</li>
</ul>
</li>
<li><a href="https://iosinterviewguide.com/ios-interview-questions-for-senior-developers-in-2020">iOS Interview Questions for Senior Developers in 2020</a></li>
<li><a href="https://cv.ftqq.com/">冷熊简历</a> - Markdown 编写简历</li>
</ul>
<blockquote>
<p>画外音：采用 Markdown 制作简历是个不错的方式，之前就为了做简历，特意开 Bear(熊掌记) 会员，因为输出的 PDF 样式很好看。</p>
</blockquote>
<ul>
<li>
<p><a href="https://trello.com/b/NaN6GOo6/ios-interviews">iOS Interviews - Trello</a> - 一个公开维护的面试题看板</p>
</li>
<li>
<p><a href="https://juejin.im/post/5e397ccaf265da570b3f1b02">阿里、字节：一套高效的iOS面试题 - 掘金</a></p>
<ul>
<li><a href="https://github.com/yuldong/iOS-interviews">尝试解答</a></li>
</ul>
</li>
<li>
<p><a href="https://github.com/h5bp/Front-end-Developer-Interview-Questions">前端工作面试问题</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="职场发展"><a class="header" href="#职场发展">职场发展</a></h1>
<ul>
<li>
<p><a href="work/../reading/act-like-a-leader.html">《能力陷阱》</a></p>
</li>
<li>
<p><a href="https://share.mubu.com/doc/e5QaMhsRX0">如何清单：技术评审要点</a></p>
</li>
<li>
<p><a href="https://developer.apple.com/cn/news/?id=yv6so7ie">工程师的个人发展规划</a> - Wu Duoyi @nwind, 百度</p>
<blockquote>
<p>此生理想、近期计划、今日功课</p>
</blockquote>
</li>
<li>
<p><a href="https://www.yuque.com/zenany/up/high_productivity_work">平侠-研习录：高效工作</a></p>
</li>
</ul>
<h2 id="链接-39"><a class="header" href="#链接-39">链接</a></h2>
<ul>
<li>
<p><a href="https://jobs.netflix.com/culture?lang=%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87">自由与责任 —— Netflix 文化</a></p>
<details>
  <summary>笔记概览</summary>
<ol>
<li>
<p>鼓励员工独立决策</p>
</li>
<li>
<p>公开、广泛、谨慎地共享信息</p>
</li>
<li>
<p>彼此之间坦诚相待</p>
</li>
<li>
<p>只留下高效员工</p>
</li>
<li>
<p>拒绝墨守成规</p>
</li>
</ol>
<blockquote>
<p>如果你想造一艘船，</p>
<p>不要老催人去采木，</p>
<p>忙着分配工作</p>
<p>和发号施令。</p>
<p>而是要激起他们</p>
<p>对浩瀚无垠的</p>
<p>大海的向往。</p>
</blockquote>
</details>
</li>
<li>
<p><a href="https://mp.weixin.qq.com/s/oCEE82Cah2vsE1ivfuLXzg">美团人的写作基本功是如何练成的</a></p>
<details>
      <summary>笔记概览</summary>
<blockquote>
<p>写作是我要带头苦练的基本功，是非常基本的能力。因为一个事情要积累的话，就得书面化。写作看起来和业务没什么关系，但这是一个非常共通的、极其基础的、每天都在发生的事情。大家认为有很多事情不统一、不稳定，没有足够书面化是原因之一。写作是广泛使用的，它适用于每个职能和业务。另一个角度，你要对外传播就得写下来，你想不清楚，就写不出来，或者写出来也觉得很不满意，真正靠即兴发挥是不太靠谱的，要把东西写出来，首先要想的清楚。—— 王兴</p>
</blockquote>
<ul>
<li>什么是写作？（xie zuo，协作😄）
<ul>
<li>用文字去达到合作、说服、调动、拒绝、通知、解释的目的</li>
</ul>
</li>
<li>为什么要写作？
<ul>
<li>高效写作能力，是澄清问题和达成共识的工具</li>
<li>【短期来看】写作可以提升工作开展的效率
<ul>
<li>(1)帮助结构化思维，以更有逻辑的方式去梳理并呈工作成果。</li>
<li>(2)帮助各方迅速对齐信息，再做更有深度的讨论与决策。</li>
<li>(3)会议纪要向各相关方传达，推动下一步工作，落实具体事项。</li>
</ul>
</li>
<li>【长期来看】写作是公司和个人发展与迭代的制胜法宝
<ul>
<li>(1)文档积累：是反思与自我提升的基础，可以经常复盘。</li>
<li>(2)沉淀方法论：这些思考与经验，为团队新人、新事提供很好的教材与发展基础。</li>
<li>(3)决策依据：长期保留的会议纪要，一方面避免相关方决策后出现反复，另一方面可以作为未来复盘战略决策或业务思考的重要依据。</li>
</ul>
</li>
</ul>
</li>
<li>什么情况下要求写作？
<ul>
<li>(1)会议活动</li>
<li>(2)工作汇报：系统化地复盘、总结工作进展或思考，以日志、周报、述职、专题复盘、主题分享等形式，留存宝贵的经验教训。</li>
<li>(3)客户沟通</li>
<li>(4)项目专题：项目设置文档负责人，负责最终项目产出的工作文档，记录每一个阶段SMART的目标并将文档留存，完成后进行整体输出</li>
</ul>
</li>
<li>写作要遵循哪些原则？
<ul>
<li>原则一：Don't Make Me Think</li>
<li>原则二：规范</li>
<li>原则三：结构化</li>
<li>原则四：简洁（KISS：Keep It Short and Simple）</li>
</ul>
</li>
<li>写作有哪些步骤和要点？
<ul>
<li>构思 -&gt; 写作 -&gt; 修改</li>
<li>
<blockquote>
<p>原文查看更多</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</details>
</li>
<li>
<p><a href="https://github.com/VGraupera/1on1-questions">1 on 1 Meeting Questions</a> - One-One 沟通话题集锦，也可以是日常工作和思考的一些问题</p>
<ul>
<li>TODO：可添加到格志日记提示库</li>
<li>TODO：暂未找到中文版本</li>
</ul>
</li>
<li>
<p><a href="https://blog.doist.com/asynchronous-communication/">How Asynchronous Communication Is Transforming Work | Doist</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="远程工作"><a class="header" href="#远程工作">远程工作</a></h1>
<blockquote>
<p>随时随地去创造</p>
</blockquote>
<ul>
<li><a href="work/./articles/how-to-get-a-remote-job-by-writing-in-english.html">如何通过英文写作找到国外的远程工作机会</a></li>
</ul>
<h2 id="链接-40"><a class="header" href="#链接-40">链接</a></h2>
<ul>
<li><a href="https://learndigital.withgoogle.com/digitalgarage-hk/remote-work">Google - 數碼工作坊</a> - 幫助您隨時隨地處理工作、授課和學習</li>
<li><a href="https://remote.com/">Remote.com</a> - 全球招聘支持服务</li>
<li><a href="https://remoteok.com/">remoteok.io</a></li>
<li><a href="https://eleduck.com/">电鸭远程社区</a></li>
<li><a href="https://www.angellist.com/">AngleList</a> - 创业风投
<ul>
<li><a href="https://angel.co/">AngleList</a> - 新创企业工作机会</li>
</ul>
</li>
<li><a href="https://whoishiring.io/">shoishiring.io</a> - Who is hiring?</li>
<li><a href="https://www.flexjobs.com/">flexjobs</a> - FIND A BETTER WAY TO WORK</li>
<li><a href="https://freelancer.com/">freelancer.com</a></li>
<li><a href="https://upwork.com/">upwork</a></li>
<li><a href="https://weworkremotely.com/">We Work Remotely</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="如何通过英文写作找到国外的远程工作机会"><a class="header" href="#如何通过英文写作找到国外的远程工作机会">如何通过英文写作找到国外的远程工作机会</a></h1>
<blockquote>
<p>说明：本文来自<a href="https://www.yuanchengzheshuo.com">远程者说</a>，作者：Michael。如需任何授权，请联系原文作者</p>
<p>阅读后非常受启发，为避免未来原文链接失效仅出于学习与分享目的在此记录。</p>
</blockquote>
<h2 id="中国人从事国外远程工作的困境"><a class="header" href="#中国人从事国外远程工作的困境">中国人从事国外远程工作的困境</a></h2>
<p><strong>找到国外的远程工作不是一件容易的事</strong>，我在很多地方也看到过类似的言论。</p>
<p>一般来说，那些想找但是没找到国外远程工作的人，主要会抱怨这么几点</p>
<ol>
<li>很多人觉得英语不是自己的母语，而且自己英语很差，又没有国外工作和留学的经验，找远程工作面试是一个很大问题</li>
<li>没有拿的出手的项目或者开源项目。</li>
<li>在一些国外外包平台上尝试过竞标，但是失败了。</li>
</ol>
<h2 id="中国人从事国外远程工作的优势"><a class="header" href="#中国人从事国外远程工作的优势">中国人从事国外远程工作的优势</a></h2>
<p>虽然问题确实存在，但是中国人从事国外远程工作，也还是有一些优势的。</p>
<p>国内的IT产业最近几十年飞速发展，IT行业内的工程师普遍技术都很过硬，而且对新技术的接受也很快。</p>
<blockquote>
<p>脱口秀大会-呼兰： 我之前在美国要干两周的活，一问这边的团队，说要三天。我说啊？？？团队说，加加班，两天也行……</p>
</blockquote>
<p>经过国内996的洗礼，即使有些时候外国客户偶尔要求你加个班，国内的工程师认为那都不叫事儿，所以服务态度上，国内工程师很受好评。</p>
<p>欧美的员工由于平均薪资普遍较高，并且有着较好的福利待遇，所以对用人企业来说，人力成本相对中国来说其实是比较高的，所以在成本这块，国内的工程师也是有优势的。</p>
<p>所以如果一个中国工程师技术不错，服务态度好，并且能够降低企业用人成本的话，请问国外的企业有什么理由不雇佣他呢？</p>
<h2 id="为什么国外的工作机会可能更好"><a class="header" href="#为什么国外的工作机会可能更好">为什么国外的工作机会可能更好</a></h2>
<p>上面我从用人企业的角度分析了国内工程师的优势，下面我从工程师的角度出发，为什么国外的工作机会可能更好。</p>
<p>首先说第一点，薪资，这里我们具体一点，做几个简单的算数吧。</p>
<p>如何在国内通过远程工作稳定的月入2w+</p>
<p>你可以先翻翻国内远程招聘的帖子，看看有多少工作机会能达到这个数 (这也跟国内远程接受度比较低有关，但是事实就是这样的工作机会非常少)</p>
<p>如果你是国外远程工作机会，很简单，我们来做算数，朝九晚五，中间一个小时吃饭休息，实际工作时间我们每天按7小时算。</p>
<p>时薪$20在远程工作里面在平均水准以下，让我们就就拿这个数字来算，汇率按7算，一个小时140RMB, 一天7个小时就是980，一个月按20工作日算就是19600。</p>
<p>如果我们按$15算，一个月就是14700，也很不错是不是！</p>
<p>这意味着什么，意味着如果你远程工作拿的是比较低的时薪标准，一个月到手也比很多国内远程工作的薪水高。</p>
<p>剩下的时间我可以自由支配，也可以做自己喜欢的side project，将时薪继续提高。</p>
<p><strong>所以有的时候，努力很重要，但是选择也很重要。</strong></p>
<p>我们已经说了薪资，在继续说另一点，发展机会以及整个生态</p>
<ol>
<li>国外比国内有着更成熟的远程工作文化，有很多小团队开发效率非常高，有机会加入其中可以学习很多东西。</li>
<li>国外的远程机会相对国内来说是非常多的，你可以回老家买个大房子，并且将远程工作这个事情持续做下去。</li>
</ol>
<h2 id="为什么通过英文技术写作能获得远程工作"><a class="header" href="#为什么通过英文技术写作能获得远程工作">为什么通过英文技术写作能获得远程工作</a></h2>
<blockquote>
<p>通过输出有质量的原创技术文章，可以让读者相信你的技术能力和做事态度，从而将部分读者转化为你的客户</p>
</blockquote>
<p>首先你要明白的是，大多数人要找的远程工作并不是Top-Tech岗位，很多国外公司要求你具有扎实的技术技能，扎实的做事能力。而这些东西可以通过什么展示出来呢？</p>
<ol>
<li>文字，你可以通过技术写作来展示专业性，同时，文字输出仅仅是要求你具有英文读写能力，对听说能力没有太高的要求。</li>
<li>音频，视频，这两个对英文听说能力也有要求</li>
<li>个人项目，开源项目。我不是很赞成初学者宅在家里做个人项目或者开源项目来得到工作机会，因为大多数初学者对需求的把握不是很准，很容易做出一个纯炫技产品。</li>
</ol>
<p>综合考虑，其实<strong>英文技术写作是一个对新手友好，门槛较低的方法</strong>, 只不过很多人一直没有意识到而已</p>
<p>还有很多人说，写作太费事情了，我可以直接去外包平台投标来获得工作机会。</p>
<p>其实外包平台一个很大的问题就是<strong>高质量客户的获取</strong>越来越难，你的客户会不停的压价导致你的利润越来越薄。</p>
<p>你或许能在上面接到好项目，但是千万不要指望靠着平台活下去。</p>
<p>综上所述，我们的目的是</p>
<ol>
<li>通过英文技术文章的写作，展示自己在相关领域的专业度，获取潜在客户信任，进而获得工作机会。</li>
<li>通过英文技术文章的写作，提高自己的英语读写能力，从而为后续的国外远程工作打下比较扎实的基础。想象一下，如果你需要回复客户的一个紧急Github issue, 费时费力写半天，时间浪费了，也给客户能力不好的印象</li>
</ol>
<p>接下来我将就英文技术写作这个话题展开。</p>
<h2 id="第一步细分领域"><a class="header" href="#第一步细分领域">第一步：细分领域</a></h2>
<p>现在你决定通过写作来尝试获取远程工作机会，</p>
<p>那么你应该写一些什么呢？</p>
<p>这里，需要引出一个比较重要的概念，<strong>细分领域</strong>。</p>
<p>很多人刚开始尝试远程工作的的时候，很焦虑而且饥不择食，很多时候是别人有什么项目找自己，自己就做什么，或者看到别人发什么项目自己就投什么，完全没有规划，其实这样是很浪费精力和时间的。</p>
<blockquote>
<p>你应该把所有精力和时间放到某一个细分领域，通过一段时间不断的学习，工作和总结成为细分领域的专家，打造口碑并尽量成为细分行业的头部</p>
</blockquote>
<p>现在，你需要确定你所专注的细分领域，确定以后，你以后的文章需要和这个细分领域相关，你以后获得的工作机会也会和这个细分领域相关，你以后将会成为这个细分领域的专家。</p>
<p>不过，细分领域一般都是一个比较相对的概念，比如，前端开发相对于软件开发是一个细分领域，前端开发中的Web组件开发相对于前端开发又是一个细分领域。</p>
<p>这里我提供两种思路:</p>
<ol>
<li>从技术出发，比如你对某个技术特别有经验，或者很看好某个技术以后会火，可以围绕这个技术来挑选细分领域。举例，你对React, Vue很熟悉，你的细分领域就是前端开发</li>
<li>从业务出发，比如你对某个业务领域很有经验，可以围绕这个业务领域来选细分领域。比如，你对第三方支付和支付流程相关很熟悉，你的细分领域就是支付集成。</li>
</ol>
<p>细分领域强迫你审视自己从而聚焦，很多人觉得范围太小了客户很少，其实不必担心。<strong>因为你的客户可以来自全球很多国家，巨大的基数是可以养活你和你的小团队的</strong>。</p>
<p>当你在细分领域站稳脚跟后，可以在以后扩大自己的细分领域。</p>
<h2 id="第二步topic"><a class="header" href="#第二步topic">第二步：Topic</a></h2>
<p>当你选择了自己的细分领域，接下来就是选择你写作的Topic了。</p>
<p>你的细分领域当前肯定存在一些问题，人们在工作中试图解决它，所以编程语言，编程框架，各种产品，等等被开发出来。</p>
<p>但是这个过程中肯定是有做的不完美的地方</p>
<ol>
<li>比如某个解决方案有一些问题，你能不能提出更好的方案</li>
<li>某个框架的文档哪里写的不清楚，你能不能从另外一个角度重新写一篇？</li>
<li>你能不能针对某个框架写一篇好的新手教程？</li>
</ol>
<p>这些都是可以做的地方，如果你不知道写什么，也可以去一些论坛或者问答社区去看看人们一般都有一些什么问题。这可以称之为为你的<code>产品</code>(文章)，做需求分析了。</p>
<ol>
<li>Stackoverflow</li>
<li>Google</li>
<li>quora</li>
<li>Twitter</li>
</ol>
<p>通过以上的分析，其实你可以很清晰的知道当前细分领域的客户存在哪些问题，哪些Topic你写出来，用户会感兴趣。</p>
<p>你可以将Topic做成一个有层次的列表，顶层是一个比较宽泛的Topic, 然后展开很多小Topic，然后把你所有的内容输出都通过一个虚拟的树状图联系起来。</p>
<h2 id="第三步title"><a class="header" href="#第三步title">第三步：Title</a></h2>
<p>当你有了一系列的Topic后，你可以开始写标题了</p>
<p>当别人在社交媒体或者搜索引擎上看到你的内容输出的时候，一开始看到的比较多的都是标题，而且标题在搜索引擎中仍然占据比较重要的比重所以这里我专门说一下。</p>
<ol>
<li>标题应该简短并且意思明确</li>
<li>标题中出现的比较关键的词汇应该也在你的文中多次出现，避免别人和搜索引擎认为你挂羊头卖狗肉。</li>
</ol>
<p>一般的文章标题其实是有一些固定格式的，比如<code>How to</code>, <code>xxx Guide</code>类似这种，你平时可以多留意。</p>
<p>这里我推荐大家可以去看看Digital Ocean里面的教程文章，它的标题和文章结构值得初学者学习。</p>
<h2 id="第四步文章框架"><a class="header" href="#第四步文章框架">第四步：文章框架</a></h2>
<p>当你有了一个标题后，接下来就是需要写文章了。</p>
<p>在写作之前，你应该先构思一个文章大纲，并且确保子标题清晰易懂，文章结构逻辑清晰。(你可以先把子标题完成，这样对整体结构会有一个比较好的把控)</p>
<p>这里我给大家提供一个比较好的模板，你可以根据自己的需要进行修改。</p>
<p>https://github.com/do-community/do-article-templates</p>
<p>这是DigitalOcean的文章模板，很清晰直白，很适合新手学习写文章。</p>
<p>Note: step 1, step 2这样的子标题能让读者很清晰的知道每一步该做什么，如果你之前没有这样做过，不妨一试。</p>
<h2 id="第五步写作"><a class="header" href="#第五步写作">第五步：写作</a></h2>
<p>当你刚开始写的时候，很多语句会不知道表达，不要着急，慢慢写就好了，就好像小朋友学说话，说着说着就流利了。</p>
<p>这里没有太多的技巧性的东西，不过我可以像大家分享一些我认为不错的工具。</p>
<ol>
<li>https://ludwig.guru/ https://linggle.com/ 这两个工具可以在你弄不清楚句子短语如何写的时候帮助你。</li>
<li>https://app.grammarly.com/ 这个会查找纠正你的语法错误，错别字，一般你可以在文章的Review阶段使用它。</li>
</ol>
<p>另外就是当你开始写作之后，有时间也要养成看其他英文文章的习惯，有时候会发现自己不会写的句子原来可以这样写，然后一下子就会记住，下次就不知不觉写出来了。</p>
<p>熟能生巧，经过一段时间的联系，平时跟客户文字沟通的时候，你会发现你的英语会流畅很多，如果时间再久一点，你会发现写作其实对你的听说能力也有很大的帮助。</p>
<p>写作的字数可以慢慢试着增加，让读者5-10分钟左右读完是一个比较不错的字数区间，但是也要切记不要为了堆砌字数而加废话。</p>
<h2 id="第六步渠道"><a class="header" href="#第六步渠道">第六步：渠道</a></h2>
<p>当你写完了文章以后，你要把文章发布出去。</p>
<p>你可以在Github上放一个静态博客，这个博客里面只有你的英文技术文章，博客主题挑个自己觉得看着顺眼的，如果哪里觉得不满意，想改代码，暂且先放一放，内容才是这里的核心。</p>
<p>当你把文章写出来后，你可以放到自己博客上，然后把博客的链接分享在一些国外的社交媒体上。</p>
<p>这里我不具体列出哪些社交媒体，如果你自己稍作搜索，就能找到答案。</p>
<h2 id="第七步读者反馈"><a class="header" href="#第七步读者反馈">第七步：读者反馈</a></h2>
<p>你需要提供一种用户反馈的方式，这些方式不仅限于。</p>
<ol>
<li>留言, 比如Disqus</li>
<li>你的个人邮箱，或者邮件列表</li>
<li>你的社交账号，比如Github, Twitter</li>
</ol>
<p>这里有若干tips</p>
<ol>
<li>注意倾听你的读者反馈，而不是把他们当成一个访客数字。如果你这一步做的好其实可以很准确的把握一些潜在需求，从而获取工作机会。</li>
<li>聚焦你的细分领域，不要提供超出你的细分领域之外的帮助（至少初始阶段请这样做，避免分散精力）</li>
</ol>
<h2 id="第八步坚持"><a class="header" href="#第八步坚持">第八步：坚持</a></h2>
<p>开始阶段，由于英语的不熟练，写作进度会很慢，一段时间看不到效果，很多人心里也会打退堂鼓。</p>
<p>而且搜索引擎对于新的网站，有一个类似试用期的机制，等过了这段时期，相关的自然搜索流量就会上来。</p>
<p>所以你需要做的是坚持写作，这也是这个方法最<strong>难</strong>的地方。</p>
<h2 id="第八步收获"><a class="header" href="#第八步收获">第八步：收获</a></h2>
<p>当你写了一段时间后，搜索引擎和社交引擎积累了一定的数据，确定你的文章都是原创并且质量很高，就会更多的展示给其他读者。</p>
<p>与此同时，你的联系人里面，邮件列表里面有了很多人，你可以从他们身上获取很多有用的反馈，促使你继续写出更好的文章。</p>
<p>你的英语水平慢慢提升，已经足以应付日常的英语交流。</p>
<p>另外一些读者，会询问能否雇佣你你帮助做一些项目，慢慢的，你的远程生涯通过写作开始了。。。</p>
<h2 id="总结"><a class="header" href="#总结">总结</a></h2>
<p>这篇文章我详细的讲了如何通过技术写作来获得国外远程工作的机会，希望通过这篇文章帮助更多的开发者出海</p>
<p>找到国外远程工作的方法很多，不止这一个，但是这个方法几乎所有人都可以使用，而且效果还很不错。</p>
<p>不经历风雨，怎能见彩虹，希望所有的远程开发者都能靠自己的努力过上自己理想的生活</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="斜杠生活"><a class="header" href="#斜杠生活">斜杠/生活</a></h1>
<blockquote>
<p>一个人就是一支队伍</p>
</blockquote>
<h2 id="链接-41"><a class="header" href="#链接-41">链接</a></h2>
<ul>
<li><a href="http://r.ftqq.com/howto-make-more-money/">程序员如何优雅地挣零花钱</a></li>
<li><a href="https://www.infoq.cn/article/m30vgKXW9AlVzo9CZoAy">做独立开发者两年了，我是这样赚钱的</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="产品"><a class="header" href="#产品">产品</a></h1>
<blockquote>
<p>产品经理：能够<strong>独当一面</strong>做好让<strong>用户</strong>满意的<strong>产品</strong>的人</p>
<ul>
<li>核心工作：决定什么是“正确的事”，推动做好“正确的事”</li>
<li>核心能力：
<ul>
<li>同理心，换位思考</li>
<li>清晰深刻的<strong>思维</strong>，极简主义：或许不可以增长智商，但可以简化问题</li>
</ul>
<hr />
<ul>
<li>大视野</li>
<li>组建一个没有短板的团队</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="团队协作"><a class="header" href="#团队协作">团队协作</a></h2>
<ul>
<li><a href="https://www.okr.com/">OKR.com</a> - 理念与实践，一站式掌握 OKR。由字节跳动·飞书支持。</li>
<li><a href="https://mentorcruise.com/">MentorCruise - Connecting Mentors &amp; Mentees in Tech</a> - 连接导师的平台</li>
<li><a href="https://quire.io/">Quire - Dream. Plan. Achieve.</a> - 任务协同</li>
<li><a href="https://height.app/">Height</a> - 项目管理协同工具</li>
</ul>
<h2 id="文档协作"><a class="header" href="#文档协作">文档协作</a></h2>
<ul>
<li><a href="https://hackmd.io/">HackMD</a> - Markdown 协作知识库</li>
<li><a href="https://marp.app/">Marp: Markdown Presentation Ecosystem</a> - Markdown 制作演示幻灯片</li>
</ul>
<h2 id="创作平台"><a class="header" href="#创作平台">创作平台</a></h2>
<ul>
<li><a href="https://substack.com/">Substack</a> - Newsletter 付费订阅平台</li>
<li><a href="https://typefully.app/">Typefully - Twitter Threads Maker &amp; Analytics</a></li>
</ul>
<h2 id="视频剪辑"><a class="header" href="#视频剪辑">视频剪辑</a></h2>
<ul>
<li><a href="https://app.clipchamp.com/">Clipchamp - free video editor &amp; video maker</a> - 微软旗下「视频云剪辑」</li>
<li><a href="https://www.frame.io/">Frame.io | Video Review and Collaboration Software</a> - 视频剪辑工作流协同工具</li>
</ul>
<h2 id="tobb-for-business"><a class="header" href="#tobb-for-business">ToB(B for business)</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://mp.weixin.qq.com/s/3C43vxrxbkMhNQAdojG0bg">13000字的Figma研究笔记，聊聊Product-Led Growth的误区与思考</a></li>
<li><a href="https://www.apple.com/business/">Apple at Work</a> - Apple 的 ToB 服务
<ul>
<li><a href="https://www.apple.com/business/essentials/">Apple Business Essentials</a></li>
</ul>
</li>
<li><a href="https://canny.io/">Canny: Customer Feedback Management Tool</a> - 客户反馈管理工具
<ul>
<li>来源与示例：https://cubox.canny.io/</li>
</ul>
</li>
</ul>
<h2 id="搜索引擎"><a class="header" href="#搜索引擎">搜索引擎</a></h2>
<ul>
<li><a href="https://www.listennotes.com/">Listen Notes: The best podcast search engine</a> - 播客「全能」搜</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="设计"><a class="header" href="#设计">设计</a></h1>
<p>美即生产力，美即意义。</p>
<h2 id="链接-42"><a class="header" href="#链接-42">链接</a></h2>
<ul>
<li><a href="https://primer.style/">Primer Design System</a> - GitHub 的设计系统</li>
<li><a href="https://backpack.github.io/">Backpack</a> - 设计资源合集</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="开源"><a class="header" href="#开源">开源</a></h1>
<p>二进制运转着的这个世界，开源功不可没。向顶尖的代码学习，并贡献一份力量。</p>
<h2 id="我的项目-"><a class="header" href="#我的项目-">我的项目 🚀</a></h2>
<ul>
<li>
<p><a href="https://github.com/Binlogo/iOS-Practice-Checklist">iOS 实践与精进检查清单</a></p>
</li>
<li>
<p><a href="https://github.com/Binlogo/Exercism-Rust-Track">Exercism-Rust-Track</a> - Exercism Rust 题解</p>
</li>
<li>
<p><a href="https://github.com/Binlogo/LeetCode-Swift-Track">LeetCode-Swift-Track</a> - LeetCode 💖 Swift，攻克数据结构与算法</p>
</li>
<li>
<p><a href="https://github.com/Binlogo/SimpleTracer">SimpleTracer</a></p>
<p>基于 ping 并采用 Swift 构建的简单 <code>traceroute</code>，用于检测客户端与服务主机之间的网络状况。</p>
</li>
</ul>
<h2 id="参与贡献的项目-"><a class="header" href="#参与贡献的项目-">参与贡献的项目 ❤️</a></h2>
<ul>
<li><a href="https://github.com/caiyue1993/IceCream">IceCream</a> - Realm 数据库与 CloudKit 同步</li>
<li><a href="https://github.com/ochococo/Design-Patterns-In-Swift">Design Patterns in Swift</a> - Swift 示例实现的设计模式阐释</li>
<li><a href="https://github.com/Alamofire/Alamofire">Alamofire</a> - Swift 网络库</li>
<li><a href="https://github.com/soapyigu/LeetCode-Swift">LeetCode by Swift</a> - LeetCode 的 Swift 题解</li>
<li><a href="https://github.com/missing-semester-cn/missing-semester-cn.github.io">The Missing Semester of Your CS Education</a> - 计算机教育中缺失的一课·MIT</li>
</ul>
<h2 id="链接-43"><a class="header" href="#链接-43">链接</a></h2>
<ul>
<li><a href="https://www.codetriage.com/">CodeTriage</a> - 通过邮件追踪订阅关注的开源项目，为开源社区贡献的同时提升开发与协同能力</li>
<li><a href="http://opensource.apple.com">Apple Open Source</a> - Open Source at Apple.</li>
<li><a href="https://ferrous-systems.com/open-source/">Open Source at Ferrous Systems</a>
<ul>
<li>Ferrous Systems: 一个提供 Rust 专业咨询、培训服务的组织</li>
</ul>
</li>
<li><a href="https://sourcegraph.com">SourceGraph</a> - 代码搜索引擎，Chrome 扩展支持 GitHub 代码跳转，超好用</li>
<li><a href="https://github.com/readme">The ReadME project · GitHub</a> —— GitHub 出品的 ReadME 项目博客，发现更多开源项目背后的故事与方法论</li>
<li><a href="https://www.bilibili.com/video/av92525472/">《尤雨溪创立vue的心路历程》 Vue.js - The Documentary</a></li>
<li><a href="https://uber.github.io/#/projects">Uber 开源项目</a></li>
<li><a href="https://www.makeareadme.com/">Make a README</a></li>
<li><a href="https://github.com/kefranabg/readme-md-generator">readme-md-generator</a></li>
<li><a href="https://opensource.guide/zh-hans/">开源软件指南</a></li>
<li><a href="https://gitee.com/opensource-guide/">开源指北 - Gitee</a></li>
</ul>
<h3 id="工具-2"><a class="header" href="#工具-2">工具</a></h3>
<ul>
<li><a href="https://git.io/">Git.io</a> - GitHub 的短链接服务
<ul>
<li>Try it: https://git.io/JML4o</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="github"><a class="header" href="#github">GitHub</a></h1>
<blockquote>
<p>Open Source Land.</p>
</blockquote>
<h2 id="使用技巧"><a class="header" href="#使用技巧">使用技巧</a></h2>
<ul>
<li>命令快捷面板：macOS: <code>⌘ k</code> or <code>⌘ opt k</code>
<img src="open-source/./assets/github-command-palette.png" alt="command-palette" />
<ul>
<li><a href="https://docs.github.com/en/get-started/using-github/github-command-palette">文档说明</a></li>
</ul>
</li>
</ul>
<h2 id="链接-44"><a class="header" href="#链接-44">链接</a></h2>
<ul>
<li><a href="https://www.githubuniverse.com/">GitHub Universe</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="遇见天才"><a class="header" href="#遇见天才">遇见天才</a></h1>
<p>Meet geniuses. They are awesome.</p>
<ul>
<li><strong>Brian</strong>: GitHub 的产品设计师
<ul>
<li>Website: https://brianlovin.com/ - 十分特别的一个博客，打磨得像是应用级的产品。</li>
</ul>
</li>
</ul>
<h2 id="rust-related-field"><a class="header" href="#rust-related-field">Rust related field</a></h2>
<ul>
<li>
<p><strong>Amos</strong>: rust &amp; systems programming, writing a great tech blog about rust.</p>
<ul>
<li>Website: https://fasterthanli.me/</li>
<li>GitHub: https://github.com/fasterthanlime</li>
<li>Twitter: https://twitter.com/fasterthanlime</li>
</ul>
</li>
<li>
<p><strong>陈天（TyrChen）</strong>：Tech VP @Tubi Inc.</p>
<ul>
<li>GitHub: https://github.com/tyrchen</li>
<li>知乎：https://zhuanlan.zhihu.com/prattle</li>
<li>微信公众号：程序人生（programmer_life）
<ul>
<li><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NDM0ODQwMw==&amp;action=getalbum&amp;album_id=1701598373151047680&amp;scene=173&amp;from_msgid=2649828871&amp;from_itemidx=1&amp;count=3&amp;nolastread=1#wechat_redirect">Rust系列文章</a></li>
</ul>
</li>
<li>哔哩哔哩：https://space.bilibili.com/39222989</li>
</ul>
</li>
<li>
<p><a href="https://hoverbear.org/">Hoverbear</a></p>
</li>
<li>
<p><a href="https://gankra.github.io/blah/">Corruption Cat</a></p>
</li>
</ul>
<h2 id="ios--swift--rust"><a class="header" href="#ios--swift--rust">iOS · Swift · Rust</a></h2>
<ul>
<li>
<p><strong>Nikolai Vazquez</strong>：iOS + Rust @fullstory</p>
<ul>
<li>GitHub: https://github.com/nvzqz</li>
<li>Twitter: https://twitter.com/NikolaiVazquez</li>
<li>Other: https://github.com/rustswift</li>
</ul>
</li>
</ul>
<h2 id="ios-dev-related-field"><a class="header" href="#ios-dev-related-field">iOS Dev related field</a></h2>
<ul>
<li>
<p><strong>Sergej Jaskiewicz</strong>：Compiler engineer and iOS developer</p>
<ul>
<li>Website：http://jaskiewiczs.com/</li>
<li>GitHub：https://github.com/broadwaylamb</li>
<li>Twitter：https://twitter.com/broadway_lamb</li>
</ul>
</li>
<li>
<p><strong>Felix Krause</strong>：Founder of fastlane.tools</p>
<ul>
<li>Website：https://krausefx.com/</li>
<li>GitHub：https://github.com/KrauseFx</li>
<li>Twitter：https://twitter.com/KrauseFx</li>
</ul>
</li>
<li>
<p><strong>Marin Todorov</strong>：An independent developer and publisher</p>
<ul>
<li>Website: http://www.underplot.com/</li>
<li>GitHub: https://github.com/icanzilb</li>
<li>Twitter: https://twitter.com/icanzilb</li>
</ul>
</li>
<li>
<p><a href="https://twitter.com/aciidb0mb3r">Ankit Aggarwal</a></p>
</li>
<li>
<p><a href="https://twitter.com/harlanhaskins">Harlan Haskins</a></p>
</li>
<li>
<p><a href="https://twitter.com/nnnnnnnn">Nate Cook</a></p>
</li>
<li>
<p><a href="https://twitter.com/slava_pestov">Slava Pestov</a></p>
</li>
<li>
<p><a href="https://twitter.com/tkremenek">Ted Kremenek</a></p>
</li>
<li>
<p><a href="https://twitter.com/simjp">JP Simard</a></p>
</li>
<li>
<p><a href="https://twitter.com/daniel_dunbar">Daniel Dunbar</a></p>
</li>
<li>
<p><a href="https://twitter.com/dgregor79">Doug Gregor</a></p>
</li>
<li>
<p><a href="https://twitter.com/jckarter">Joe Groff</a></p>
</li>
<li>
<p><a href="https://twitter.com/AirspeedSwift">Ben Cohen</a></p>
</li>
<li>
<p><a href="https://twitter.com/tanner0101">Tanner Wayne Nelson</a></p>
</li>
<li>
<p><a href="https://twitter.com/ashfurrow">Ash Furrow</a></p>
</li>
<li>
<p><a href="https://twitter.com/olebegemann">Ole Begemann</a></p>
</li>
<li>
<p><a href="https://twitter.com/_bartjacobs">Bart Jacobs</a></p>
</li>
<li>
<p><a href="https://twitter.com/daveverwer">Dave Verwer</a></p>
</li>
<li>
<p><a href="https://twitter.com/rwenderlich">Ray Wenderlich</a></p>
</li>
<li>
<p><a href="https://twitter.com/objcio">objc.io</a></p>
</li>
<li>
<p><a href="https://twitter.com/NSHipster">NSHipster</a></p>
</li>
<li>
<p><a href="https://twitter.com/merowing_">Krzysztof Zabłocki</a></p>
</li>
<li>
<p><a href="https://twitter.com/krzyzanowskim">Marcin Krzyzanowski</a></p>
</li>
<li>
<p><a href="https://twitter.com/steipete">Peter Steinberger</a></p>
</li>
<li>
<p><a href="https://twitter.com/chriseidhof">Chris Eidhof</a></p>
</li>
<li>
<p><a href="https://twitter.com/khanlou">soroush</a></p>
</li>
<li>
<p><a href="https://twitter.com/ericasadun">ericasadun</a></p>
</li>
<li>
<p><a href="https://twitter.com/clattner_llvm">Chris Lattner</a></p>
</li>
<li>
<p><a href="https://twitter.com/siracusa">John Siracusa</a></p>
</li>
<li>
<p><a href="https://twitter.com/seanallen_dev">Sean Allen</a></p>
</li>
<li>
<p><a href="https://twitter.com/marcoarment">Marco Arment</a></p>
</li>
<li>
<p><a href="https://twitter.com/twostraws">Paul Hudson</a></p>
</li>
<li>
<p><a href="https://twitter.com/johnsundell">John Sundell</a></p>
</li>
</ul>
<hr />
<p>Thanks to all of them👆. </p>

                    <!-- Comments powered by giscus.app -->
                    <div id="comments" class="giscus">
                        <script src="https://giscus.app/client.js" data-repo="Binlogo/Knowledge-Track"
                            data-repo-id="MDEwOlJlcG9zaXRvcnkyNDc1MTA2ODg=" data-category="Announcements"
                            data-category-id="DIC_kwDODsC2oM4B_hm2" data-mapping="pathname" data-reactions-enabled="1"
                            data-emit-metadata="0" data-theme="light" crossorigin="anonymous" async>
                            </script>
                    </div>
                </main>

                <nav class="nav-wrapper" aria-label="Page navigation">
                    <!-- Mobile navigation buttons -->
                    <div style="clear: both"></div>
                </nav>
            </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">
        </nav>

    </div>

    <!-- Google Analytics Tag -->
    <script type="text/javascript">
        var localAddrs = ["localhost", "127.0.0.1", ""];

        // make sure we don't activate google analytics if the developer is
        // inspecting the book locally...
        if (localAddrs.indexOf(document.location.hostname) === -1) {
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-160717450-2', 'auto');
            ga('send', 'pageview');
        }
    </script>
    <script type="text/javascript">
        window.playground_copyable = true;
    </script>
    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
    <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
    <script src="book.js" type="text/javascript" charset="utf-8"></script>

    <!-- Custom JS scripts -->
    <script type="text/javascript">
        window.addEventListener('load', function () {
            window.setTimeout(window.print, 100);
        });
    </script>
</body>

</html>